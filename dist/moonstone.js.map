{"version":3,"sources":["lib/moonstone/src/options.js","lib/moonstone/src/i18n.js","lib/moonstone/src/resolution.js","lib/moonstone/src/fonts.js","lib/moonstone/src/ExpandableListItem/ExpandableListItemDrawer.js","lib/moonstone/index.js","lib/moonstone/src/BodyText/BodyText.js","lib/moonstone/src/HistorySupport/HistorySupport.js","lib/moonstone/src/MoonAnimator/MoonAnimator.js","lib/moonstone/src/MoonArranger/MoonArranger.js","lib/moonstone/src/StyleAnimator/StyleAnimator.js","lib/moonstone/src/Icon/Icon.js","lib/moonstone/src/Clock/Clock.js","lib/moonstone/src/Tooltip/Tooltip.js","lib/moonstone/src/VideoInfoBackground/VideoInfoBackground.js","lib/moonstone/src/HighlightText/HighlightText.js","lib/moonstone/src/Scrim/Scrim.js","lib/moonstone/src/RichText/RichText.js","lib/moonstone/src/TextArea/TextArea.js","lib/moonstone/src/ScrollThumb/ScrollThumb.js","lib/moonstone/src/ProgressBar/ProgressBar.js","lib/moonstone/src/Input/Input.js","lib/moonstone/src/Scrollable/Scrollable.js","lib/moonstone/src/IconButton/IconButton.js","lib/moonstone/src/Checkbox/Checkbox.js","lib/moonstone/src/VideoFeedback/VideoFeedback.js","lib/moonstone/src/Marquee/Marquee.js","lib/moonstone/src/InputDecorator/InputDecorator.js","lib/moonstone/src/ContextualPopup/ContextualPopup.js","lib/moonstone/src/VideoFullscreenToggleButton/VideoFullscreenToggleButton.js","lib/moonstone/src/NewPagingControl/NewPagingControl.js","lib/moonstone/src/PagingControl/PagingControl.js","lib/moonstone/src/Slider/Slider.js","lib/moonstone/src/ToggleSwitch/ToggleSwitch.js","lib/moonstone/src/Button/Button.js","lib/moonstone/src/Overlay/Overlay.js","lib/moonstone/src/Spinner/Spinner.js","lib/moonstone/src/ChannelInfo/ChannelInfo.js","lib/moonstone/src/Item/Item.js","lib/moonstone/src/VideoInfoHeader/VideoInfoHeader.js","lib/moonstone/src/Divider/Divider.js","lib/moonstone/src/Header/Header.js","lib/moonstone/src/ScrollControls/ScrollControls.js","lib/moonstone/src/ScrollStrategy/ScrollStrategy.js","lib/moonstone/src/VideoTransportSlider/VideoTransportSlider.js","lib/moonstone/src/ToggleButton/ToggleButton.js","lib/moonstone/src/ContextualPopupDecorator/ContextualPopupDecorator.js","lib/moonstone/src/TooltipDecorator/TooltipDecorator.js","lib/moonstone/src/Image/Image.js","lib/moonstone/src/CheckboxItem/CheckboxItem.js","lib/moonstone/src/LabeledTextItem/LabeledTextItem.js","lib/moonstone/src/Panel/Panel.js","lib/moonstone/src/InputHeader.js","lib/moonstone/src/NewDataList/NewDataList.js","lib/moonstone/src/Scroller/Scroller.js","lib/moonstone/src/VideoPlayer/VideoPlayer.js","lib/moonstone/src/ListActions/ListActions.js","lib/moonstone/src/ApplicationCloseButton/ApplicationCloseButton.js","lib/moonstone/src/GridListImageItem/GridListImageItem.js","lib/moonstone/src/ToggleItem/ToggleItem.js","lib/moonstone/src/ImageItem/ImageItem.js","lib/moonstone/src/ExpandableListItem/ExpandableListItemHeader.js","lib/moonstone/src/Panels/Panels.js","lib/moonstone/src/ExpandableListItem/ExpandableListItem.js","lib/moonstone/src/ExpandablePicker/ExpandablePicker.js"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACnBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AC7BA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACfA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACpLA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AClGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACzCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACvFA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACpGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AC7RA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AClJA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACtmBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACrVA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACrRA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACthBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AC7EA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AC7NA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACzCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACpKA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACvIA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACjLA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AC7yBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AC1LA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AC5OA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACrPA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACzIA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AC9WA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AC3vCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AC9aA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACvpBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACvFA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACjVA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AC1YA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AC9jCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AC3DA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACvSA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AClrBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACxPA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACnPA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACjHA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AC3NA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACpEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AChyBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AChTA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AC/yCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACv/BA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AC3NA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AC9KA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACvMA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AC5LA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AC7TA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACpIA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACtgBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACxEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACjJA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACtkBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACpvEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACxUA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACzKA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACtIA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AC3DA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACzJA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACrEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AC56DA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACzcA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"generated.js","sourceRoot":"","sourcesContent":["var\n\tutils = require('enyo/utils'),\n\toptions = require('enyo/options');\n\nvar config = global.moon && global.moon.config;\n\n/**\n* Global *design-time* configuration options for Moonstone\n*\n* @param {Boolean} Set accelerate `false` to prefer position properties over CSS transforms.\n* @module moonstone/options\n*/\nmodule.exports = utils.mixin({\n\t/** @lends module:moonstone/options */\n\taccelerate: true,\n\trenderOnShow: {\n\t\texpandableListDrawer: true\n\t}\n}, options, config);\n","var\n\tResBundle = require('enyo-ilib/ResBundle');\n\n/**\n* Localized strings from [iLib]{@link ilib} translations.\n*\n* @param {String} string - String to be localized.\n* @returns {String} Localized string.\n* @name moon.$L\n* @public\n*/\nvar $L = function (string) {\n\tif (!$L.rb) {\n\t\treturn string;\n\t}\n\tvar str = $L.rb.getString(string);\n\treturn str.toString();\n};\n$L.rb = new ResBundle({\n\tloadParams: {\n\t\troot: 'moonstone/resources'\n\t}\n});\n\n/**\n* Exports the `$L()` i18n function from [iLib]{@link ilib}.\n* @module moonstone/i18n\n*/\nmodule.exports = $L;\n","/**\n* Defines TV-specific resolution values. See {@link module:enyo/resolution} for more details.\n* @module moonstone/resolution\n*/\nvar\n\tri = require('enyo/resolution');\n\nri.defineScreenTypes([\n\t{name: 'hd',      pxPerRem: 16, width: 1280, height: 720,  aspectRatioName: 'hdtv'},\n\t{name: 'fhd',     pxPerRem: 24, width: 1920, height: 1080, aspectRatioName: 'hdtv', base: true},\n\t{name: 'uw-uxga', pxPerRem: 24, width: 2560, height: 1080, aspectRatioName: 'cinema'},\n\t{name: 'uhd',     pxPerRem: 48, width: 3840, height: 2160, aspectRatioName: 'hdtv'}\n]);\n\nmodule.exports = ri;\n","/**\n* This module loads Moonstone specific fonts. It has no exports and is not inteded to be directly\n* included by external developers.\n*\n* @private\n* @module moonstone/fonts\n*/\n\nvar\n\ti18n = require('enyo/i18n');\n\nvar\n\tLocale = require('enyo-ilib/Locale');\n\n/**\n* `moon-fonts` is the locale-specific font generator, allowing any locale to have its own custom\n* font. Each locale-font from the configuration block (defined in this file) is generated at\n* run-time. If the locale you're currently in is in the locale-font list an additional\n* `@font-face` rule will be generated that will override the standard \"Moonstone LG Display\"\n* font.\n*\n* Below is example genarated-output of the Urdu (\"ur\") locale-font.\n*\n* ```css\n* &#64;font-face {\n* \tfont-family: 'Moonstone LG Display ur';\n* \tfont-weight: normal;\n* \tsrc: local('LG Display_Urdu');\n* \tunicode-range: U+0600-U+06FF, U+FE70-U+FEFE, U+FB50-U+FDFF;\n* }\n* &#64;font-face {\n* \tfont-family: 'Moonstone LG Display ur Bold';\n* \tfont-weight: normal;\n* \tsrc: local('LG Display_Urdu');\n* \tunicode-range: U+0600-U+06FF, U+FE70-U+FEFE, U+FB50-U+FDFF;\n* }\n* &#64;font-face {\n* \tfont-family: 'Moonstone LG Display ur Light';\n* \tfont-weight: normal;\n* \tsrc: local('LG Display_Urdu');\n* \tunicode-range: U+0600-U+06FF, U+FE70-U+FEFE, U+FB50-U+FDFF;\n* }\n* ```\n*\n* @name International Fonts\n* @public\n*/\n\nfunction funLocaleSpecificFonts () {\n\tvar loc = new Locale(),\n\t\tlanguage = loc.getLanguage(),\n\t\tregion = loc.getRegion(),\n\t\tstyleId = 'enyo-localization-font-override',\n\t\tstyleElem = document.getElementById(styleId),\n\t\tfontDefinitionCss = '',\n\t\t// Locale Configuration Block\n\t\tfonts = {\n\t\t\t'NonLatin': {\n\t\t\t\tregular: 'LG Display-Light',\n\t\t\t\tbold:    'LG Display-Regular'\n\t\t\t},\n\t\t\t'ja': {\n\t\t\t\tregular: 'LG Display_JP'\n\t\t\t},\n\t\t\t'en-JP': {\n\t\t\t\tregular: 'LG Display_JP'\n\t\t\t},\n\t\t\t'ur': {\n\t\t\t\tregular: 'LG Display_Urdu',\n\t\t\t\tunicodeRanges:\n\t\t\t\t\t'U+600-6FF,' +\n\t\t\t\t\t'U+FE70-FEFE,' +\n\t\t\t\t\t'U+FB50-FDFF'\n\t\t\t},\n\t\t\t'zh-HK': {\n\t\t\t\tregular: 'LG Display GP4_HK-Light',\n\t\t\t\tbold:    'LG Display GP4_HK-Regular',\n\t\t\t\tunicodeRanges:\n\t\t\t\t\t'U+0-FF,' +\n\t\t\t\t\t'U+2E80-2EFF,' +\n\t\t\t\t\t'U+3000-303F,' +\n\t\t\t\t\t'U+3200-33FF,' +\n\t\t\t\t\t'U+3400-4DBF,' +\n\t\t\t\t\t'U+4E00-9FFF,' +\n\t\t\t\t\t'U+E000-FAFF,' +\n\t\t\t\t\t'U+FF00-FFEF'\n\t\t\t}\n\t\t};\n\n\t// Duplications and alternate locale names\n\tfonts['zh-TW'] = fonts['zh-HK'];\n\n\t// Generate a single font-face rule\n\tthis.buildFont = function(inOptions) {\n\t\tif (!inOptions && !inOptions.name) {\n\t\t\treturn '';\n\t\t}\n\t\tvar strOut = '@font-face { \\n' +\n\t\t\t'  font-family: \"' + inOptions.name + '\";\\n' +\n\t\t\t'  font-weight: ' + ( inOptions.weight || 'normal' ) + ';\\n';\n\n\t\tif (inOptions.localName) {\n\t\t\tstrOut+= '  src: local(\"' + inOptions.localName + '\");\\n';\n\t\t}\n\t\tif (inOptions.unicodeRanges) {\n\t\t\tstrOut+= '  unicode-range: ' + inOptions.unicodeRanges + ';\\n';\n\t\t}\n\t\tstrOut+= '} \\n';\n\t\treturn strOut;\n\t};\n\n\t// Generate a collection of font-face rules, in multiple font-variants\n\tthis.buildFontSet = function(strLang, bitDefault) {\n\t\tvar strOut = '',\n\t\t\tname = (bitDefault) ? '' : ' ' + strLang;\n\n\t\tif (fonts[strLang].regular) {\n\t\t\t// Build Regular\n\t\t\tstrOut+= this.buildFont({\n\t\t\t\tname: 'Moonstone LG Display' + name,\n\t\t\t\tlocalName: fonts[strLang].regular,\n\t\t\t\tunicodeRanges: fonts[strLang].unicodeRanges\n\t\t\t});\n\n\t\t\t// Build Bold\n\t\t\tstrOut+= this.buildFont({\n\t\t\t\tname: 'Moonstone LG Display' + name + ' Bold',\n\t\t\t\tlocalName: fonts[strLang].bold || fonts[strLang].regular,\n\t\t\t\tunicodeRanges: fonts[strLang].unicodeRanges\n\t\t\t});\n\n\t\t\t// Build Light\n\t\t\tstrOut+= this.buildFont({\n\t\t\t\tname: 'Moonstone LG Display' + name + ' Light',\n\t\t\t\tlocalName: fonts[strLang].light || fonts[strLang].regular,\n\t\t\t\tunicodeRanges: fonts[strLang].unicodeRanges\n\t\t\t});\n\t\t}\n\t\treturn strOut;\n\t};\n\n\tif (!styleElem) {\n\t\tstyleElem = document.createElement('style');\n\t\tstyleElem.setAttribute('id', styleId);\n\t\tdocument.head.appendChild(styleElem);\n\t}\n\n\t// Build all the fonts so they could be explicitly called\n\tfor (var lang in fonts) {\n\t\tfontDefinitionCss+= this.buildFontSet(lang);\n\t}\n\n\t// Set up the override so \"Moonstone LG Display\" becomes the local-specific font.\n\tif (language === 'ja') {\n\t\tfontDefinitionCss+= this.buildFontSet('ja', true);\n\t}\n\telse if (language === 'en' && region === 'JP') {\n\t\tfontDefinitionCss+= this.buildFontSet('en-JP', true);\n\t}\n\telse if (language === 'ur') {\n\t\tfontDefinitionCss+= this.buildFontSet('ur', true);\n\t}\n\telse if (language === 'zh' && region === 'HK') {\n\t\tfontDefinitionCss+= this.buildFontSet('zh-HK', true);\n\t}\n\telse if (language === 'zh' && region === 'TW') {\n\t\tfontDefinitionCss+= this.buildFontSet('zh-TW', true);\n\t}\n\n\tstyleElem.innerHTML = fontDefinitionCss;\n}\n\ni18n.updateLocale.extend(function (sup) {\n\treturn function() {\n\t\tsup.apply(this, arguments);\n\t\tfunLocaleSpecificFonts();\n\t};\n});\n\nfunLocaleSpecificFonts();\n","/**\n* Contains the declaration for the {@link module:moonstone/ExpandableListItem/ExpandableListItemDrawer~ExpandableListItemDrawer} kind.\n* @module moonstone/ExpandableListItem/ExpandableListItemDrawer\n*/\n\nvar\n\tkind = require('enyo/kind'),\n\tDrawer = require('enyo/Drawer');\n\nvar\n\toptions = require('../options');\n\n/**\n* @class ExpandableListItemDrawer\n* @extends module:enyo/Drawer~Drawer\n* @ui\n* @private\n*/\nmodule.exports = kind(\n\t/** @lends module:moonstone/ExpandableListItem/ExpandableListItemDrawer~ExpandableListItemDrawer.prototype */ {\n\n\t/**\n\t* @private\n\t*/\n\tname: 'moon.ExpandableListItemDrawer',\n\n\t/**\n\t* @private\n\t*/\n\tkind: Drawer,\n\n\t/**\n\t* @private\n\t*/\n\topen: false,\n\n\t/**\n\t* @private\n\t*/\n\tspotlight: 'container',\n\n\t/**\n\t* @private\n\t*/\n\tspotlightRememberFocus: false,\n\n\t/**\n\t* @private\n\t*/\n\trenderOnShow: options.renderOnShow && options.renderOnShow.expandableListDrawer,\n\n\t/**\n\t* @private\n\t*/\n\tobservers: [\n\t\t{path: 'generated', method: 'resetRendered'}\n\t],\n\n\t/**\n\t* @private\n\t*/\n\topenChanged: function () {\n\t\tif (this.open && this.renderOnShow && !this.showing && !this.generated) this.show();\n\t\tDrawer.prototype.openChanged.apply(this, arguments);\n\t},\n\n\t/**\n\t* Once the rendered phase completes, mark hasRendered to true. This helps work around\n\t* {@link module:enyo/Checkbox~Checkbox} firing onActivate events during it's rendered callback\n\t* that we don't want to interpret as user action.\n\t*\n\t* @private\n\t*/\n\trendered: function () {\n\t\tDrawer.prototype.rendered.apply(this, arguments);\n\t\tthis.hasRendered = true;\n\t},\n\n\t/**\n\t* When generated is set to false, reset hasRendered as well.\n\t*\n\t* @private\n\t*/\n\tresetRendered: function (was, is) {\n\t\tif (!is) this.hasRendered = false;\n\t},\n\n\t// Accessibility\n\n\t/**\n\t* @private\n\t*/\t\n\tariaObservers: [\n\t\t{from: 'open', method: function () {\n\t\t\tthis.setAriaAttribute('aria-hidden', this.open ? null : 'true');\n\t\t}}\n\t]\n});\n","'use strict';\n\n// Many moonstone controls require ilib components but do not directly require the base module which\n// is necessary to include the locale assets.\nrequire('enyo-ilib');\n\nvar\n\tplatform = require('enyo/platform'),\n\tdispatcher = require('enyo/dispatcher'),\n\tgesture = require('enyo/gesture');\n\nexports = module.exports = require('./src/options');\nexports.version = '2.7.0';\n\n// Override the default holdpulse config to account for greater delays between keydown and keyup\n// events in Moonstone with certain input devices.\ngesture.drag.configureHoldPulse({\n\tevents: [{name: 'hold', time: 400}],\n\tendHold: 'onLeave'\n});\n\n/**\n* Registers key mappings for webOS-specific device keys related to media control.\n*\n* @private\n*/\nif (platform.webos >= 4) {\n\t// Table of default keyCode mappings for webOS device\n\tdispatcher.registerKeyMap({\n\t\t415 : 'play',\n\t\t413 : 'stop',\n\t\t19  : 'pause',\n\t\t412 : 'rewind',\n\t\t417 : 'fastforward',\n\t\t461 : 'back'\n\t});\n}\n\n// ensure that these are registered\nrequire('./src/resolution');\nrequire('./src/fonts');\n","require('moonstone');\n\n/**\n* Contains the declaration for the {@link module:moonstone/BodyText~BodyText} kind.\n* @module moonstone/BodyText\n*/\n\nvar\n\tkind = require('enyo/kind'),\n\tControl = require('enyo/Control');\n/**\n* {@link module:moonstone/BodyText~BodyText} is a simple control for displaying body text in an app.\n* It is designed to align with other text-based controls.\n*\n* @class BodyText\n* @extends module:enyo/Control~Control\n* @ui\n* @public\n*/\nmodule.exports = kind(\n\t/** @lends module:moonstone/BodyText~BodyText.prototype */ {\n\n\t/**\n\t* @private\n\t*/\n\tname: 'moon.BodyText',\n\n\t/**\n\t* @private\n\t*/\n\tkind: Control,\n\n\t/**\n\t* @private\n\t*/\n\tclasses: 'moon-body-text moon-body-text-spacing moon-body-text-control',\n\n\t/**\n\t*\n\t* When `true`, HTML tags are allowed in the control's content.\n\t*\n\t* @type {Boolean}\n\t* @default true\n\t* @public\n\t*/\n\tallowHtml: true,\n\n\t/**\n\t* @private\n\t* @lends module:moonstone/BodyText~BodyText.prototype\n\t*/\n\tpublished: {\n\n\t\t/**\n\t\t* If `true`, text content is centered; otherwise, it is left-aligned.\n\t\t*\n\t\t* @type {Boolean}\n\t\t* @default false\n\t\t* @public\n\t\t*/\n\t\tcentered: false\n\t},\n\n\t/**\n\t* @private\n\t*/\n\tcreate: function () {\n\t\tControl.prototype.create.apply(this, arguments);\n\t\tthis.centeredChanged();\n\t},\n\n\t/**\n\t* @private\n\t*/\n\tcontentChanged: function () {\n\t\tControl.prototype.contentChanged.apply(this, arguments);\n\t\tthis.detectTextDirectionality();\n\t\tif (this.hasNode()) { this.bubble('onRequestSetupBounds'); }\n\t},\n\n\t/**\n\t* @private\n\t*/\n\tcenteredChanged: function () {\n\t\tthis.applyStyle('text-align', this.centered ? 'center' : null);\n\t}\n});\n","require('moonstone');\n\n/**\n* Mixin that enables support for custom history.\n*\n* @module moonstone/HistorySupport\n*/\n\nvar\n\tEnyoHistory = require('enyo/History'),\n\tkind = require('enyo/kind');\n\n/**\n* {@link module:moonstone/HistorySupport} is a {@glossary mixin} that enables\n* support for custom history. In its current iteration, \"back\" actions are\n* implemented, allowing controls to override and customize the behavior that\n* occurs when the back key is pressed or the `window.history` is utilized.\n*\n* @mixin\n* @public\n*/\nvar HistorySupport = {\n\n\t/**\n\t* @private\n\t*/\n\tname: 'HistorySupport',\n\n\t/**\n\t* @private\n\t*/\n\tpublished: {\n\n\t\t/**\n\t\t* When `true`, pressing the back key will result in control-specific behavior that\n\t\t* corresponds to a \"back\" action.\n\t\t*\n\t\t* @type {Boolean}\n\t\t* @default true\n\t\t* @public\n\t\t*/\n\t\tallowBackKey: true\n\t},\n\n\t/**\n\t* Pushes a default state to the back history, consisting of a reference to our\n\t* handler for any \"back\" actions.\n\t*\n\t* If the default `pushBackHistory()` behavior is to be overridden, make sure\n\t* that the control's implementation of `pushBackHistory()` signifies that it\n\t* has handled the necessary behavior by returning `true`, e.g.:\n\t*\n\t* ```javascript\n\t* \tpushBackHistory: function() {\n\t* \t\t// perform custom operations here\n\t* \t\treturn true;\n\t* \t}\n\t* ```\n\t*\n\t* @method\n\t* @public\n\t*/\n\tpushBackHistory: kind.inherit(function (sup) {\n\t\t// When you use a mixin, it will override existing properties and methods. If a control\n\t\t// that uses `moonstone/HistorySupport` has implemented the `pushBackHistory()` method, the\n\t\t// method will be replaced with the following method. To ensure that the control's\n\t\t// implementation of `pushBackHistory()` is executed, we allow it to run and subsequently\n\t\t// examine its return value.\n\t\treturn function () {\n\t\t\t// check whether this control's `pushBackHistroy` method has effectively handled\n\t\t\t// the call, or whether it wants the inherited method to execute\n\t\t\tif (!sup.apply(this, arguments)) {\n\t\t\t\tEnyoHistory.push({context: this, handler: this.backKeyHandler});\n\t\t\t}\n\t\t\treturn true;\n\t\t};\n\t}),\n\n\t/**\n\t* Handler for whenever a \"back\" action is triggered. The default behavior is to hide the\n\t* control if it is showing.\n\t*\n\t* Most controls will want to override this behavior. If the default behavior should not be\n\t* executed, ensure that the `backKeyHandler()` method in the control signifies that it has\n\t* handled the necessary behavior by returning `true`.\n\t*\n\t* @method\n\t* @public\n\t*/\n\tbackKeyHandler: kind.inherit(function (sup) {\n\t\treturn function () {\n\t\t\tif (!sup.apply(this, arguments)) {\n\t\t\t\tif (this.showing) this.hide();\n\t\t\t}\n\t\t\treturn true;\n\t\t};\n\t})\n};\n\nmodule.exports = HistorySupport;\n","/**\n* Contains the declaration for the {@link module:moonstone/MoonAnimator~MoonAnimator} kind.\n* @module moonstone/MoonAnimator\n*/\n\nrequire('moonstone');\n\nvar\n\tkind = require('enyo/kind'),\n\tutil = require('enyo/utils'),\n\tAnimator = require('enyo/Animator'),\n\tanimation = require('enyo/animation');\n\n\n\n/**\n* {@link module:moonstone/MoonAnimator~MoonAnimator} is an animation for breadcrumb panels.\n*\n* @class MoonAnimator\n* @extends module:enyo/Animator~Animator\n* @public\n*/\nmodule.exports = kind(\n\t/** @lends module:moonstone/MoonAnimator~MoonAnimator.prototype */ {\n\n\t/**\n\t* A context in which to run the specified {@glossary event} handlers. If this is\n\t* not specified or is falsy, then the [window object]{@glossary window} is used.\n\t*\n\t* @name context\n\t* @type {Object}\n\t* @default undefined\n\t* @memberOf module:moonstone/MoonAnimator~MoonAnimator.prototype\n\t* @public\n\t*/\n\n\t/**\n\t* @private\n\t*/\n\tname: 'moon.MoonAnimator',\n\n\t/**\n\t* @private\n\t*/\n\tkind: Animator,\n\n\t/**\n\t* @private\n\t*/\n\tpublished: /** @lends module:moonstone/MoonAnimator~MoonAnimator.prototype */ {\n\t\tdirection: 'forward',\n\n\t\tuseBezier: false,\n\n\t\tconfigs: {}\n\t},\n\n\t/**\n\t* @private\n\t*/\n\taccuracy: 0.01,\n\n\t/**\n\t* @private\n\t*/\n\tvalues: {},\n\n\t/**\n\t* @private\n\t*/\n\tfractions: {},\n\n\t/**\n\t* @private\n\t*/\n\tdebug: false,\n\n\t/**\n\t* @private\n\t*/\n\tconstructed: function () {\n\t\tAnimator.prototype.constructed.apply(this, arguments);\n\t\tthis.buildBezierTable();\n\t},\n\n\t/**\n\t* @private\n\t*/\n\tbezier: function (t, x1, y1, x2, y2) {\n\t\tvar p0 = {x: 0, y: 0}, p1 = {x: x1, y: y1}, p2 = {x: x2, y: y2}, p3 = {x: 1, y: 1};\n\t\tvar cX = 3 * (p1.x - p0.x),\n\t\t\tbX = 3 * (p2.x - p1.x) - cX,\n\t\t\taX = p3.x - p0.x - cX - bX;\n\n\t\tvar cY = 3 * (p1.y - p0.y),\n\t\t\tbY = 3 * (p2.y - p1.y) - cY,\n\t\t\taY = p3.y - p0.y - cY - bY;\n\n\t\tvar x = (aX * Math.pow(t, 3)) + (bX * Math.pow(t, 2)) + (cX * t) + p0.x;\n\t\tvar y = (aY * Math.pow(t, 3)) + (bY * Math.pow(t, 2)) + (cY * t) + p0.y;\n\n\t\treturn {x: x, y: y};\n\t},\n\n\t/**\n\t* Adds configuration for animation.\n\t*\n\t* The config can be specified for each object that needs to be animated.\n\t* Each config consists of two directions, forward and backward.\n\t*\n\t* ```javascript\n\t* panel: {\n\t* \tforward: { startValue: 0, endValue: 1, delay: 0, duration: 430, bezier: [.69,.01,.97,.59]},\n\t* \tbackward: { startValue: 0, endValue: 1, delay: 0, duration: 500, bezier: [.06,.53,.38,.99] }\n\t* }\n\t* ```\n\t*\n\t* @param {Object} config\n\t* @public\n\t*/\n\taddConfig: function (config) {\n\t\tif (config) {\n\t\t\tutil.mixin(this.configs, config);\n\t\t}\n\t\tthis.buildBezierTable();\n\t},\n\n\t/**\n\t* Builds bezier curve table as a function of x and y.\n\t* Interpolates the intermediate values in the table.\n\t*\n\t* @private\n\t*/\n\tbuildBezierTable: function () {\n\t\tif (!this.useBezier) return;\n\n\t\tvar start = util.perfNow(), end;\n\n\t\tthis.iterateConfig(this, function(obj, dir, config) {\n\t\t\tvar last = {x:0, y:0},\n\t\t\t\tconf = config.bezier,\t// Format: { x1, y1, x2, y2 }, values between 0 and 1\n\t\t\t\tret, i, j;\n\n\t\t\tconfig.bezierTable = {};\n\n\t\t\tfor (i = 0; i <= 1; i += this.accuracy){\n\t\t\t\t// Todo: Modify bezier function to have input as x and output as y.\n\t\t\t\tret = this.bezier(i, conf[0], conf[1], conf[2], conf[3]);\n\n\t\t\t\t// Linear Interpolation\n\t\t\t\t//  - Bezier curve table which is having X as a key between 0 and 100.\n\t\t\t\t//  - Y value is having value between 0 and 1.\n\t\t\t\tfor (j = last.x; j < ret.x; j += 0.01) {\n\t\t\t\t\tconfig.bezierTable[(j*100)<<0] = last.y + (j - last.x) * (ret.y-last.y) / (ret.x - last.x);\n\t\t\t\t}\n\t\t\t\tlast = ret;\n\t\t\t}\n\t\t\t// Fill rest of table to 1\n\t\t\tfor (i = (last.x*100)<<0; i <= 100; i++) {\n\t\t\t\tconfig.bezierTable[i] = 1;\n\t\t\t}\n\t\t});\n\n\t\tend = util.perfNow();\n\n\t\tif (this.debug) {\n\t\t\tthis.log('Build Bezier Table takes', end - start, 'ms');\n\t\t}\n\t},\n\n\n\t/**\n\t* Plays the animation.\n\t*\n\t* @param {Object} props - As a convenience, this [hash]{@glossary Object} will be mixed\n\t*\tdirectly into this [object]{@glossary Object}.\n\t* @public\n\t*/\n\tplay: function (props) {\n\t\tvar duration = 0;\n\n\t\t// Find maximum duration for the whole animation\n\t\tthis.iterateConfig(this, function(obj, dir, config) {\n\t\t\tthis.values[obj] = config.startValue;\n\t\t\tduration = Math.max(config.delay + config.duration, duration);\n\t\t}, this.direction);\n\n\t\tthis.duration = duration;\n\n\t\tAnimator.prototype.play.apply(this, arguments);\n\n\t\treturn this;\n\t},\n\n\t/**\n\t* Reverses the direction of a running animation.\n\t*\n\t* @return {this} The callee for chaining.\n\t* @public\n\t*/\n\treverse: function () {\n\t\tif (this.isAnimating()) {\n\t\t\tAnimator.prototype.reverse.apply(this, arguments);\n\t\t\tthis.iterateConfig(this, function(obj, dir, config) {\n\t\t\t\t// swap start and end values\n\t\t\t\tvar startValue = config.startValue;\n\t\t\t\tconfig.startValue = config.endValue;\n\t\t\t\tconfig.endValue = startValue;\n\t\t\t}, this.direction);\n\t\t\treturn this;\n\t\t}\n\t},\n\n\t/**\n\t* Runs the next step of the animation.\n\t*\n\t* @fires module:enyo/Animator~Animator#onStep\n\t* @fires module:enyo/Animator~Animator#onEnd\n\t* @private\n\t*/\n\tnext: function () {\n\t\tthis.t1 = util.perfNow();\n\t\tthis.dt = this.t1 - this.t0;\n\t\tthis.fraction = this.dt / this.duration;\n\n\t\tthis.iterateConfig(this, function(obj, dir, config) {\n\t\t\tvar fraction, f;\n\n\t\t\tif (this.dt - config.delay < 0) return;\n\n\t\t\tif (this.dt - config.delay >= config.duration) {\n\t\t\t\tthis.values[obj] = config.endValue;\n\t\t\t\tthis.fractions[obj] = 1;\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tif (this.useBezier) {\n\t\t\t\t// Use bezier function\n\t\t\t\tfraction = (this.dt - config.delay) / config.duration;\n\t\t\t\tf = this.fractions[obj] = config.bezierTable[(fraction*100)<<0];\n\t\t\t\tthis.values[obj] = config.startValue + f * (config.endValue - config.startValue);\n\t\t\t} else {\n\t\t\t\t// Use easing function\n\t\t\t\tif (config.easing.length === 1) {\n\t\t\t\t\t// time independent\n\t\t\t\t\tthis.fractions[obj] = animation.easedLerp(this.t0 + config.delay, config.duration, config.easing, this.reversed);\n\t\t\t\t\tthis.values[obj] = config.startValue + this.fractions[obj] * (config.endValue - config.startValue);\n\t\t\t\t} else {\n\t\t\t\t\tthis.values[obj] = animation.easedComplexLerp(this.t0 + config.delay, config.duration, config.easing, this.reversed,\n\t\t\t\t\t\tthis.dt - config.delay, config.startValue, (config.endValue - config.startValue));\n\t\t\t\t}\n\t\t\t}\n\t\t}, this.direction);\n\n\t\tif (this.shouldEnd()) {\n\t\t\tthis.fire('onStep');\n\t\t\tthis.cancel();\n\t\t\tutil.asyncMethod(this.bindSafely(function() {\n\t\t\t\tthis.fire('onEnd');\n\t\t\t}));\n\t\t} else {\n\t\t\tthis.fire('onStep');\n\t\t\tthis.requestNext();\n\t\t}\n\t},\n\n\t/**\n\t* @private\n\t*/\n\titerateConfig: function (scope, callback, direction) {\n\t\tvar obj, dir;\n\n\t\tfor (obj in this.configs) {\n\t\t\tif (direction) {\n\t\t\t\t// for specified direction\n\t\t\t\tcallback.call(scope, obj, direction, this.configs[obj][direction]);\n\t\t\t} else {\n\t\t\t\t// for all directions\n\t\t\t\tfor (dir in this.configs[obj]) {\n\t\t\t\t\tcallback.call(scope, obj, dir, this.configs[obj][dir]);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n});\n","/**\n* Contains the declaration for the {@link module:moonstone/MoonArranger~MoonArranger} kind.\n* @module moonstone/MoonArranger\n*/\n\nrequire('moonstone');\n\nvar\n\tkind = require('enyo/kind'),\n\tArranger = require('layout/Arranger');\n\n/**\n*\t{@link module:moonstone/MoonArranger~MoonArranger} is a\n* {@link module:layout/Arranger~Arranger} that displays the active control.\n* The active control is positioned on the right side of the container and the\n* breadcrumbs are laid out to the left.\n*\n* For more information, see the documentation on\n* [Arrangers](building-apps/layout/arrangers.html) in the Enyo Developer Guide.\n*\n* @class MoonArranger\n* @extends module:layout/Arranger~Arranger\n* @public\n*/\nmodule.exports = kind(\n\t/** @lends module:moonstone/MoonArranger~MoonArranger.prototype */ {\n\tname: 'moon.MoonArranger',\n\tkind: Arranger,\n\t\n\t//* @protected\n\tsize: function () {\n\t\tthis.calcTransitionPositions();\n\t},\n\t/**\n\t* Called when panel is created dynamically.\n\t*\n\t* @protected\n\t*/\n\tcalcTransitionPositions: function () {\n\t\tvar container = this.container,\n\t\t\tpanels = container.getPanels(),\n\t\t\tlength = panels ? panels.length : 0;\n\n\t\tcontainer.transitionPositions = {};\n\n\t\tfor (var i=0; i<length; i++) {\n\t\t\tfor (var j=0; j<length; j++) {\n\t\t\t\tcontainer.transitionPositions[j + '.' + i] = (j - i);\n\t\t\t}\n\t\t}\n\t},\n\tarrange: function (controls, index) {\n\t\tvar container = this.container,\n\t\t\tpanels = container.getPanels(),\n\t\t\tactive = container.clamp(index),\n\t\t\tcontrol, xPos;\n\n\t\tfor (var i=0; (control=panels[i]); i++) {\n\t\t\txPos = container.transitionPositions[i + '.' + active];\n\t\t\tthis.arrangeControl(control, {left: xPos*100});\n\t\t}\n\t},\n\tflowArrangement: function () {\n\t\tthis.flowPanel();\n\t\tthis.flowBreadcrumb();\n\t},\n\tflowPanel: function () {\n\t\tvar container = this.container,\n\t\t\tarrangements = container.arrangement,\n\t\t\tpanels = container.getPanels(),\n\t\t\tcontrol, i;\n\n\t\tif (arrangements && arrangements.panel) {\n\t\t\t// Flow panel\n\t\t\tfor (i=0; (control=panels[i]) && (arrangements.panel[i]); i++) {\n\t\t\t\tthis.flowControl(control, arrangements.panel[i]);\n\t\t\t}\n\t\t}\n\t},\n\tflowBreadcrumb: function () {\n\t\tvar container = this.container,\n\t\t\tarrangements = container.arrangement,\n\t\t\trange = this.container.getBreadcrumbRange(),\n\t\t\tarrangement, control, i;\n\n\t\tif (arrangements && arrangements.breadcrumb) {\n\t\t\tfor (i=range.start; i<range.end; i++) {\n\t\t\t\t// Select breadcrumb to arrange for the given panel index\n\t\t\t\t// If we have a window of [2, 3] then we choose breadcrumb [0, 1].\n\t\t\t\t// If we have a window of [3, 4] then we choose breadcrumb [1, 0].\n\t\t\t\tcontrol = container.getBreadcrumbForIndex(i);\n\n\t\t\t\t// For the first panel, we arrange all breadcrumb to offscreen area.\n\t\t\t\tarrangement = (i>=0) ? arrangements.breadcrumb[i] : {left: 0};\n\t\t\t\t\n\t\t\t\tthis.flowControl(control, arrangement);\n\t\t\t}\n\t\t}\n\t},\n\twrap: function (value, length) {\n\t\treturn (value+length)%length;\n\t},\n\tflowControl: function (control, arrangement) {\n\t\tArranger.positionControl(control, arrangement, '%');\n\t},\n\tdestroy: function() {\n\t\tvar panels = this.container.getPanels();\n\t\tfor (var i=0, control; (control=panels[i]); i++) {\n\t\t\tArranger.positionControl(control, {left: null, top: null});\n\t\t\tcontrol.applyStyle('top', null);\n\t\t\tcontrol.applyStyle('bottom', null);\n\t\t\tcontrol.applyStyle('left', null);\n\t\t\tcontrol.applyStyle('width', null);\n\t\t}\n\t\tArranger.prototype.destroy.apply(this, arguments);\n\t},\n\n\t/**\n\t* Returns `true` if any panels will move in the transition from `fromIndex` to `toIndex`.\n\t* @private\n\t*/\n\tshouldArrange: function (fromIndex, toIndex) {\n\t\tif (!(fromIndex >= 0 && toIndex >= 0)) {\n\t\t\treturn;\n\t\t}\n\n\t\tvar transitionPositions = this.container.transitionPositions,\n\t\t\tpanelCount = this.container.getPanels().length,\n\t\t\tpanelIndex,\n\t\t\tfrom,\n\t\t\tto;\n\n\t\tif (transitionPositions) {\n\t\t\tfor (panelIndex = 0; panelIndex < panelCount; panelIndex++) {\n\t\t\t\tfrom = transitionPositions[panelIndex + '.' + fromIndex];\n\t\t\t\tto = transitionPositions[panelIndex + '.' + toIndex];\n\n\t\t\t\tif (from !== to) {\n\t\t\t\t\treturn true;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\treturn false;\n\t}\n});\n","require('moonstone');\n\n/**\n* Contains the declaration for the {@link module:moonstone/StyleAnimator~StyleAnimator} kind.\n* @module moonstone/StyleAnimator\n* @deprecated\n* @private\n*/\n\nvar\n\tkind = require('enyo/kind'),\n\tdom = require('enyo/dom'),\n\tlog = require('enyo/logger'),\n\tutils = require('enyo/utils'),\n\tComponent = require('enyo/Component');\n\n/**\n* @typedef {Object} module:moonstone/StyleAnimator~StyleAnimator~AnimationDefinitionObject\n* @property {String} name - An optional name for the animation. If not specified,\n* a name will be generated.\n* @property {Number} duration - An optional duration. If not specified, the\n*\t[default duration]{@link module:moonstone/StyleAnimator~StyleAnimator#defaultDuration} will be used.\n* @property {Object} timingFunction - An optional timing function. If not specified, the\n*\t[default timing function]{@link module:moonstone/StyleAnimator~StyleAnimator#defaultTimingFunction} will be used.\n* @property {String} direction - `'forward'` or `'backward'`. Currently unused.\n* @property {Object[]} keyframes - Animation keyframes.\n* @public\n*/\n\n/**\n* Fires when an animation step occurs.\n*\n* @event module:moonstone/StyleAnimator~StyleAnimator#onStep\n* @type {Object}\n* @property {Object} animation - A reference to the animation that generated the event.\n* @public\n*/\n\n/**\n* Fires when the animation completes.\n*\n* @event module:moonstone/StyleAnimator~StyleAnimator#onComplete\n* @type {Object}\n* @property {Object} animation - A reference to the animation that completed.\n* @public\n*/\n\n/**\n* {@link module:moonstone/StyleAnimator~StyleAnimator} is a basic animation component.  Call\n* [play()]{@link module:moonstone/StyleAnimator~StyleAnimator#play} to start the animation.  The animation will run for\n* the period of time (in milliseconds) specified by its `duration`, subject to its\n* `timingFunction` and `direction` (See: {@link module:moonstone/StyleAnimator~StyleAnimator~AnimationDefinitionObject}).\n*\n* @class StyleAnimator\n* @extends module:enyo/Component~Component\n* @private\n* @deprecated\n*/\nmodule.exports = kind(\n\t/** @lends module:moonstone/StyleAnimator~StyleAnimator.prototype */ {\n\n\t/**\n\t* @private\n\t*/\n\tname: 'enyo.StyleAnimator',\n\n\t/**\n\t* @private\n\t*/\n\tkind: Component,\n\n\t/**\n\t* @private\n\t*/\n\tevents: {\n\t\tonStep: '',\n\t\tonComplete: ''\n\t},\n\n\t/**\n\t* @private\n\t* @lends module:moonstone/StyleAnimator~StyleAnimator.prototype\n\t*/\n\tpublished: {\n\t\t//* Default value used if the animation has no `duration` specified.\n\t\tdefaultDuration: 1000,\n\t\t//* Default value used if the animation has no `timingFunction` specified.\n\t\tdefaultTimingFunction: 'linear',\n\t\t//* Default value used if the animation has no `direction` specified.\n\t\tdefaultDirection: 'forward'\n\t},\n\n\t/**\n\t* @private\n\t*/\n\ttransitionProperty: dom.transition,\n\n\t/**\n\t* @private\n\t*/\n\tinstructions: null,\n\n\t/**\n\t* @private\n\t*/\n\tstepInterval: null,\n\n\t/**\n\t* @private\n\t*/\n\tstepIntervalMS: 50,\n\n\t/**\n\t* @private\n\t*/\n\tstartTime: null,\n\n\t/**\n\t* @private\n\t*/\n\tanimations: null,\n\n\t/**\n\t* @private\n\t*/\n\tcreate: function () {\n\t\tComponent.prototype.create.apply(this, arguments);\n\t\tthis.animations = [];\n\t},\n\n\t/**\n\t* Returns animation object reflecting the passed-in properties, while also adding it to the\n\t* `animations` array.\n\t*\n\t* @param {module:moonstone/StyleAnimator~StyleAnimator~AnimationDefinitionObject} props - An animation definition hash.\n\t* @public\n\t*/\n\tnewAnimation: function (props) {\n\t\t// TODO: Add documentation for the generated animation object\n\t\tif (this.animations && props.name && this.getAnimation(props.name)) {\n\t\t\tthis.deleteAnimation(props.name);\n\t\t}\n\n\t\tprops.keyframes = this.formatKeyframes(props.keyframes);\n\t\tprops.instructions = this.generateInstructions(props.keyframes);\n\n\t\tvar animation = {\n\t\t\tname:           props.name || this.generateAnimationName(),\n\t\t\tduration:       props.duration || this.defaultDuration,\n\t\t\ttimingFunction: props.timingFunction ? this.updateTimingFunction (props.timingFunction) : this.updateTimingFunction (this.defaultTimingFunction),\n\t\t\tdirection:      props.direction || this.defaultDirection,\n\t\t\ttimeElapsed:    0,\n\t\t\tkeyframes:      props.keyframes,\n\t\t\tinstructions:   props.instructions,\n\t\t\tstate:          'paused'\n\t\t};\n\n\t\tthis.animations.push(animation);\n\n\t\treturn animation;\n\t},\n\n\t/**\n\t* Resets transition properties to their pre-transition state for the specified animation.\n\t*\n\t* @param {String} name - Name of the animation.\n\t* @public\n\t*/\n\treset: function (name) {\n\t\tthis.getAnimation(name);\n\t\tthis._reset(name);\n\t},\n\n\t/**\n\t* Plays the animation according to its properties.\n\t*\n\t* @param {String} name - Name of the animation.\n\t* @public\n\t*/\n\tplay: function (name) {\n\t\tvar animation = this.getAnimation(name);\n\n\t\tif (!animation) {\n\t\t\treturn;\n\t\t}\n\n\t\tthis.findStartAndEndValues(animation);\n\t\tthis.applyValues(animation.startValues);\n\t\tthis.cacheStartValues(animation.startValues);\n\n\t\tutils.asyncMethod(this.bindSafely(function () { this._play(name); }));\n\t},\n\n\t/**\n\t* Jumps directly to the end state of a given animation (without animating).\n\t*\n\t* @param {String} name - Name of the animation.\n\t* @public\n\t*/\n\tjumpToEnd: function (name) {\n\t\tvar animation = this.getAnimation(name);\n\n\t\tif (!animation) {\n\t\t\treturn;\n\t\t}\n\n\t\tthis.findStartAndEndValues(animation);\n\t\tthis.applyValues(animation.endValues);\n\t},\n\n\t/**\n\t* Pauses the animation, if it is currently playing.\n\t*\n\t* @param {String} name - Name of the animation.\n\t* @public\n\t*/\n\tpause: function (name) {\n\t\tvar animation = this.getAnimation(name);\n\t\tif (animation.state === 'playing') {\n\t\t\tthis._pause(name);\n\t\t}\n\t},\n\n\t/**\n\t* Looks up an animation by name in the animation list.\n\t*\n\t* @param {String} name - Name of the animation.\n\t* @public\n\t*/\n\tgetAnimation: function (name) {\n\t\tvar animation = null;\n\t\tfor (var i = 0; i < this.animations.length; i++) {\n\t\t\tif (this.animations[i].name === name) {\n\t\t\t\tanimation = this.animations[i];\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t\treturn animation;\n\t},\n\n\t/**\n\t* Removes an existing animation from `this.animations`, stopping it first, if necessary.\n\t*\n\t* @param {String} name - Name of the animation.\n\t* @public\n\t*/\n\tdeleteAnimation: function (name) {\n\t\tvar animation = this.getAnimation(name);\n\n\t\tif (!animation) {\n\t\t\treturn false;\n\t\t}\n\n\t\t// Pause animation if necessary\n\t\tthis._pause(name);\n\n\t\t// Splice out this animation\n\t\tthis.animations.splice(this.animations.indexOf(animation), 1);\n\t},\n\n\t/**\n\t* Begins stepping through the animation.\n\t*\n\t* @public\n\t*/\n\tstart: function () {\n\t\tthis.beginStepping();\n\t},\n\n\t/**\n\t* Stops stepping through the animation.\n\t*\n\t* @public\n\t*/\n\tstop: function () {\n\t\tthis.stopStepping();\n\t},\n\n\t/**\n\t* Generates a unique name based on the length of `this.animations`.\n\t*\n\t* @private\n\t*/\n\tgenerateAnimationName: function () {\n\t\tvar count = this.animations.length,\n\t\t\tname = this.getName()+'_animation_'+count;\n\t\twhile (this.getAnimation(name)) {\n\t\t\tname = this.getName()+'_animation_'+count;\n\t\t}\n\t\treturn name;\n\t},\n\n\t/**\n\t* @private\n\t*/\n\tformatKeyframes: function (inKeyframes) {\n\t\tvar frames = [];\n\t\tfor (var index in inKeyframes) {\n\t\t\tframes.push({index: index, controls: inKeyframes[index]});\n\t\t}\n\t\treturn frames;\n\t},\n\n\t/**\n\t* @private\n\t*/\n\tupdateTimingFunction: function (inTimingFunction) {\n\t\treturn inTimingFunction.match(/\\bcubic-bezier/i) ? inTimingFunction : this.convertTimingFunctionToBezier(inTimingFunction);\n\t},\n\n\t/**\n\t* @private\n\t*/\n\tconvertTimingFunctionToBezier: function (timing) {\n\t\tswitch (timing) {\n\t\tcase 'linear':\n\t\t\treturn 'cubic-bezier(0, 0, 1, 1)';\n\t\tcase 'ease':\n\t\t\treturn 'cubic-bezier(0.25, 0.1, 0.25, 1.0)';\n\t\tcase 'ease-in':\n\t\t\treturn 'cubic-bezier(.42, 0, 1, 1)';\n\t\tcase 'ease-out':\n\t\t\treturn 'cubic-bezier(0, 0, .58, 1)';\n\t\tcase 'ease-in-out':\n\t\t\treturn 'cubic-bezier(.42, 0, .58, 1)';\n\t\t}\n\t\tlog.warn('Unknown timing function: ', timing);\n\t\treturn timing;\n\t},\n\n\t/**\n\t* @private\n\t*/\n\tgenerateInstructions: function (inKeyframes) {\n\t\tvar frames = inKeyframes,\n\t\t\tinstructions = [],\n\t\t\tinstruction,\n\t\t\tendValues;\n\n\t\tfor (var i = 0; i < frames.length-1; i++) {\n\t\t\tfor (var j = 0, control; (control = frames[i].controls[j]); j++) {\n\t\t\t\tfor (var prop in control.properties) {\n\n\t\t\t\t\tinstruction = {\n\t\t\t\t\t\tcontrol: control.control,\n\t\t\t\t\t\tproperty: prop,\n\t\t\t\t\t\tstartValue: control.properties[prop],\n\t\t\t\t\t\tstartTime: frames[i].index\n\t\t\t\t\t};\n\n\t\t\t\t\tendValues = this.findInstructionEndValues(instruction, i+1, frames);\n\n\t\t\t\t\t// If no end values, skip this rule   TODO - is this right?\n\t\t\t\t\tif (!endValues) {\n\t\t\t\t\t\tcontinue;\n\t\t\t\t\t}\n\n\t\t\t\t\t// Mix in end values\n\t\t\t\t\tinstructions.push(utils.mixin(instruction, endValues));\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\treturn instructions;\n\t},\n\n\t/**\n\t* @private\n\t*/\n\tfindStartAndEndValues: function (inAnimation) {\n\t\tvar frames = inAnimation.keyframes,\n\t\t\tstartValues = {},\n\t\t\tendValues = {},\n\t\t\tc,\n\t\t\tcID;\n\n\t\tfor (var i = 0; i < frames.length; i++) {\n\t\t\tfor (var j = 0, control; (control = frames[i].controls[j]); j++) {\n\t\t\t\tc = control.control;\n\t\t\t\tcID = c.id;\n\n\t\t\t\tif (!startValues[cID]) {\n\t\t\t\t\tstartValues[cID] = {\n\t\t\t\t\t\tcontrol: c,\n\t\t\t\t\t\tproperties: {}\n\t\t\t\t\t};\n\t\t\t\t}\n\t\t\t\tif (!endValues[cID]) {\n\t\t\t\t\tendValues[cID] = {\n\t\t\t\t\t\tcontrol: c,\n\t\t\t\t\t\tproperties: {}\n\t\t\t\t\t};\n\t\t\t\t}\n\n\t\t\t\tfor (var prop in control.properties) {\n\t\t\t\t\t// If value is set to _current_, grab the computed value\n\t\t\t\t\tif (control.properties[prop] === 'current') {\n\t\t\t\t\t\tcontrol.properties[prop] = dom.getComputedStyle(c.hasNode())[prop];\n\t\t\t\t\t}\n\t\t\t\t\t// at zero, every prop is a startvalue\n\t\t\t\t\tif (i === 0 || typeof startValues[cID]['properties'][prop] === 'undefined') {\n\t\t\t\t\t\tstartValues[cID]['properties'][prop] = control.properties[prop];\n\t\t\t\t\t}\n\n\t\t\t\t\tendValues[cID]['properties'][prop] = control.properties[prop];\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tinAnimation.startValues = startValues;\n\t\tinAnimation.endValues = endValues;\n\t},\n\n\t/**\n\t* @private\n\t*/\n\tfindInstructionEndValues: function (inInstruction, inFrameIndex, inFrames) {\n\t\tfor (var i = inFrameIndex; i < inFrames.length; i++) {\n\t\t\tfor (var j = 0, control; (control = inFrames[i].controls[j]); j++) {\n\t\t\t\tif (control.control !== inInstruction.control) {\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\t\t\t\tfor (var prop in control.properties) {\n\t\t\t\t\tif (prop === inInstruction.property) {\n\t\t\t\t\t\treturn {endValue: control.properties[prop], endTime: inFrames[i].index};\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t},\n\n\t/**\n\t* @private\n\t*/\n\t_play: function (name) {\n\t\tthis.startAnimation(name);\n\t\tthis.beginStepping();\n\t},\n\n\t/**\n\t* @private\n\t*/\n\tstartAnimation: function (name) {\n\t\tvar animation = this.getAnimation(name);\n\n\t\tthis.applyTransitions(name, 0);\n\t\tanimation.state = 'playing';\n\t\tanimation.timeElapsed = 0;\n\t\tanimation.startTime = utils.perfNow();\n\t},\n\n\t/**\n\t* @private\n\t*/\n\tapplyValues: function (inValues) {\n\t\tvar item, prop, control;\n\n\t\tfor(item in inValues) {\n\t\t\tcontrol = inValues[item].control;\n\n\t\t\tfor (prop in inValues[item].properties) {\n\t\t\t\tcontrol.applyStyle(prop, inValues[item].properties[prop]);\n\t\t\t}\n\t\t}\n\t},\n\n\t/**\n\t* @private\n\t*/\n\tcacheStartValues: function (inStartValues) {\n\t\tvar item, control;\n\t\tthis.startValues = inStartValues;\n\n\t\tfor(item in inStartValues) {\n\t\t\tcontrol = inStartValues[item].control;\n\t\t\tinStartValues[item].properties[this.transitionProperty] = control[this.transitionProperty];\n\t\t}\n\t},\n\n\t/**\n\t* @private\n\t*/\n\tapplyTransitions: function (name, inStartTime) {\n\t\tvar animation = this.getAnimation(name),\n\t\t\tinstructions = animation.instructions;\n\t\tfor (var i = 0; i < instructions.length; i++) {\n\t\t\tif (instructions[i].startTime <= inStartTime && !instructions[i].started) {\n\t\t\t\tthis.applyTransition(name, instructions[i]);\n\t\t\t\tinstructions[i].started = true;\n\t\t\t}\n\t\t}\n\t},\n\n\t/**\n\t* @private\n\t*/\n\tapplyTransition: function (name, inInstruction) {\n\t\tvar animation = this.getAnimation(name),\n\t\t\tcurrentStyle = inInstruction.control[this.transitionProperty],\n\t\t\ttransitionTime = (inInstruction.endTime - inInstruction.startTime)*animation.duration/(100*1000),\n\t\t\tnewStyle = currentStyle ? currentStyle + ', ' : '',\n\t\t\ttransitionProperty = this.transitionProperty;\n\n\t\tnewStyle += inInstruction.property + ' ' + transitionTime + 's ' + animation.timingFunction + ' 0s';\n\n\t\tinInstruction.control.applyStyle(transitionProperty, newStyle);\n\n\t\t// we arbitrarily cache this value for cheaper lookup later\n\t\tinInstruction.control[transitionProperty] = newStyle;\n\n\t\tinInstruction.control.applyStyle(inInstruction.property, inInstruction.endValue);\n\n\t\t//  this.log(inInstruction.control.id+'.applyStyle('+transitionProperty+', '+newStyle+')');\n\t\t//  this.log(inInstruction.control.id+'.applyStyle('+inInstruction.property+', '+inInstruction.endValue+')');\n\t},\n\n\t/**\n\t* Begins stepping.\n\t*\n\t* @private\n\t*/\n\tbeginStepping: function () {\n\t\tif (!this.stepInterval) {\n\t\t\tthis.stepInterval = setInterval(this.bindSafely('_step'), this.stepIntervalMS);\n\t\t}\n\t},\n\n\t/**\n\t* Stops stepping.\n\t*\n\t* @private\n\t*/\n\tstopStepping: function () {\n\t\tif (this.stepInterval) {\n\t\t\tclearInterval(this.stepInterval);\n\t\t\tthis.stepInterval = null;\n\t\t}\n\t},\n\n\t/**\n\t* Steps through each playing animation.\n\t*\n\t* @private\n\t*/\n\t_step: function () {\n\t\tvar playingAnimations = false,\n\t\t\tnow = utils.perfNow(),\n\t\t\tanimation,\n\t\t\telapsed,\n\t\t\ti;\n\n\t\tfor (i = 0; (animation = this.animations[i]); i++) {\n\t\t\tif (animation.state === 'paused') {\n\t\t\t\tcontinue;\n\t\t\t}\n\n\t\t\telapsed = now - animation.startTime;\n\n\t\t\t// If complete, bail\n\t\t\tif (elapsed > animation.duration) {\n\t\t\t\tif (animation.percentElapsed != 100) {\n\t\t\t\t\tthis.applyTransitions(animation.name, 100);\n\t\t\t\t}\n\t\t\t\tanimation.percentElapsed = 100;\n\t\t\t\tthis.doStep({animation: animation});\n\t\t\t\tthis.completeAnimation(animation.name);\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tanimation.timeElapsed = elapsed;\n\t\t\tanimation.percentElapsed = Math.round(elapsed*100/animation.duration);\n\t\t\tthis.applyTransitions(animation.name, animation.percentElapsed);\n\t\t\tplayingAnimations = true;\n\n\t\t\t// Bubble step event\n\t\t\tthis.doStep({animation: animation});\n\t\t}\n\n\t\tif (!playingAnimations) {\n\t\t\tthis.stop();\n\t\t}\n\t},\n\n\t/**\n\t* @private\n\t*/\n\tcompleteAnimation: function (name) {\n\t\tvar animation = this.getAnimation(name);\n\n\t\tthis._pause(name);\n\t\tthis._reset(name);\n\t\tthis.doComplete({animation: animation});\n\t},\n\n\t/**\n\t* Resets transition properties to their pre-transition values.\n\t*\n\t* @private\n\t*/\n\t_reset: function (name) {\n\t\tvar animation = this.getAnimation(name);\n\t\tfor(var item in animation.startValues) {\n\t\t\tanimation.startValues[item].control.applyStyle(this.transitionProperty, animation.startValues[item].properties[this.transitionProperty]);\n\t\t}\n\t},\n\n\t/**\n\t* @private\n\t*/\n\t_pause: function (name) {\n\t\tvar animation = this.getAnimation(name);\n\t\tanimation.state = 'paused';\n\t}\n});\n","require('moonstone');\n\n/**\n* Contains the declaration for the {@link module:moonstone/Icon~Icon} kind.\n* @module moonstone/Icon\n*/\n\nvar\n\tkind = require('enyo/kind'),\n\tri = require('enyo/resolution'),\n\tpath = require('enyo/pathResolver'),\n\tControl = require('enyo/Control');\n\n// Static private hash of all of the valid moonstone icons\nvar icons = {\n\tplus              : '&#43;',      // \\0002B plus\n\tminus             : '&#45;',      // \\0002D hyphen\n\tarrowhookleft     : '&#8617;',    // \\021A9 LeftArrowHook\n\tarrowhookright    : '&#8618;',    // \\021AA RightArrowHook\n\tellipsis          : '&#8943;',    // \\022EF ellipsis\n\tcheck             : '&#10003;',   // \\02713 checkmark\n\tcircle            : '&#983003;',  // \\0EFFDB record\n\tstop              : '&#983004;',  // \\0EFFDC stop\n\tplay              : '&#983005;',  // \\0EFFDD play\n\tpause             : '&#983006;',  // \\0EFFDE pause\n\tforward           : '&#983007;',  // \\0EFFDF forward\n\tbackward          : '&#983008;',  // \\0EFFE0 rewind\n\tskipforward       : '&#983009;',  // \\0EFFE1 skip_forward\n\tskipbackward      : '&#983010;',  // \\0EFFE2 skip_backwards\n\tpauseforward      : '&#983011;',  // \\0EFFE3 indicator_forward\n\tpausebackward     : '&#983012;',  // \\0EFFE4 indicator_backward\n\tpausejumpforward  : '&#983013;',  // \\0EFFE5 indicator_skip_forward\n\tpausejumpbackward : '&#983014;',  // \\0EFFE6 indicator_skip_backward\n\tjumpforward       : '&#983015;',  // \\0EFFE7 indicator_end\n\tjumpbackward      : '&#983016;',  // \\0EFFE8 indicator_begin\n\tdenselist         : '&#983017;',  // \\0EFFE9 list_big\n\tbulletlist        : '&#983018;',  // \\0EFFEA list_bullets\n\tlist              : '&#983019;',  // \\0EFFEB list_simple\n\tdrawer            : '&#983020;',  // \\0EFFEC list_actions\n\tarrowlargedown    : '&#983021;',  // \\0EFFED caret_down_large\n\tarrowlargeup      : '&#983022;',  // \\0EFFEE caret_up_large\n\tarrowlargeleft    : '&#983023;',  // \\0EFFEF caret_left_large\n\tarrowlargeright   : '&#983024;',  // \\0EFFF0 caret_right_large\n\tarrowsmallup      : '&#983025;',  // \\0EFFF1 caret_up_small\n\tarrowsmalldown    : '&#983026;',  // \\0EFFF2 caret_down_small\n\tarrowsmallleft    : '&#983027;',  // \\0EFFF3 caret_left_small\n\tarrowsmallright   : '&#983028;',  // \\0EFFF4 caret_right_small\n\tclosex            : '&#983029;',  // \\0EFFF5 close_x\n\tsearch            : '&#983030;',  // \\0EFFF6 magnify\n\trollforward       : '&#983031;',  // \\0EFFF7 redo\n\trollbackward      : '&#983032;',  // \\0EFFF8 undo\n\texitfullscreen    : '&#983033;',  // \\0EFFF9 minimize\n\tfullscreen        : '&#983034;',  // \\0EFFFA maximize\n\tarrowextend       : '&#983073;',  // \\0F0021 arrow_left\n\tarrowshrink       : '&#983074;',  // \\0F0022 arrow_right\n\tflag              : '&#983075;',  // \\0F0023 flag\n\tfunnel            : '&#983076;',  // \\0F0024 filter\n\ttrash             : '&#983077;',  // \\0F0025 trash\n\tstar              : '&#983080;',  // \\0F0028 star_full\n\thollowstar        : '&#983081;',  // \\0F0029 star_empty\n\thalfstar          : '&#983082;',  // \\0F002A star_half\n\tgear              : '&#983083;',  // \\0F002B gear\n\tplug              : '&#983084;',  // \\0F002C input\n\tlock              : '&#983085;'   // \\0F002D lock\n};\n\n/**\n* {@link module:moonstone/Icon~Icon} is a control that displays an icon image. You may specify the\n* image by setting the [src]{@link module:moonstone/Icon~Icon#src} property to a URL indicating the\n* image file's location.\n*\n* ```\n* \tvar\n* \t\tkind = require('enyo/kind'),\n* \t\tIcon = require('moonstone/Icon');\n*\n* \t{kind: Icon, src: 'moonstone/src/assets/search.png'}\n* ```\n*\n* Moonstone also supports a second method for displaying icons; in addition to\n* using traditional image assets specified in `src`, you may use icons that are\n* stored as single characters in a special symbol font. To do this, set the\n* value of the [icon]{@link module:moonstone/Icon~Icon#icon} property to a string representing an\n* icon name, e.g.:\n*\n* ```\n* \t{kind: Icon, icon: 'closex'}\n* ```\n*\n* For image-based icons, two sizes are supported: large (45x45 pixels) and small\n* (32x32 pixels). Icons are small by default. To specify a large icon, set the\n* [small]{@link module:moonstone/Icon~Icon#small} property to `false`:\n*\n* ```\n* \t{kind: Icon, src: 'moonstone/src/assets/search.png', small: false}\n*\n* \t{kind: Icon, icon: 'closex', small: false}\n* ```\n*\n* In addition, both icon sizes support two states: a default (resting) state,\n* and a pressed (active) state. Both states need to be included in the icon's\n* associated image asset, with the resting state on top and the active state on\n* the bottom.\n*\n* Image assets for large icons should be 75px wide and 150px high. This allows\n* room for the two states, along with 15 pixels of transparent padding on all\n* four sides of each 45x45 icon.\n*\n* Assets for small icons should be 50px wide and 100px high. This allows room\n* for the two states, along with 9 pixels of transparent padding on all four\n* sides of each 32x32 icon.\n*\n* Since asset-based icon images are applied as CSS backgrounds, the height and\n* width of an icon must be set if an image of a non-standard size is used.\n*\n* For situations in which an icon should act like a button, use\n* {@link module:moonstone/IconButton~IconButton}.\n*\n* @class Icon\n* @extends module:enyo/Control~Control\n* @ui\n* @public\n*/\nmodule.exports = kind(\n\t/** @lends module:moonstone/Icon~Icon.prototype */ {\n\n\t/**\n\t* @private\n\t*/\n\tname: 'moon.Icon',\n\n\t/**\n\t* @private\n\t*/\n\tkind: Control,\n\n\t/**\n\t* @private\n\t*/\n\tallowHtml: true,\n\n\t/**\n\t* @private\n\t* @lends module:moonstone/Icon~Icon.prototype\n\t*/\n\tpublished: {\n\n\t\t/**\n\t\t* This property serves two purposes. One, it accepts one of the below Moonstone icon\n\t\t* names. Two, it also supports standard ascii characters or HTML entities, to directly\n\t\t* represent a glyph. By default, the font used when you specify a\n\t\t* character/entity/glyph, the font \"LG Display_Dingbat\" will be used. It is applied via\n\t\t* a `class`: \"font-lg-icons\". To apply your own dingbat font, override this class's\n\t\t* `font-family` property in your CSS.\n\t\t*\n\t\t* The following icon names are valid:\n\t\t*\n\t\t* `drawer`\n\t\t* `arrowlargedown`\n\t\t* `arrowlargeup`\n\t\t* `arrowlargeleft`\n\t\t* `arrowlargeright`\n\t\t* `arrowsmallup`\n\t\t* `arrowsmalldown`\n\t\t* `arrowsmallleft`\n\t\t* `arrowsmallright`\n\t\t* `closex`\n\t\t* `check`\n\t\t* `search`\n\t\t* `exitfullscreen`\n\t\t* `fullscreen`\n\t\t* `circle`\n\t\t* `stop`\n\t\t* `play`\n\t\t* `pause`\n\t\t* `forward`\n\t\t* `backward`\n\t\t* `skipforward`\n\t\t* `skipbackward`\n\t\t* `pauseforward`\n\t\t* `pausebackward`\n\t\t* `pausejumpforward`\n\t\t* `pausejumpbackward`\n\t\t* `jumpforward`\n\t\t* `jumpbackward`\n\t\t* `arrowextend`\n\t\t* `arrowshrink`\n\t\t*\n\t\t* @type {String}\n\t\t* @default ''\n\t\t* @public\n\t\t*/\n\t\ticon: '',\n\n\t\t/**\n\t\t* URL specifying path to icon image.\n\t\t*\n\t\t* @type {String|module:enyo/resolution#selectSrc~src}\n\t\t* @default ''\n\t\t* @public\n\t\t*/\n\t\tsrc: '',\n\n\t\t/**\n\t\t* If `true`, icon is shown as disabled.\n\t\t*\n\t\t* @type {Boolean}\n\t\t* @default false\n\t\t* @public\n\t\t*/\n\t\tdisabled: false,\n\n\t\t/**\n\t\t* A boolean parameter affecting the size of the icon.\n\t\t* If `true`, the icon will be 32px by 32px. If `false`, the icon will be 45px\n\t\t* by 45px. When `small` is `true`, a larger, invisible tap area will be applied\n\t\t* around the icon.\n\t\t*\n\t\t* @type {Boolean}\n\t\t* @default true\n\t\t* @public\n\t\t*/\n\t\tsmall: true\n\t},\n\n\t/**\n\t* @private\n\t*/\n\thandlers: {\n\t\t/**\n\t\t* This is a horrible hack to prevent event bubble caching from messing up\n\t\t* moon.Tooltip positioning (BHV-13377). In short, we don't need to do anything\n\t\t* with onenter ourselves, but we need it to pass through us on the way to\n\t\t* moon.TooltipDecorator, which uses inSender to figure out who the tooltip\n\t\t* activator should be.\n\t\t*\n\t\t* TODO: Something better.\n\t\t*\n\t\t* @private\n\t\t*/\n\t\tonenter: 'doNothing'\n\t},\n\n\t/**\n\t* @returns {String} The value of the [src]{@link module:moonstone/Icon~Icon#src} property.\n\t* @public\n\t*/\n\tgetSrc: function () {\n\t\treturn this.src;\n\t},\n\n\t/**\n\t* @private\n\t*/\n\tclasses: 'moon-icon',\n\n\t/**\n\t* @private\n\t*/\n\tcreate: function () {\n\t\tControl.prototype.create.apply(this, arguments);\n\n\t\tthis.smallChanged();\n\t\tif (this.src) {\n\t\t\tthis.srcChanged();\n\t\t}\n\t\tthis.disabledChanged();\n\t},\n\n\t/**\n\t* @private\n\t*/\n\tgetIconClass: function (inIconName) {\n\t\treturn 'moon-icon-' + (inIconName || this.icon);\n\t},\n\n\t/**\n\t* @private\n\t*/\n\tdisabledChanged: function () {\n\t\tthis.addRemoveClass('disabled', this.disabled);\n\t},\n\n\t/**\n\t* @private\n\t*/\n\tsrcChanged: function () {\n\t\tvar src = this.src || null;\n\t\tsrc = ri.selectSrc(src);\n\t\tif (src) {\n\t\t\tif (src != 'none' && src != 'inherit' && src != 'initial') {\n\t\t\t\tsrc = 'url(' + path.rewrite(src) + ')';\n\t\t\t}\n\t\t}\n\t\tthis.applyStyle('background-image', src);\n\t},\n\n\t/**\n\t* @private\n\t*/\n\ticonChanged: function (old) {\n\t\tvar icon = this.get('icon') || '',\n\t\t\ticonEntity = icons[icon] || icon;\n\n\t\t// If the icon isn't in our known set, apply our custom font class\n\t\tthis.addRemoveClass('font-lg-icons', !icons[icon]);\n\n\t\tthis.set('content', iconEntity);\n\n\t\tif (icons[old]) {\n\t\t\tthis.removeClass(this.getIconClass(old));\n\t\t}\n\t\tif (icons[icon]) {\n\t\t\tthis.addClass(this.getIconClass());\n\t\t}\n\t},\n\n\t/**\n\t* @private\n\t*/\n\tsmallChanged: function () {\n\t\tthis.addRemoveClass('small', this.small);\n\t\t// Now that our content area is ready, assign the icon\n\t\tthis.iconChanged();\n\t},\n\n\t// Accessibility\n\n\t/**\n\t* @private\n\t*/\n\tariaObservers: [\n\t\t{path: ['accessibilityLabel', 'accessibilityHint'], method: function () {\n\t\t\tvar label = this.accessibilityHint && this.accessibilityLabel && (this.accessibilityLabel + ' ' + this.accessibilityHint) ||\n\t\t\t\t\t\tthis.accessibilityHint ||\n\t\t\t\t\t\tthis.accessibilityLabel ||\n\t\t\t\t\t\tnull;\n\t\t\tthis.setAriaAttribute('aria-label', label);\n\t\t}}\n\t]\n});\n","require('moonstone');\n\n/**\n* Contains the declaration for the {@link module:moonstone/Clock~Clock} kind.\n* @module moonstone/Clock\n*/\n\nvar\n\tkind = require('enyo/kind'),\n\tControl = require('enyo/Control'),\n\tSignals = require('enyo/Signals');\n\nvar\n\tLocaleInfo = require('enyo-ilib/LocaleInfo'),\n\tLocale = require('enyo-ilib/Locale'),\n\tDateFmt = require('enyo-ilib/DateFmt'),\n\tdateFactory = require('enyo-ilib/DateFactory');\n\n/**\n* Used to set a static time for {@link module:moonstone/Clock~Clock} to display.\n*\n* @typedef {Object} module:moonstone/Clock~Clock~DateTimeObject\n* @property {Number} year - The year to display.\n* @property {Number} month - The month to display.\n* @property {Number} day - The day to display.\n* @property {Number} hour - The hour to display.\n* @property {Number} minute - The minute to display.\n* @property {Number} second - The second to display.\n* @public\n*/\n\n/**\n* {@link module:moonstone/Clock~Clock} is a control that displays clock information.\n*\n* Example:\n*\n* ```javascript\n* \tvar\n* \t\tkind = require('enyo/kind'),\n* \t\tClock = require('moonstone/Clock');\n*\n* \t{kind: Clock}\n* ```\n*\n* @class Clock\n* @extends module:enyo/Control~Control\n* @ui\n* @public\n*/\nmodule.exports = kind(\n\t/** @lends module:moonstone/Clock~Clock.prototype */ {\n\n\t/**\n\t* @private\n\t*/\n\tname: 'moon.Clock',\n\n\t/**\n\t* @private\n\t*/\n\tkind: Control,\n\n\t/**\n\t* @private\n\t*/\n\tclasses: 'moon-clock',\n\n\t/**\n\t* @private\n\t* @lends module:moonstone/Clock~Clock.prototype\n\t*/\n\tpublished: {\n\n\t\t/**\n\t\t* Refresh time in milliseconds.\n\t\t*\n\t\t* @type {Number}\n\t\t* @default 1000\n\t\t* @public\n\t\t*/\n\t\trefresh: 1000,\n\n\t\t/**\n\t\t* A user-provided date; if `undefined`, system date is used. May be either a\n\t\t* JavaScript {@glossary Date} object or a {@link module:moonstone/Clock~Clock~DateTimeObject}\n\t\t* describing a static date/time to be displayed.\n\t\t*\n\t\t* @type {Date|module:moonstone/Clock~Clock~DateTimeObject}\n\t\t* @default undefined\n\t\t* @public\n\t\t*/\n\t\tdate: undefined,\n\n\t\t/**\n\t\t* This property will be __private__ in the future and is deprecated as a __public__\n\t\t* property. It is used internally and _should not be used otherwise_.\n\t\t*\n\t\t* This is an [iLib]{@glossary ilib} Locale instance. Setting this directly may have\n\t\t* unexpected results. This class will automatically respond to application locale\n\t\t* changes that use the {@link module:enyo/i18n#updateLocale} method.\n\t\t*\n\t\t* @deprecated\n\t\t* @type {Locale}\n\t\t* @default null\n\t\t* @public\n\t\t*/\n\t\tlocale: null\n\t},\n\n\t/**\n\t* @private\n\t*/\n\tobservers: {\n\t\tmodeChanged: ['mode']\n\t},\n\n\t/**\n\t* @private\n\t*/\n\tcomponents: [\n\t\t{name: 'clock', kind: Control, classes: 'moon-bold-text'},\n\t\t{kind: Signals, onlocalechange: 'handleLocaleChangeEvent'}\n\t],\n\n\t/**\n\t* @private\n\t*/\n\t_timeDiff: 0,\n\n\t/**\n\t* [iLib]{@glossary ilib} locale info instance; it contains information about the\n\t* particular locale.\n\t*\n\t* @private\n\t*/\n\tilibLocaleInfo: null,\n\n\t/**\n\t* Defines clock mode.\n\t* If `date` is assigned with JavaScript Date object or `null`, it will be `'normal'`.\n\t* If `date` is assigned with JavaScript object that indicates the exact time components\n\t* to be formatted into the clock, it will be `'static'`.\n\t*\n\t* @private\n\t*/\n\tmode: 'normal',\n\n\t/**\n\t* @private\n\t*/\n\tcreate: function () {\n\t\tControl.prototype.create.apply(this, arguments);\n\t\tthis.initILib();\n\t\tthis.refreshJob();\n\t},\n\n\t/**\n\t* @private\n\t*/\n\tinitILib: function () {\n\t\tthis.locale = new Locale();\n\t\tthis.ilibLocaleInfo = new LocaleInfo(this.locale);\n\t\tvar clockPref = this.ilibLocaleInfo.getClock();\n\t\tvar clock = clockPref !== 'locale' ? clockPref : undefined;\n\n\t\tvar fmtParams = {\n\t\t\tlocale: this.locale,\n\t\t\ttype: 'time',\n\t\t\ttime: 'hma',\n\t\t\tuseNative: false,\n\t\t\tclock: clock,\n\t\t\ttimezone: (this.mode === 'normal') ? 'local' : 'Etc/UTC'\n\t\t};\n\n\t\tthis._tf = new DateFmt(fmtParams);\n\t},\n\n\t/**\n\t* @private\n\t*/\n\trefreshChanged: function () {\n\t\tthis.startJob('refresh', this.bindSafely('refreshJob'), this.getRefresh());\n\t},\n\n\t/**\n\t* @private\n\t*/\n\tdateChanged: function () {\n\t\tif (this.date && !(this.date instanceof Date)) {\n\t\t\tthis.set('mode', 'static');\n\t\t} else if(this.date && this.date instanceof Date) {\n\t\t\tthis.set('mode', 'normal');\n\t\t\tthis._timeDiff = (this.date.getTime() - Date.now()) || 0;\n\t\t} else {\n\t\t\tthis.set('mode', 'normal');\n\t\t\tthis._timeDiff = 0;\n\t\t}\n\t\tthis.refreshJob();\n\t},\n\n\t/**\n\t* @private\n\t*/\n\trefreshJob: function () {\n\t\tthis.updateDate();\n\t\tif (this.mode === 'normal') {\n\t\t\tthis.startJob('refresh', this.bindSafely('refreshJob'), this.getRefresh());\n\t\t}\n\t},\n\n\t/**\n\t* @private\n\t*/\n\tmodeChanged: function () {\n\t\tthis._refresh();\n\t},\n\n\t/**\n\t* @private\n\t*/\n\t_refresh: function () {\n\t\tif (this._tf) {\n\t\t\tdelete this._tf;\n\t\t}\n\t\tthis.initILib();\n\t},\n\n\t/**\n\t* If user sets time without using a JavaScript Date object, this method\n\t* parses the object into an array for an `iLib.Date` object.\n\t*\n\t* @private\n\t*/\n\tparseStaticDate: function (date) {\n\t\treturn {\n\t\t\tyear: (date.year !== undefined) ? date.year : 0,\n\t\t\tmonth: (date.month !== undefined) ? date.month : 1,\n\t\t\tday: (date.day !== undefined) ? date.day : 0,\n\t\t\thour: (date.hour !== undefined) ? date.hour : 0,\n\t\t\tminute: (date.min !== undefined) ? date.min : 0,\n\t\t\tsecond: (date.sec !== undefined) ? date.sec : 0,\n\t\t\ttimezone: 'Etc/UTC'\n\t\t};\n\t},\n\n\t/**\n\t* @private\n\t*/\n\tupdateDate: function () {\n\t\tvar d, h;\n\t\tif (this.mode === 'normal') {\n\t\t\td = new Date(Date.now() + this._timeDiff);\n\t\t\th = d.getHours();\n\t\t} else {\n\t\t\td = this.date;\n\t\t\th = (this.date.hour) ? this.date.hour : 0;\n\t\t}\n\t\tthis.updateTime(d, h);\n\t},\n\n\t/**\n\t* @private\n\t*/\n\tupdateTime: function (inDate, inHour) {\n\t\tvar date = (this.mode === 'normal') ? {unixtime: inDate.getTime(), timezone:'Etc/UTC'} : this.parseStaticDate(inDate),\n\t\t\ttime = this._tf.format(dateFactory(date));\n\t\tthis.$.clock.setContent(time);\n\t},\n\n\t/**\n\t* @private\n\t*/\n\thandleLocaleChangeEvent: function () {\n\t\tthis._refresh();\n\t\tthis.updateDate();\n\t}\n});\n","require('moonstone');\n\n/**\n* Contains the declaration for the {@link module:moonstone/Tooltip~Tooltip} kind.\n* @module moonstone/Tooltip\n*/\n\nvar\n\tkind = require('enyo/kind'),\n\tdom = require('enyo/dom'),\n\tutil = require('enyo/utils'),\n\tControl = require('enyo/Control'),\n\tPopup = require('enyo/Popup'),\n\tComponent = require('enyo/Component'),\n\tSignals = require('enyo/Signals'),\n\tri = require('enyo/resolution');\n\nvar pointerTemplate = '<path d=\"M0,5C0,3,1,0,3,0H0V5Z\"/>';\n\n// To prevent lingering tooltips, we're monitoring spotlight changes and tooltip display\n// to ensure that only 1 tooltip is active.\n// see BHV-14524, ENYO-247\nvar observer = new Component({\n\n\t/**\n\t* Last active tooltip\n\t* @private\n\t*/\n\tactive: null,\n\n\t/**\n\t* @private\n\t*/\n\tcomponents: [\n\t\t{kind: Signals, onSpotlightCurrentChanged: 'spotChanged'}\n\t],\n\n\t/**\n\t* @private\n\t*/\n\tactiveChanged: function (was) {\n\t\tif(was) {\n\t\t\twas.waterfall('onRequestHideTooltip');\n\t\t}\n\t},\n\n\t/**\n\t* @private\n\t*/\n\tspotChanged: function (sender, event) {\n\t\tthis.set('active', null);\n\t}\n});\n\n/**\n* Provides uppercasing and checks text directionality for controls within a\n* {@link module:moonstone/Tooltip~Tooltip}.\n*\n* @class TooltipContent\n* @extends module:enyo/Control~Control\n* @ui\n* @public\n*/\nvar TooltipContent = kind({\n\t/**\n\t* @private\n\t*/\n\tname: 'moon.TooltipContent',\n\n\t/**\n\t* @private\n\t*/\n\tkind: Control,\n\n\t/**\n\t* When `true`, the content will have locale-safe uppercasing applied.\n\t*\n\t* @type {Boolean}\n\t* @default true\n\t* @public\n\t*/\n\tuppercase: true,\n\n\t/**\n\t* @private\n\t*/\n\tcreate: function () {\n\t\tthis._content = this.content;\n\t\tControl.prototype.create.apply(this, arguments);\n\t},\n\n\t/**\n\t* @private\n\t*/\n\tcontentChanged: function (was, is) {\n\t\tif (arguments.length) this._content = is;\n\t\tthis.content = this.uppercase ? util.toUpperCase(this._content) : this._content;\n\t\tControl.prototype.contentChanged.apply(this, arguments);\n\t\tthis.detectTextDirectionality();\n\t},\n\n\t/**\n\t* @private\n\t*/\n\tuppercaseChanged: function (was, is) {\n\t\tthis.contentChanged();\n\t}\n});\n\n/**\n* {@link module:moonstone/Tooltip~Tooltip} is a popup that works in conjunction\n* with {@link module:moonstone/TooltipDecorator~TooltipDecorator}. The tooltip\n* is automatically displayed when the user hovers over the decorator for a given\n* period of time. The tooltip is positioned around the decorator where there is\n* available window space.\n*\n* ```javascript\n* \tvar\n* \t\tkind = require('enyo/kind'),\n* \t\tButton = require('moonstone/Button'),\n* \t\tTooltip = require('moonstone/Tooltip'),\n* \t\tTooltipDecorator = require('moonstone/TooltipDecorator');\n*\n* \t{kind: TooltipDecorator, components: [\n* \t\t{kind: Button, content: 'Tooltip'},\n* \t\t{kind: Tooltip, content: 'I am a tooltip for a button.'}\n* \t]}\n* ```\n*\n* You may force the tooltip to appear by calling its\n* [show()]{@link module:enyo/Control~Control#show} method.\n*\n* @class Tooltip\n* @extends module:enyo/Popup~Popup\n* @ui\n* @public\n*/\nmodule.exports = kind(\n\t/** @lends module:moonstone/Tooltip~Tooltip.prototype */ {\n\n\t/**\n\t* @private\n\t*/\n\tname: 'moon.Tooltip',\n\n\t/**\n\t* @private\n\t*/\n\tkind: Popup,\n\n\t/**\n\t* @private\n\t*/\n\tdefaultKind: TooltipContent,\n\n\t/**\n\t* @private\n\t*/\n\tclasses: 'moon-tooltip below left-arrow',\n\n\t/**\n\t* @private\n\t* @lends module:moonstone/Tooltip~Tooltip.prototype\n\t*/\n\tpublished: {\n\t\t/**\n\t\t* This value overrides the default value of\n\t\t* [autoDismiss]{@link module:enyo/Popup~Popup#autoDismiss} inherited from\n\t\t* {@link module:enyo/Popup~Popup}.\n\t\t* If `true`, the tooltip will hide when the user taps outside of it or presses\n\t\t* ESC. Note that this property only affects behavior when the tooltip is used\n\t\t* independently, not when it is used with\n\t\t* [TooltipDecorator]{@link module:moonstone/TooltipDecorator~TooltipDecorator}.\n\t\t*\n\t\t* @type {Boolean}\n\t\t* @default false\n\t\t* @public\n\t\t*/\n\t\tautoDismiss: false,\n\n\t\t/**\n\t\t* This value overrides the default value of\n\t\t* [floating]{@link module:enyo/Popup~Popup#floating} inherited from\n\t\t* {@link module:enyo/Popup~Popup}.\n\t\t* If 'false', the tooltip will not be rendered in a\n\t\t* [floating layer]{@link module:enyo/Control/floatingLayer~FloatingLayer} and can be ocluded\n\t\t* by other controls. Otherwise if `true`, the tooltip will be shown on top of other controls.\n\t\t*\n\t\t* @type {Boolean}\n\t\t* @default true\n\t\t* @public\n\t\t*/\n\t\tfloating: true,\n\n\t\t/**\n\t\t* Hovering over the decorator for this length of time (in milliseconds) causes the\n\t\t* tooltip to appear.\n\t\t*\n\t\t* @type {Number}\n\t\t* @default 500\n\t\t* @public\n\t\t*/\n\t\tshowDelay: 500,\n\n\t\t/**\n\t\t* Position of the tooltip with respect to the activating control. Valid values are\n\t\t* `'above'`, `'below'`, `'left top'`, `'left bottom'`, `'right top'`, `'right bottom'`, and\n\t\t* `'auto'`. The values starting with `'left`' and `'right'` place the tooltip on the side\n\t\t* (sideways tooltip) with two additional positions available, `'top'` and `'bottom'`, which\n\t\t* places the tooltip content toward the top or bottom, with the tooltip pointer\n\t\t* middle-aligned to the activator.\n\t\t*\n\t\t* Note: The sideways tooltip does not automatically switch sides if it gets too close or\n\t\t* overlaps with the window bounds, as this may cause undesirable layout implications,\n\t\t* covering your other controls.\n\t\t*\n\t\t* @type {String}\n\t\t* @default 'auto'\n\t\t* @public\n\t\t*/\n\t\tposition: 'auto',\n\n\t\t/**\n\t\t* Default `margin-left` value.\n\t\t*\n\t\t* @type {Number}\n\t\t* @default 0\n\t\t* @public\n\t\t*/\n\t\tdefaultLeft: 0,\n\n\t\t/**\n\t\t* When `true`, the content will have locale-safe uppercasing applied.\n\t\t*\n\t\t* @type {Boolean}\n\t\t* @default true\n\t\t* @public\n\t\t*/\n\t\tuppercase: true,\n\n\t\t/**\n\t\t* @deprecated Replaced by [uppercase]{@link module:moonstone/Tooltip~Tooltip#uppercase}.\n\t\t*\n\t\t* Formerly defaulted to `true`, now defaults to `null` and will only have\n\t\t* an effect when explicitly set (for complete backward compatibility).\n\t\t*\n\t\t* @type {Boolean}\n\t\t* @default null\n\t\t* @public\n\t\t*/\n\t\tcontentUpperCase: null\n\t},\n\n\t/**\n\t* @private\n\t*/\n\tcaptureEvents: false,\n\n\t/**\n\t* @private\n\t*/\n\thandlers: {\n\t\tonRequestShowTooltip: 'requestShow',\n\t\tonRequestHideTooltip: 'requestHide'\n\t},\n\n\t/**\n\t* @private\n\t*/\n\ttools: [\n\t\t{name: 'point', kind: Control, classes: 'moon-tooltip-point', tag: 'svg', attributes: {viewBox: '0 0 3 5'}, allowHtml: true, content: pointerTemplate},\n\t\t{name: 'client', kind: Control, classes: 'moon-tooltip-label moon-header-font'}\n\t],\n\n\t/**\n\t* @private\n\t*/\n\tinitComponents: function () {\n\t\tthis.createChrome(this.tools);\n\t\tPopup.prototype.initComponents.apply(this, arguments);\n\t},\n\n\t/**\n\t* @private\n\t*/\n\tcreate: function () {\n\t\tPopup.prototype.create.apply(this, arguments);\n\n\t\t// FIXME: Backwards-compatibility for deprecated property - can be removed when\n\t\t// the contentUpperCase property is fully deprecated and removed. The legacy\n\t\t// property takes precedence if it exists.\n\t\tif (this.contentUpperCase !== null) this.uppercase = this.contentUpperCase;\n\n\t\tthis.contentChanged();\n\t},\n\n\t/**\n\t* @private\n\t*/\n\tcontentChanged: function () {\n\t\tthis.detectTextDirectionality();\n\t\tvar content = this.getContent();\n\t\tthis.$.client.setContent( this.get('uppercase') ? util.toUpperCase(content) : content);\n\t},\n\n\t/**\n\t* @private\n\t*/\n\tuppercaseChanged: function () {\n\t\t// FIXME: Backwards-compatibility for deprecated property - can be removed when\n\t\t// contentUpperCase is fully deprecated and removed.\n\t\tif (this.contentUpperCase != this.uppercase) this.contentUpperCase = this.uppercase;\n\t\tthis.contentChanged();\n\t},\n\n\t/**\n\t* @private\n\t*/\n\tcontentUpperCaseChanged: function () {\n\t\tif (this.uppercase != this.contentUpperCase) this.uppercase = this.contentUpperCase;\n\t\tthis.uppercaseChanged();\n\t},\n\n\t/**\n\t* @private\n\t*/\n\tpositionChanged:function () {\n\t\tthis.adjustPosition(true);\n\t},\n\n\t/**\n\t* @private\n\t*/\n\trequestShow: function (inSender, inEvent) {\n\t\tobserver.set('active', this);\n\t\tthis.activator = inEvent.originator;\n\t\tthis.startJob('showJob', 'show', this.showDelay);\n\t\treturn true;\n\t},\n\n\t/**\n\t* @private\n\t*/\n\tcancelShow: function () {\n\t\tthis.stopJob('showJob');\n\t},\n\n\t/**\n\t* @private\n\t*/\n\trequestHide: function () {\n\t\tthis.cancelShow();\n\t\treturn Popup.prototype.requestHide.apply(this, arguments);\n\t},\n\n\t/**\n\t* @private\n\t*/\n\tshowingChanged: function () {\n\t\tthis.cancelShow();\n\t\tPopup.prototype.showingChanged.apply(this, arguments);\n\t},\n\n\t/**\n\t* @private\n\t*/\n\tapplyPosition: function (inRect) {\n\t\tvar s = '';\n\t\tfor (var n in inRect) {\n\t\t\ts += (n + ':' + inRect[n] + (isNaN(inRect[n]) ? '; ' : 'px; '));\n\t\t}\n\t\tthis.addStyles(s);\n\t},\n\n\t/**\n\t* @private\n\t*/\n\tadjustPosition: function (belowActivator) {\n\t\tif (this.showing && this.hasNode()) {\n\t\t\tvar b = this.node.getBoundingClientRect(),\n\t\t\t\tmoonDefaultPadding = ri.scale(18),\n\t\t\t\tdefaultMargin = ri.scale(21),\n\t\t\t\tfloating = this.get('floating'),\n\t\t\t\tacNode = this.activator.hasNode(),\n\t\t\t\tpBounds = this.parent.getAbsoluteBounds(),\n\t\t\t\tacBounds = this.activator.getAbsoluteBounds(),\n\t\t\t\tacBorders;\n\n\t\t\t//* Calculate the difference between decorator and activating\n\t\t\t//* control's top, left, right differences, position tooltip against\n\t\t\t//* the activating control instead of the decorator accordingly.\n\t\t\tvar paTopDiff = pBounds.top - acBounds.top,\n\t\t\t\tpaLeftDiff =  acBounds.left - pBounds.left,\n\t\t\t\tpaRightDiff = pBounds.left + pBounds.width - acBounds.left - acBounds.width,\n\t\t\t\tacRight = window.innerWidth - moonDefaultPadding - acBounds.left - acBounds.width,\n\t\t\t\trtl = this.parent.rtl,\t// Must check the parent because the text may have been auto-flipped due to content's direction\n\t\t\t\tanchorLeft, anchorSide, offset;\n\n\t\t\tif (this.position == 'auto') this.position = 'above';\t// Choose a rational default\n\n\t\t\t// Restore to generic state\n\t\t\tthis.removeClass('above');\n\t\t\tthis.removeClass('below');\n\t\t\tthis.removeClass('top');\n\t\t\tthis.removeClass('bottom');\n\t\t\tthis.removeClass('left-arrow');\n\t\t\tthis.removeClass('right-arrow');\n\n\t\t\tif (rtl) {\n\t\t\t\tanchorLeft = pBounds.left + pBounds.width / 2 - moonDefaultPadding < b.width;\n\t\t\t} else {\n\t\t\t\t//* When there is not enough room on the left, using right-arrow for the tooltip\n\t\t\t\tanchorLeft = window.innerWidth - moonDefaultPadding - pBounds.left - pBounds.width / 2 >= b.width;\n\t\t\t}\n\n\t\t\tif (floating) {\n\t\t\t\toffset = acRight + moonDefaultPadding;\n\t\t\t} else {\n\t\t\t\toffset = paRightDiff;\n\t\t\t\t// we need to account for activator border widths if we are not floating\n\t\t\t\tacBorders = dom.calcBoxExtents(acNode, 'border');\n\t\t\t}\n\n\t\t\t//* Check if have a compound position, 2 words:\n\t\t\tif (this.position && this.position.indexOf(' ') >= 0) {\n\t\t\t\tanchorSide = true;\n\t\t\t\tvar positions = this.position.split(' '),\n\t\t\t\t\tlr = positions[0],\t// This should be either 'left' or 'right'\n\t\t\t\t\ttb = positions[1],\t// This should be either 'top' or 'bottom'\n\t\t\t\t\trelTop = 0,\n\t\t\t\t\trelLeft = 0;\n\n\t\t\t\tthis.addClass(tb);\n\n\t\t\t\t// Calculate the absolute top coordinate\n\t\t\t\trelTop = (acBounds.height / 2);\n\t\t\t\tif (tb == 'top') {\n\t\t\t\t\t// We're below, alter the absTop value as necessary\n\t\t\t\t\trelTop -= b.height;\n\t\t\t\t}\n\n\t\t\t\t// detrmine the side, and if RTL, just do the opposite.\n\t\t\t\tif ((lr == 'left' && !rtl) || (lr == 'right' && rtl)) {\n\t\t\t\t\tthis.addClass('right-arrow');\n\t\t\t\t\trelLeft = -(b.width + defaultMargin + (floating ? 0 : acBorders.left));\n\t\t\t\t} else if ((lr == 'right' && !rtl) || (lr == 'left' && rtl)) {\n\t\t\t\t\tthis.addClass('left-arrow');\n\t\t\t\t\trelLeft = acNode.clientWidth + defaultMargin + (floating ? acBounds.width - acNode.clientWidth : acBorders.right);\n\t\t\t\t}\n\n\t\t\t\tif (floating) {\n\t\t\t\t\t// Absolute (floating) measurements are based on the relative positions\n\t\t\t\t\t// Adjusting as needed.\n\t\t\t\t\trelTop = acBounds.top + relTop;\n\t\t\t\t\trelLeft = acBounds.left + relLeft;\n\t\t\t\t}\n\n\t\t\t\tthis.applyPosition({'top': dom.unit(relTop, 'rem'), 'left': dom.unit(relLeft, 'rem'), 'right': 'auto'});\n\n\t\t\t} else {\n\t\t\t\t//* When there is not enough room in the bottom, move it above the\n\t\t\t\t//* decorator; when the tooltip bottom is within window height but\n\t\t\t\t//* set programmatically above, move it above\n\t\t\t\tif ((window.innerHeight - moonDefaultPadding) - (pBounds.top + pBounds.height) < b.height + defaultMargin || (this.position == 'above')) {\n\t\t\t\t\tthis.addClass('above');\n\t\t\t\t\tif (floating) {\n\t\t\t\t\t\tthis.applyPosition({'top': dom.unit((acBounds.top - b.height - defaultMargin),'rem'), 'left': dom.unit(acBounds.left + acBounds.width / 2, 'rem'), 'right': 'auto'});\n\t\t\t\t\t} else {\n\t\t\t\t\t\tthis.applyPosition({'top': dom.unit(-(b.height + defaultMargin + paTopDiff + acBorders.top), 'rem'), 'left': dom.unit(acBounds.width / 2 + paLeftDiff, 'rem'), 'right': 'auto'});\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\t//* When there is not enough space above the parent container, move\n\t\t\t\t//* it below the decorator; when there is enough space above the\n\t\t\t\t//* parent container but is set programmatically, leave it below\n\t\t\t\tif (pBounds.top < (b.height + defaultMargin) || (this.position == 'below') || this.hasClass('below')) {\n\t\t\t\t\tthis.removeClass('above');\t// Above class may have been added in the `if` check above, then need to be removed because the tooltip didn't fit on the screen.\n\t\t\t\t\tthis.addClass('below');\n\t\t\t\t\tif (floating) {\n\t\t\t\t\t\tthis.applyPosition({'top': dom.unit(acBounds.top + acBounds.height + defaultMargin, 'rem'), 'left': dom.unit(acBounds.left + acBounds.width / 2, 'rem'), 'right': 'auto'});\n\t\t\t\t\t} else {\n\t\t\t\t\t\tthis.applyPosition({'top': dom.unit(this.parent.node.clientHeight + defaultMargin + paTopDiff + acBorders.bottom, 'rem'), 'left': dom.unit(acBounds.width / 2 + paLeftDiff, 'rem'), 'right': 'auto'});\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tif (anchorLeft) {\n\t\t\t\t\tthis.addClass('left-arrow');\n\t\t\t\t} else {\n\t\t\t\t\tthis.addClass('right-arrow');\n\t\t\t\t\tthis.applyPosition({'margin-left': dom.unit(- b.width, 'rem'), 'left': 'auto'});\n\t\t\t\t\tthis.applyStyle('right', dom.unit(acBounds.width / 2 + offset, 'rem'));\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t},\n\n\t/**\n\t* @private\n\t*/\n\thandleResize: function () {\n\t\tthis.applyPosition({'margin-left': this.defaultLeft, 'bottom': 'auto'});\n\t\tthis.adjustPosition(true);\n\t\tPopup.prototype.handleResize.apply(this, arguments);\n\t},\n\n\t// Accessibility\n\n\t/**\n\t* When `true`, the contents of the popup will be read when shown.\n\t*\n\t* @default true\n\t* @type {Boolean}\n\t* @public\n\t*/\n\taccessibilityReadAll: true,\n\n\t/**\n\t* @private\n\t*/\n\taccessibilityLive: 'off',\n\n\t/**\n\t* @private\n\t*/\n\tariaObservers: [\n\t\t{path: ['accessibilityReadAll', 'accessibilityRole', 'showing'], method: function () {\n\t\t\tthis.startJob('alert', function () {\n\t\t\t\tthis.setAriaAttribute('role', this.accessibilityReadAll && this.showing ? 'alert' : this.accessibilityRole);\n\t\t\t}, 100);\n\t\t}}\n\t]\n});\n\nmodule.exports.Content = TooltipContent;\n","/**\n* Contains the declaration for the {@link module:moonstone/VideoInfoBackground~VideoInfoBackground} kind.\n* @module moonstone/VideoInfoBackground\n*/\n\nrequire('moonstone');\n\nvar\n\tkind = require('enyo/kind'),\n\tControl = require('enyo/Control');\n\n/**\n* {@link module:moonstone/VideoInfoBackground~VideoInfoBackground} is a [control]{@link module:enyo/Control~Control} that provides a\n* stylized background for [components]{@link module:enyo/Component~Component} placed in the\n* [infoComponents]{@link module:moonstone/VideoPlayer~VideoPlayer#infoComponents} block of a {@link module:moonstone/VideoPlayer~VideoPlayer}.\n* It is designed as a decorator, wrapping the components inside with the stylized background.\n*\n* Use the [orient]{@link module:moonstone/VideoInfoBackground~VideoInfoBackground#orient} property to set the orientation\n* (`'left'` or `'right'`).\n*\n* For more details, see {@link module:moonstone/VideoPlayer~VideoPlayer}.\n*\n* @class VideoInfoBackground\n* @extends module:enyo/Control~Control\n* @ui\n* @public\n*/\nmodule.exports = kind(\n\t/** @lends module:moonstone/VideoInfoBackground~VideoInfoBackground.prototype */ {\n\n\t/**\n\t* @private\n\t*/\n\tname: 'moon.VideoInfoBackground',\n\n\t/**\n\t* @private\n\t*/\n\tkind: Control,\n\n\t/**\n\t* @private\n\t*/\n\tclasses: 'moon-video-player-info-background',\n\n\t/**\n\t* @private\n\t* @lends module:moonstone/VideoInfoBackground~VideoInfoBackground.prototype\n\t*/\n\tpublished: {\n\n\t\t/**\n\t\t* Orientation of the control; valid values are `'left'` and `'right'`.\n\t\t*\n\t\t* @type {String}\n\t\t* @default 'left'\n\t\t* @public\n\t\t*/\n\t\torient: 'left'\n\t},\n\n\t/**\n\t* @private\n\t*/\n\tinitComponents: function() {\n\t\tControl.prototype.initComponents.apply(this, arguments);\n\t\tthis.orientChanged();\n\t},\n\n\t/**\n\t* @private\n\t*/\n\torientChanged: function() {\n\t\tthis.addRemoveClass('right', this.orient != 'left');\n\t\tthis.addRemoveClass('left', this.orient == 'left');\n\t}\n});\n","require('moonstone');\n\n/**\n* Contains the declaration for the {@link module:moonstone/HighlightText~HighlightText} kind.\n* @module moonstone/HighlightText\n*/\n\nvar\n\tkind = require('enyo/kind'),\n\tdom = require('enyo/dom'),\n\tControl = require('enyo/Control'),\n\tHTMLStringDelegate = require('enyo/HTMLStringDelegate');\n\n/**\n* Event sent to {@link module:moonstone/HighlightText~HighlightText} to turn on highlighting.\n*\n* @event module:moonstone/HighlightText~HighlightText#onHighlight\n* @type {Object}\n* @property {String|RegExp} highlight - String or regular expression specifying the text or\n*\tpattern to highlight.\n* @public\n*/\n\n/**\n* Event sent to {@link module:moonstone/HighlightText~HighlightText} to turn off highlighting. No additional data\n* is sent with this event.\n*\n* @event module:moonstone/HighlightText~HighlightText#onUnHighlight\n* @type {Object}\n* @public\n*/\n\nvar HighlightTextDelegate = Object.create(HTMLStringDelegate);\n\nHighlightTextDelegate.generateInnerHtml = function (control) {\n\tvar i = 0, child;\n\t// flow can alter the way that html content is rendered inside\n\t// the container regardless of whether there are children.\n\tcontrol.flow();\n\tif (control.children.length) {\n\t\t// If marqueeText is created inside of highlightText then it needs to pass search keyword to children\n\t\tfor (; (child = control.children[i]); ++i) {\n\t\t\tchild.search = control.search;\n\t\t\tchild.highlightClasses = control.highlightClasses; // this is not included in search, so passing it\n\t\t}\n\t\treturn this.generateChildHtml(control);\n\t}\n\telse {\n\t\tif (control.search && control.content) {\n\t\t\treturn control.content.replace(control.search, control.bindSafely(function (s) {\n\t\t\t\treturn '<span style=\\'pointer-events:none;\\' class=\\'' + this.highlightClasses + '\\'>' + dom.escape(s) + '</span>';\n\t\t\t}));\n\t\t} else {\n\t\t\treturn dom.escape(control.get('content'));\n\t\t}\n\t}\n};\n\n/**\n* {@link module:moonstone/HighlightText~HighlightText} is a control that displays highlighted text.  When\n* the [highlight]{@link module:moonstone/HighlightText~HighlightText#highlight} property is set or an\n* [onHighlight]{@link module:moonstone/HighlightText~HighlightText#onHighlight} event is received,\n* it will highlight a specified string if that string is found within the\n* control's content.\n*\n* For example, let's say we have the following control:\n*\n* ```\n* \tvar\n* \t\tkind = require('enyo/kind'),\n* \t\tHighlightText = require('moonstone/HighlightText');\n*\n* \t{kind: HighlightText, name: 'myHT', content: 'Hello World!'}\n* ```\n* In response to the event\n*\n* ```\n* \tthis.waterfall('onHighlight', {highlight: 'Hello'});\n* ```\n* or the direct API call\n*\n* ```\n* \tthis.$.myHT.set('highlight', 'Hello');\n* ```\n*\n* the word \"Hello\" will be highlighted.\n*\n* The highlighting will be turned off when an\n* [onUnHighlight]{@link module:moonstone/HighlightText~HighlightText#onUnHighlight} event is received\n*\n* ```\n* \tthis.waterfall('onUnHighlight');\n* ```\n* or when [highlight]{@link module:moonstone/HighlightText~HighlightText#highlight} is set to a **falsy** value.\n*\n* ```\n* \tthis.$.myHT.set('highlight', '');\n* ```\n*\n* @class HighlightText\n* @extends module:enyo/Control~Control\n* @ui\n* @public\n*/\nmodule.exports = kind(\n\t/** @lends module:moonstone/HighlightText~HighlightText.prototype */ {\n\n\t/**\n\t* @private\n\t*/\n\tname: 'moon.HighlightText',\n\n\t/**\n\t* @private\n\t*/\n\tkind: Control,\n\n\t/**\n\t* @private\n\t* @lends module:moonstone/HighlightText~HighlightText.prototype\n\t*/\n\tpublished: {\n\n\t\t/**\n\t\t* String or regular expression specifying the text or pattern to highlight.\n\t\t* Setting this to an empty string, a **falsy** value, or an empty regex\n\t\t* will disable highlighting.\n\t\t*\n\t\t* @type {String|RegExp}\n\t\t* @default ''\n\t\t* @public\n\t\t*/\n\t\thighlight: '',\n\n\t\t/**\n\t\t* If `true`, only case-sensitive matches of the string to highlight will be\n\t\t* highlighted.  This property will be ignored if the\n\t\t* [highlight]{@link module:moonstone/HighlightText~HighlightText#highlight} property is set to a regular\n\t\t* expression (you may use the `'i'` modifier to create a case-insensitive regex).\n\t\t*\n\t\t* @type {Boolean}\n\t\t* @default false\n\t\t* @public\n\t\t*/\n\t\tcaseSensitive: false,\n\n\t\t/**\n\t\t* The default CSS class to apply to highlighted content.\n\t\t*\n\t\t* @type {String}\n\t\t* @default 'moon-highlight-text-highlighted'\n\t\t* @public\n\t\t*/\n\t\thighlightClasses: 'moon-highlight-text-highlighted'\n\t},\n\n\t/**\n\t* @private\n\t*/\n\trenderDelegate: HighlightTextDelegate,\n\n\t/**\n\t* @private\n\t*/\n\thandlers: {\n\t\tonHighlight: 'onHighlightHandler',\n\t\tonUnHighlight: 'unHighlightHandler'\n\t},\n\n\t/**\n\t* @private\n\t*/\n\tcreate: function () {\n\t\tControl.prototype.create.apply(this, arguments);\n\t\tthis.highlightChanged();\n\t},\n\n\t/**\n\t* @private\n\t*/\n\thighlightChanged: function () {\n\t\tif (this.highlight) {\n\t\t\tif (this.highlight instanceof RegExp) {\n\t\t\t\t// Make sure the regex isn't empty\n\t\t\t\tthis.search = (''.match(this.highlight)) ? null : this.highlight;\n\t\t\t} else {\n\t\t\t\t// Escape string for use in regex (standard regex escape from google)\n\t\t\t\tvar escaped = this.highlight.replace(/[\\-\\[\\]\\/\\{\\}\\(\\)\\*\\+\\?\\.\\\\\\^\\$\\|]/g, '\\\\$&');\n\t\t\t\tthis.search = new RegExp(escaped, this.caseSensitive ? 'g' : 'ig');\n\t\t\t}\n\t\t} else {\n\t\t\tthis.search = false;\n\t\t}\n\t\tif (this.hasNode()) {\n\t\t\tthis.contentChanged();\n\t\t}\n\t},\n\n\t/**\n\t* @private\n\t*/\n\tcaseSensitiveChanged: function () {\n\t\tthis.highlightChanged();\n\t},\n\n\t/**\n\t* @private\n\t*/\n\tonHighlightHandler: function (inSender, inEvent) {\n\t\tthis.setHighlight(inEvent.highlight);\n\t\treturn true;\n\t},\n\n\t/**\n\t* @private\n\t*/\n\tunHighlightHandler: function (inSender, inEvent) {\n\t\tthis.setHighlight('');\n\t\treturn true;\n\t}\n});\n","require('moonstone');\n\n/**\n* Contains the declaration for the {@link module:moonstone/Scrim~Scrim} kind.\n* @module moonstone/Scrim\n*/\n\nvar\n\tkind = require('enyo/kind'),\n\tScrim = require('enyo/Scrim');\n\n/**\n* {@link module:moonstone/Scrim~Scrim} is a Moonstone-styled\n* {@link module:enyo/Scrim~Scrim}.\n*\n* @class Scrim\n* @extends module:enyo/Scrim~Scrim\n* @ui\n* @public\n*/\nvar MoonScrim = module.exports = kind(\n\t/** @lends module:moonstone/Scrim~Scrim.prototype */ {\n\n\t/**\n\t* @private\n\t*/\n\tname: 'moon.Scrim',\n\n\t/**\n\t* @private\n\t*/\n\tkind: Scrim,\n\n\t/**\n\t* @private\n\t*/\n\tclasses: 'moon-scrim'\n});\n\nnew Scrim.ScrimSingleton(MoonScrim, 'scrim', {floating: true, classes: 'moon-scrim moon-scrim-translucent'});\nnew Scrim.ScrimSingleton(MoonScrim, 'scrimTransparent', {floating: true, classes: 'moon-scrim moon-scrim-transparent'});\n","require('moonstone');\n\n/**\n* Contains the declaration for the {@link module:moonstone/RichText~RichText} kind.\n* @module moonstone/RichText\n*/\n\nvar\n\tkind = require('enyo/kind'),\n\tRichText = require('enyo/RichText');\n\n/**\n* {@link module:moonstone/RichText~RichText} is a Moonstone-styled text input\n* field with support for rich text formatting such as bold, italics, and\n* underlining, derived from {@link module:enyo/RichText~RichText}. Typically, a\n* `moonstone/RichText` is placed inside a\n* {@link module:moonstone/InputDecorator~InputDecorator}, which provides\n* styling, e.g.:\n*\n* ```javascript\n* \tvar\n* \t\tkind = require('enyo/kind'),\n* \t\tInputDecorator = require('moonstone/InputDecorator'),\n* \t\tRichText = require('moonstone/RichText');\n*\n* \t{kind: InputDecorator, components: [\n* \t\t{kind: RichText, style: 'width: 240px;', onchange: 'inputChange'}\n* \t]}\n* ```\n*\n* For more information, see the documentation on\n* [Text Fields]{@linkplain $dev-guide/building-apps/controls/text-fields.html}\n* in the Enyo Developer Guide.\n*\n* @class RichText\n* @extends module:enyo/RichText~RichText\n* @ui\n* @public\n*/\nmodule.exports = kind(\n\t/** @lends module:moonstone/RichText~RichText.prototype */ {\n\n\t/**\n\t* @private\n\t*/\n\tname: 'moon.RichText',\n\n\t/**\n\t* @private\n\t*/\n\tkind: RichText,\n\n\t/**\n\t* @private\n\t*/\n\tclasses: 'moon-body-text moon-richtext',\n\n\t/**\n\t* @private\n\t*/\n\tcreate: function () {\n\t\tRichText.prototype.create.apply(this, arguments);\n\t\tthis.disabledChanged();\n\t},\n\n\t/**\n\t* Sets the focus on the RichText.\n\t*\n\t* @public\n\t*/\n\tfocus: function () {\n\t\tRichText.prototype.focus.apply(this, arguments);\n\t\tvar node = this.hasNode();\n\t\t// We move the cursor to the end, because in 5-way\n\t\t// mode there is no way (other than backspacing) for\n\t\t// the user to move the caret within the text field\n\t\tthis.moveCursorToEnd();\n\t\tnode.scrollTop = node.scrollHeight;\n\t},\n\n\t/**\n\t* Removes focus from the RichText.\n\t*\n\t* @public\n\t*/\n\tblur: function () {\n\t\tif (this.hasNode()) {\n\t\t\tthis.node.blur();\n\t\t}\n\t},\n\n\t/**\n\t* Piggyback onto {@link module:enyo/RichText~RichText#blurHandler}.\n\t*\n\t* @private\n\t* @method\n\t*/\n\tblurHandler: function () {\n\t\tRichText.prototype.blurHandler.apply(this, arguments);\n\t\tthis.hasNode().scrollTop = 0;\n\t},\n\n\t/**\n\t* @private\n\t*/\n\tdisabledChanged: function () {\n\t\tRichText.prototype.disabledChanged.apply(this, arguments);\n\t\tif (this.disabled) {\n\t\t\tthis.attributes.contenteditable = false;\n\t\t}\n\t},\n\n\t/**\n\t* @private\n\t*/\n\tleft: function () {\n\t\tvar sel = this.getSelection();\n\t\tif (sel.rangeCount) {\n\t\t\tvar selRange = sel.getRangeAt(0);\n\t\t\tvar testRange = selRange.cloneRange();\n\n\t\t\ttestRange.selectNodeContents(this.node);\n\t\t\ttestRange.setEnd(selRange.startContainer, selRange.startOffset);\n\n\t\t\tif (testRange.toString() === '') {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t}\n\t\treturn true;\n\t},\n\n\t/**\n\t* @private\n\t*/\n\tright: function () {\n\t\tvar sel = this.getSelection();\n\t\tif (sel.rangeCount) {\n\t\t\tvar selRange = sel.getRangeAt(0);\n\t\t\tvar testRange = selRange.cloneRange();\n\n\t\t\ttestRange.selectNodeContents(this.node);\n\t\t\ttestRange.setStart(selRange.endContainer, selRange.endOffset);\n\n\t\t\tif (testRange.toString() === '') {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t}\n\t\treturn true;\n\t},\n\n\t/**\n\t* @private\n\t*/\n\tup: function (inEvent) {\n\t\treturn this.left();\n\t},\n\n\t/**\n\t* @private\n\t*/\n\tdown: function (inEvent) {\n\t\treturn this.right();\n\t}\n});\n","require('moonstone');\n\n/**\n* Contains the declaration for the {@link module:moonstone/TextArea~TextArea} kind.\n* @module moonstone/TextArea\n*/\n\nvar\n\tkind = require('enyo/kind'),\n\tTextArea = require('enyo/TextArea');\n\n/**\n* {@link module:moonstone/TextArea~TextArea} is a Moonstone-styled text input\n* field, derived from {@link module:enyo/TextArea~TextArea}. Typically, a\n* `moonstone/TextArea` is placed inside a\n* {@link module:moonstone/InputDecorator~InputDecorator}, which provides\n* styling, e.g.:\n*\n* ```\n* \tvar\n* \t\tkind = require('enyo/kind'),\n* \t\tInputDecorator = require('moonstone/InputDecorator'),\n* \t\tTextArea = require('moonstone/TextArea');\n*\n* \t{kind: InputDecorator, components: [\n* \t\t{kind: TextArea, onchange: 'inputChange'}\n* \t]}\n* ```\n*\n* For more information, see the documentation on\n* [Text Fields]{@linkplain $dev-guide/building-apps/controls/text-fields.html}\n* in the Enyo Developer Guide.\n*\n* @class TextArea\n* @extends module:enyo/TextArea~TextArea\n* @ui\n* @public\n*/\nmodule.exports = kind(\n\t/** @lends module:moonstone/TextArea~TextArea.prototype */ {\n\n\t/**\n\t* @private\n\t*/\n\tname: 'moon.TextArea',\n\n\t/**\n\t* @private\n\t*/\n\tkind: TextArea,\n\n\t/**\n\t* @private\n\t*/\n\tclasses: 'moon-body-text moon-textarea',\n\n\t/**\n\t* @private\n\t*/\n\tspotlightIgnoredKeys: [13, 16777221],\t// 13==Enter, 16777221==KeypadEnter\n\n\t/**\n\t* @private\n\t*/\n\thandlers: {\n\t\tonblur: 'blurred'\n\t},\n\n\t/**\n\t* Sets the focus on the TextArea.\n\t*\n\t* @public\n\t*/\n\tfocus: function () {\n\t\tTextArea.prototype.focus.apply(this, arguments);\n\t\tvar node = this.hasNode();\n\t\t// We move the cursor to the end, because in 5-way\n\t\t// mode there is no way (other than backspacing) for\n\t\t// the user to move the caret within the text field\n\t\tnode.selectionStart = this.value.length;\n\t\tnode.scrollTop = node.scrollHeight;\n\t},\n\n\t/**\n\t* Removes focus from the TextArea.\n\t*\n\t* @public\n\t*/\n\tblur: function () {\n\t\tif (this.hasNode()) {\n\t\t\tthis.node.blur();\n\t\t}\n\t},\n\n\t/**\n\t* @private\n\t*/\n\tblurred: function () {\n\t\tthis.hasNode().scrollTop = 0;\n\t},\n\n\t/**\n\t* @private\n\t*/\n\tleft: function (inEvent) {\n\t\tif (!this.hasNode() || this.node.selectionStart === 0) {\n\t\t\treturn false;\n\t\t}\n\t\treturn true;\n\t},\n\n\t/**\n\t* @private\n\t*/\n\tright: function (inEvent) {\n\t\tif (!this.hasNode() || this.node.selectionStart == this.node.value.length) {\n\t\t\treturn false;\n\t\t}\n\t\treturn true;\n\t},\n\n\t/**\n\t* @private\n\t*/\n\tup: function (inEvent) {\n\t\treturn this.left(inEvent);\n\t},\n\n\t/**\n\t* @private\n\t*/\n\tdown: function (inEvent) {\n\t\treturn this.right(inEvent);\n\t}\n});\n","require('moonstone');\n\n/**\n* Contains the declaration for the {@link module:moonstone/ScrollThumb~ScrollThumb} kind.\n* @module moonstone/ScrollThumb\n*/\n\nvar\n\tkind = require('enyo/kind'),\n\tdom = require('enyo/dom'),\n\tScrollThumb = require('enyo/ScrollThumb');\n\n/**\n* {@link module:moonstone/ScrollThumb~ScrollThumb}, which extends\n* {@link module:enyo/ScrollThumb~ScrollThumb}, is used to display a small visual\n* scroll indicator.\n*\n* `moonstone/ScrollThumb` is not typically created in application code.\n*\n* @class ScrollThumb\n* @extends module:enyo/ScrollThumb~ScrollThumb\n* @ui\n* @public\n*/\nmodule.exports = kind(\n\t/** @lends module:moonstone/ScrollThumb~ScrollThumb.prototype */ {\n\n\t/**\n\t* @private\n\t*/\n\tname: 'moon.ScrollThumb',\n\n\t/**\n\t* @private\n\t*/\n\tkind: ScrollThumb,\n\n\t/**\n\t* @private\n\t* @lends module:moonstone/ScrollThumb~ScrollThumb.prototype\n\t*/\n\tpublished: {\n\t\t/**\n\t\t* Ratio of size and position of thumb with respect to scroll bounds.\n\t\t*\n\t\t* @type {Number}\n\t\t* @default 1\n\t\t* @public\n\t\t*/\n\t\tsizeRatio: 1\n\t},\n\n\t/**\n\t* @private\n\t*/\n\tclasses: 'moon-thumb matrix3dsurface',\n\n\t/**\n\t* @private\n\t*/\n\tminSize: 40,\n\n\t/**\n\t* @private\n\t*/\n\tcreate: function () {\n\t\tScrollThumb.prototype.create.apply(this, arguments);\n\t\tvar v = this.axis == 'v';\n\t\tthis.offset = v ? 'top' : 'left';\n\t\tthis.transform = dom.canTransform();\n\t\tthis.accel = dom.canAccelerate();\n\t\tthis.translation = this.accel ? 'matrix3d' : 'matrix';\n\t\tthis.positionMethod = v ? 'getScrollTop' : 'getScrollLeft';\n\t\tthis.sizeDimension = v ? 'clientHeight' : 'clientWidth';\n\t\tthis.addClass('enyo-' + this.axis + 'thumb');\n\t},\n\n\t/**\n\t* @private\n\t*/\n\tupdate: function (inStrategy) {\n\t\tif (this.showing && this.scrollBounds) {\n\t\t\tvar d = this.dimension;\n\t\t\tvar bd = this.scrollBounds[this.sizeDimension], sbd = this.scrollBounds[d];\n\t\t\tvar overs = 0, overp = 0, over = 0;\n\t\t\tvar ratio = this.getSizeRatio();\n\t\t\tif (bd > sbd) {\n\t\t\t\tthis.hide();\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif (inStrategy.isOverscrolling()) {\n\t\t\t\tover = inStrategy.getOverScrollBounds()['over' + this.offset];\n\t\t\t\tovers = Math.abs(over);\n\t\t\t\toverp = Math.max(over, 0);\n\t\t\t}\n\t\t\tvar sbo = inStrategy[this.positionMethod]() - over;\n\t\t\t// calc size & position\n\t\t\tvar bdc = bd - this.cornerSize;\n\t\t\tvar s = Math.floor((bd * bd / sbd) - overs);\n\t\t\ts = Math.max(this.minSize, s);\n\t\t\tvar p = Math.floor((bdc * sbo / sbd) + overp);\n\t\t\tp = Math.max(0, Math.min(bdc - this.minSize, p));\n\n\t\t\tp *= ratio;\n\t\t\ts *= ratio;\n\n\t\t\t// apply thumb styling if needed\n\t\t\tthis.needed = s < bd;\n\t\t\tif (this.needed && this.hasNode()) {\n\t\t\t\tdom.transformValue(this, this.translation, this.generateMatrix(p, s));\n\t\t\t} else {\n\t\t\t\tthis.hide();\n\t\t\t}\n\t\t}\n\t},\n\n\t/**\n\t* @private\n\t*/\n\tgenerateMatrix: function (inPosition, inSize) {\n\t\tvar x, y, w, h, node = this.hasNode();\n\n\t\tif (!node) {\n\t\t\tx = 0;\n\t\t\ty = 0;\n\t\t\tw = 1;\n\t\t\th = 1;\n\t\t}\n\t\telse if (this.axis === 'v') {\n\t\t\tx = 0;\n\t\t\ty = inPosition;\n\t\t\tw = 1;\n\t\t\th = inSize/node.offsetHeight;\n\t\t}\n\t\telse {\n\t\t\tx = inPosition;\n\t\t\ty = 0;\n\t\t\tw = inSize/node.offsetWidth;\n\t\t\th = 1;\n\t\t}\n\n\t\treturn (this.accel) ? this.assemble3dMatrix(x, y, w, h) : this.assemle2dMatrix(x, y, w, h);\n\t},\n\n\t/**\n\t* @private\n\t*/\n\tassemle2dMatrix: function (inX, inY, inWidth, inHeight) {\n\t\treturn inWidth + ', 0, 0, ' + inHeight + ', ' + inX + ', ' + inY;\n\t},\n\n\t/**\n\t* @private\n\t*/\n\tassemble3dMatrix: function (inX, inY, inWidth, inHeight) {\n\t\treturn inWidth + ', 0, 0, 0, 0, ' + inHeight + ', 0, 0, 0, 0, 1, 0, ' + inX + ', ' + inY + ', 1, 1';\n\t},\n\n\t/**\n\t* Override `show()` to give fade effect.\n\t*\n\t* @private\n\t*/\n\tshow: function () {\n\t\tthis.cancelDelayHide();\n\t\tthis.removeClass('hidden');\n\t},\n\n\t/**\n\t* Hides the control.\n\t*\n\t* @private\n\t*/\n\thide: function () {\n\t\tthis.addClass('hidden');\n\t}\n});\n","require('moonstone');\n\n/**\n* Contains the declaration for the {@link module:moonstone/ProgressBar~ProgressBar} kind.\n* @module moonstone/ProgressBar\n*/\n\nvar\n\tkind = require('enyo/kind'),\n\tControl = require('enyo/Control'),\n\tAnimator = require('enyo/Animator');\n\nvar\n\tdom = require('enyo/dom'),\n\tri = require('enyo/resolution'),\n\tutil = require('enyo/utils'),\n\tlog = require('enyo/logger'),\n\tControl = require('enyo/Control'),\n\tPopup = require('enyo/Popup');\n\nvar\n\tNumFmt = require('enyo-ilib/NumFmt');\n\n/**\n* Fires when progress bar finishes animating to a position. No event-specific data\n* is sent with this event.\n*\n* @event module:moonstone/ProgressBar~ProgressBar#onAnimateProgressFinish\n* @type {Object}\n* @public\n*/\n\n/**\n* {@link module:moonstone/ProgressBar~ProgressBar} is a [control]{@link module:enyo/Control~Control} that shows the current\n* progress of a process in a horizontal bar.\n*\n* ```javascript\n* \tvar\n* \t\tkind = require('enyo/kind'),\n* \t\tProgressBar = require('moonstone/ProgressBar');\n*\n* \t{kind: ProgressBar, progress: 10}\n* ```\n*\n* To animate a progress change, call the\n* [animateProgressTo()]{@link module:moonstone/ProgressBar~ProgressBar#animateProgressTo} method:\n*\n* ```javascript\n* \tthis.$.progressBar.animateProgressTo(50);\n* ```\n*\n* You may customize the color of the bar by applying a style via the\n* [barClasses]{@link module:moonstone/ProgressBar~ProgressBar#barClasses} property, e.g.:\n*\n* ```javascript\n* \tvar\n* \t\tkind = require('enyo/kind'),\n* \t\tProgressBar = require('moonstone/ProgressBar');\n*\n* \t{kind: ProgressBar, barClasses: 'class-name'}\n* ```\n*\n* For more information, see the documentation on [Progress\n* Indicators]{@linkplain $dev-guide/building-apps/controls/progress-indicators.html}\n* in the Enyo Developer Guide.\n*\n* @class ProgressBar\n* @extends module:enyo/Control~Control\n* @ui\n* @public\n*/\nmodule.exports = kind(\n\t/** @lends module:moonstone/ProgressBar~ProgressBar.prototype */ {\n\n\t/**\n\t* @private\n\t*/\n\tname: 'moon.ProgressBar',\n\n\t/**\n\t* @private\n\t*/\n\tkind: Control,\n\n\t/**\n\t* @private\n\t*/\n\tclasses: 'moon-progress-bar',\n\n\t/**\n\t* @private\n\t* @lends module:moonstone/ProgressBar~ProgressBar.prototype\n\t*/\n\tpublished: {\n\n\t\t/**\n\t\t* Current position of progress bar.\n\t\t*\n\t\t* @type {Number}\n\t\t* @default 0\n\t\t* @public\n\t\t*/\n\t\tprogress: 0,\n\n\t\t/**\n\t\t* Minimum progress value (i.e., no progress made).\n\t\t*\n\t\t* @type {Number}\n\t\t* @default 0\n\t\t* @public\n\t\t*/\n\t\tmin: 0,\n\n\t\t/**\n\t\t* Maximum progress value (i.e., process complete).\n\t\t*\n\t\t* @type {Number}\n\t\t* @default 100\n\t\t* @public\n\t\t*/\n\t\tmax: 100,\n\n\t\t/**\n\t\t* CSS classes to apply to progress bar.\n\t\t*\n\t\t* @type {String}\n\t\t* @default 'moon-progress-bar-bar'\n\t\t* @public\n\t\t*/\n\t\tbarClasses: 'moon-progress-bar-bar',\n\n\t\t/**\n\t\t* CSS classes to apply to background progress bar.\n\t\t*\n\t\t* @type {String}\n\t\t* @default 'moon-progress-bg-bar'\n\t\t* @public\n\t\t*/\n\t\tbgBarClasses: 'moon-progress-bg-bar',\n\n\t\t/**\n\t\t* Completion percentage for background process.\n\t\t*\n\t\t* @type {Number}\n\t\t* @default 0\n\t\t* @public\n\t\t*/\n\t\tbgProgress: 0,\n\n\t\t/**\n\t\t* CSS classes to apply to the popup label.\n\t\t*\n\t\t* @type {String}\n\t\t* @default 'moon-progress-bar-popup-label'\n\t\t* @public\n\t\t*/\n\t\tpopupLabelClasses: 'moon-large-button-text moon-progress-bar-popup-label',\n\n\t\t/**\n\t\t* Color value of the popup.\n\t\t*\n\t\t* @type {String}\n\t\t* @default '#4d4d4d'\n\t\t* @public\n\t\t*/\n\t\tpopupColor: '#4d4d4d',\n\n\t\t/**\n\t\t* When `true`, a popup bubble is displayed at the point of progress\n\t\t*\n\t\t* @type {Boolean}\n\t\t* @default false\n\t\t* @public\n\t\t*/\n\t\tpopup: false,\n\n\t\t/**\n\t\t* When `true`, the popup displays a percentage value (rather than an absolute value).\n\t\t*\n\t\t* @type {Boolean}\n\t\t* @default true\n\t\t* @public\n\t\t*/\n\t\tshowPercentage: true,\n\n\t\t/**\n\t\t* Popup width in pixels.\n\t\t*\n\t\t* @type {Number|String}\n\t\t* @default 'auto'\n\t\t* @public\n\t\t*/\n\t\tpopupWidth: 'auto',\n\n\t\t/**\n\t\t* Popup height in pixels; value should be less than `72`.\n\t\t*\n\t\t* @type {Number|String}\n\t\t* @default 67\n\t\t* @public\n\t\t*/\n\t\tpopupHeight: 67,\n\n\t\t/**\n\t\t* Popup offset in pixels.\n\t\t*\n\t\t* @type {Number}\n\t\t* @default 8\n\t\t* @public\n\t\t*/\n\t\tpopupOffset: 8,\n\n\t\t/**\n\t\t* Custom popup content (ignored if `null`).\n\t\t*\n\t\t* @type {String|null}\n\t\t* @default null\n\t\t* @public\n\t\t*/\n\t\tpopupContent: null,\n\n\t\t/**\n\t\t* When [orientation]{@link module:moonstone/ProgressBar~ProgressBar#orientation} is set to\n\t\t* 'vertical', the popup will show on the listed side.\n\t\t*\n\t\t* @type {String}\n\t\t* @default 'right'\n\t\t* @public\n\t\t*/\n\t\tpopupSide: 'right',\n\n\t\t/**\n\t\t* When `true`, popup content will have locale-safe uppercasing applied.\n\t\t*\n\t\t* @type {Boolean}\n\t\t* @default true\n\t\t* @public\n\t\t*/\n\t\tuppercase: true,\n\n\t\t/**\n\t\t* Sets the orientation of ProgressBar. Choices are: 'horizontal' (default) or 'vertical'.\n\t\t* Horizontal progressbars move right and left, vertical progressbars move up and down.\n\t\t*\n\t\t* @type {String}\n\t\t* @default 'horizontal'\n\t\t* @public\n\t\t*/\n\t\torientation: 'horizontal',\n\n\t\t/**\n\t\t* @deprecated Replaced by [uppercase]{@link module:moonstone/Slider~Slider#uppercase}.\n\t\t*\n\t\t* Formerly defaulted to `true`, now defaults to `null` and will only have\n\t\t* an effect when explicitly set (for complete backward compatibility).\n\t\t*\n\t\t* @type {Boolean}\n\t\t* @default null\n\t\t* @public\n\t\t*/\n\t\tpopupContentUpperCase: null\n\t},\n\n\t/**\n\t* @private\n\t*/\n\tevents: {\n\n\t\t/**\n\t\t* {@link module:moonstone/ProgressBar~ProgressBar#onAnimateProgressFinish}\n\t\t*/\n\t\tonAnimateProgressFinish: ''\n\t},\n\n\t/**\n\t* @private\n\t*/\n\tcomponents: [\n\t\t{name: 'progressAnimator', kind: Animator, onStep: 'progressAnimatorStep', onEnd: 'progressAnimatorComplete'},\n\t\t{name: 'bgbar', kind: Control},\n\t\t{name: 'bar', kind: Control}\n\t],\n\n\t/**\n\t* @private\n\t*/\n\tpopupLeftCanvasWidth: 27, // Popup left canvas width in pixel\n\n\t/**\n\t* @private\n\t*/\n\tpopupRightCanvasWidth: 27, // Popup right canvas width in pixel\n\n\t/**\n\t* @private\n\t*/\n\tpopupComponents: [\n\t\t{name: 'popup', kind: Popup, classes: 'moon-progress-bar-popup above', accessibilityDisabled: true, components: [\n\t\t\t{name: 'drawingLeft', kind: Control, tag: 'canvas', classes: 'moon-progress-bar-popup-left'},\n\t\t\t{name: 'popupLabel', kind: Control, classes: 'moon-progress-bar-popup-center' },\n\t\t\t{name: 'drawingRight', kind: Control, tag: 'canvas', classes: 'moon-progress-bar-popup-right'}\n\t\t]}\n\t],\n\n\t/**\n\t* @private\n\t*/\n\tcreate: function () {\n\t\tthis._nf = new NumFmt({type: 'percentage', useNative: false});\n\t\tControl.prototype.create.apply(this, arguments);\n\t\tthis.initPopup();\n\t\tthis.orientationChanged();\n\t\tthis.progressChanged();\n\t\tthis.barClassesChanged();\n\t\tthis.bgBarClassesChanged();\n\t\tthis.bgProgressChanged();\n\t},\n\n\t/**\n\t* @private\n\t*/\n\tinitPopup: function () {\n\t\tif (this.popup) {\n\t\t\t// FIXME: Backwards-compatibility for deprecated property - can be removed when\n\t\t\t// the popupContentUpperCase property is fully deprecated and removed. The legacy\n\t\t\t// property takes precedence if it exists.\n\t\t\tif (this.popupContentUpperCase !== null) this.uppercase = this.popupContentUpperCase;\n\t\t\tthis.createPopup();\n\t\t\tthis.initPopupStyles();\n\t\t}\n\t},\n\n\t/**\n\t* @private\n\t*/\n\tcreatePopup: function () {\n\t\tthis.createComponents(this.popupComponents, {owner: this});\n\t\tthis.$.popup.setAutoDismiss(false);\n\t\tthis.$.popup.show();\n\t},\n\n\t/**\n\t* @private\n\t*/\n\tinitPopupStyles: function () {\n\t\tthis.popupLabelClassesChanged();\n\t\tthis.popupContentChanged();\n\t\tthis.updatePopupLabelColor();\n\t\tthis.updatePopupHeight();\n\t\tthis.updatePopupOffset();\n\t\tthis.popupWidthChanged();\n\t},\n\n\t/**\n\t* @private\n\t*/\n\tdestroy: function () {\n\t\tif(this._nf){\n\t\t\tdelete this._nf;\n\t\t}\n\t\tControl.prototype.destroy.apply(this, arguments);\n\t},\n\n\trendered: function () {\n\t\tControl.prototype.rendered.apply(this, arguments);\n\t\tif(this.$.popup){\n\t\t\tthis.drawToCanvas(this.popupColor);\n\t\t}\n\t},\n\n\t/**\n\t* @private\n\t*/\n\torientationChanged: function () {\n\t\tvar orient = this.get('orientation');\n\t\tthis.addRemoveClass('moon-progress-bar-vertical', orient == 'vertical');\n\t\tthis.addRemoveClass('moon-progress-bar-horizontal', orient == 'horizontal');\n\t},\n\n\t/**\n\t* @private\n\t*/\n\tpopupSideChanged: function () {\n\t\tthis.updatePopup(this.progress);\n\t},\n\n\t/**\n\t* @private\n\t*/\n\tbarClassesChanged: function (inOld) {\n\t\tthis.$.bar.removeClass(inOld);\n\t\tthis.$.bar.addClass(this.barClasses);\n\t},\n\n\t/**\n\t* @private\n\t*/\n\tbgBarClassesChanged: function (inOld) {\n\t\tthis.$.bgbar.removeClass(inOld);\n\t\tthis.$.bgbar.addClass(this.bgBarClasses);\n\t},\n\n\t/**\n\t* @private\n\t*/\n\tbgProgressChanged: function () {\n\t\tthis.bgProgress = this.clampValue(this.min, this.max, this.bgProgress);\n\t\tvar p = this.calcPercent(this.bgProgress);\n\t\tthis.updateBgBarPosition(p);\n\t},\n\n\t/**\n\t* @private\n\t*/\n\tprogressChanged: function () {\n\t\tthis.progress = this.clampValue(this.min, this.max, this.progress);\n\t\tthis.updateBarPosition(this.calcPercent(this.progress));\n\t\tif (this.popup) {\n\t\t\tthis.updatePopup(this.progress);\n\t\t}\n\t},\n\n\t/**\n\t* @private\n\t*/\n\tshowPercentageChanged: function () {\n\t\tthis.updatePopup(this.progress);\n\t},\n\n\t/**\n\t* @private\n\t*/\n\tclampValue: function (inMin, inMax, inValue) {\n\t\treturn Math.max(inMin, Math.min(inValue, inMax));\n\t},\n\n\t/**\n\t* @private\n\t*/\n\tcalcRatio: function (inValue) {\n\t\treturn (inValue - this.min) / (this.max - this.min);\n\t},\n\n\t/**\n\t* @private\n\t*/\n\tcalcPercent: function (inValue) {\n\t\treturn this.calcRatio(inValue) * 100;\n\t},\n\n\t/**\n\t* @private\n\t*/\n\tupdateBarPosition: function (inPercent) {\n\t\tthis.$.bar.applyStyle(this.get('orientation') == 'vertical' ? 'height' : 'width', inPercent + '%');\n\t},\n\n\t/**\n\t* @private\n\t*/\n\tupdateBgBarPosition: function (inPercent) {\n\t\tthis.$.bgbar.applyStyle(this.get('orientation') == 'vertical' ? 'height' : 'width', inPercent + '%');\n\t},\n\n\t/**\n\t* Animates progress to the passed-in value.\n\t*\n\t* @param {Number} inValue  The destination number\n\t* @public\n\t*/\n\tanimateProgressTo: function (inValue) {\n\t\tthis.$.progressAnimator.play({\n\t\t\tstartValue: this.progress,\n\t\t\tendValue: inValue,\n\t\t\tnode: this.hasNode()\n\t\t});\n\t},\n\n\t/**\n\t* @private\n\t*/\n\tprogressAnimatorStep: function (inSender) {\n\t\tthis.setProgress(inSender.value);\n\t\treturn true;\n\t},\n\n\t/**\n\t* @fires module:moonstone/ProgressBar~ProgressBar#onAnimateProgressFinish\n\t* @private\n\t*/\n\tprogressAnimatorComplete: function (inSender) {\n\t\tthis.doAnimateProgressFinish();\n\t\treturn true;\n\t},\n\n\t/**\n\t* @private\n\t*/\n\tpopupChanged: function () {\n\t\tif (this.popup && !this.$.popup) {\n\t\t\tthis.createPopup();\n\t\t\tthis.initPopupStyles();\n\t\t\tthis.orientationChanged();\n\t\t\tthis.render();\n\t\t} else if (!this.popup && this.$.popup) {\n\t\t\tthis.$.popup.destroy();\n\t\t}\n\t},\n\n\t/**\n\t* @private\n\t*/\n\tupdatePopup: function (val) {\n\t\tvar usePercentage, percent, popupLabel, flip;\n\t\tif (this.popup) {\n\t\t\tusePercentage = this.showPercentage && this.popupContent === null;\n\t\t\tpercent = this.calcPercent(val);\n\t\t\tpopupLabel = usePercentage ? percent : val;\n\t\t\tflip = (this.get('orientation') == 'vertical') ? (this.get('popupSide') == 'left') : percent > 50;\n\n\t\t\tthis.updatePopupPosition(percent);\n\t\t\tthis.$.popup.addRemoveClass('moon-progress-bar-popup-flip-h', flip);\n\t\t\tthis.$.popupLabel.addRemoveClass('moon-progress-bar-popup-flip-h', flip);\n\n\t\t\tthis.updatePopupLabel(popupLabel);\n\t\t}\n\t},\n\n\t/**\n\t* Refactored out so that Slider can position the knob instead of the popup\n\t*\n\t* @private\n\t*/\n\tupdatePopupPosition: function (percent) {\n\t\tif (this.popup) {\n\t\t\tthis.$.popup.applyStyle(this.get('orientation') == 'vertical' ? 'bottom' : 'left', percent + '%');\n\t\t}\n\t},\n\n\t/**\n\t* @private\n\t*/\n\tpopupLabelClassesChanged: function (was) {\n\t\tif (this.popup) {\n\t\t\tthis.$.popupLabel.removeClass(was);\n\t\t\tthis.$.popupLabel.addClass(this.popupLabelClasses);\n\t\t}\n\t},\n\n\t/**\n\t* @private\n\t*/\n\tupdatePopupOffset: function () {\n\t\tif (this.popup) {\n\t\t\tthis.$.popup.applyStyle('top', dom.unit(-(ri.scale(this.getPopupHeight() + this.getPopupOffset() + 5)), 'rem'));\n\t\t}\n\t},\n\n\t/**\n\t* Updates popup offset.\n\t*\n\t* @private\n\t*/\n\tpopupOffsetChanged: function () {\n\t\tif (this.popup) {\n\t\t\tthis.updatePopupOffset();\n\t\t\tthis.drawToCanvas(this.popupColor);\n\t\t}\n\t},\n\n\t/**\n\t* Updates popup width.\n\t*\n\t* @private\n\t*/\n\tpopupWidthChanged: function () {\n\t\tif (this.popup && this.popupWidth != 'auto') {\n\t\t\tthis.$.popupLabel.applyStyle('width', dom.unit( this.getPopupWidth() - (this.popupLeftCanvasWidth + this.popupRightCanvasWidth) , 'rem'));\n\t\t}\n\t},\n\n\t/**\n\t* @private\n\t*/\n\tupdatePopupHeight: function () {\n\t\tvar h = this.getPopupHeight(),\n\t\t\thRem = ri.scale(h);\n\n\t\tthis.$.drawingLeft.setAttribute('height', hRem);\n\t\tthis.$.drawingRight.setAttribute('height', hRem);\n\t\tthis.$.popupLabel.applyStyle('height', dom.unit(ri.scale(h - 7), 'rem'));\n\t\tthis.$.popup.applyStyle('height', dom.unit(hRem, 'rem'));\n\t\tthis.$.popup.applyStyle('line-height', dom.unit(ri.scale(h - 6), 'rem'));\n\t},\n\n\t/**\n\t* Updates popup height.\n\t*\n\t* @private\n\t*/\n\tpopupHeightChanged: function () {\n\t\tif (this.popup) {\n\t\t\tif (this.getPopupHeight() >= 72) {\n\t\t\t\tlog.warn('This popupHeight API is designed for under 72 pixels.');\n\t\t\t}\n\n\t\t\tthis.updatePopupHeight();\n\t\t\tthis.popupOffsetChanged();\n\t\t}\n\t},\n\n\t/**\n\t* @private\n\t*/\n\tupdatePopupLabelColor: function () {\n\t\tif (this.popup) {\n\t\t\tthis.$.popupLabel.applyStyle('background-color', this.popupColor);\n\t\t}\n\t},\n\n\t/**\n\t* Updates popup color.\n\t*\n\t* @private\n\t*/\n\tpopupColorChanged: function () {\n\t\tif (this.popup) {\n\t\t\tthis.drawToCanvas(this.popupColor);\n\t\t\tthis.updatePopupLabelColor();\n\t\t}\n\t},\n\n\t/**\n\t* Updates popup content.\n\t*\n\t* @private\n\t*/\n\tpopupContentChanged: function () {\n\t\tvar content;\n\t\tif (this.popup) {\n\t\t\tcontent = this.getPopupContent();\n\t\t\tthis._popupContent = this.get('uppercase') ? util.toUpperCase(content) : content;\n\t\t\t// != null allows 0 but avoids undefined and null\n\t\t\tif (this._popupContent != null && this._popupContent !== '') {\n\t\t\t\tthis.$.popupLabel.set('content', this._popupContent);\n\t\t\t}\n\t\t}\n\t},\n\n\t/**\n\t* @private\n\t*/\n\tuppercaseChanged: function () {\n\t\t// FIXME: Backwards-compatibility for deprecated property - can be removed when\n\t\t// popupContentUpperCase is fully deprecated and removed.\n\t\tif (this.popupContentUpperCase != this.uppercase) this.popupContentUpperCase = this.uppercase;\n\t\tthis.popupContentChanged();\n\t},\n\n\t/**\n\t* @private\n\t*/\n\tpopupContentUpperCaseChanged: function () {\n\t\tif (this.uppercase != this.popupContentUpperCase) this.uppercase = this.popupContentUpperCase;\n\t\tthis.uppercaseChanged();\n\t},\n\n\t/**\n\t* @private\n\t*/\n\tupdatePopupLabel: function (val) {\n\t\tvar label;\n\t\tif (this.popup) {\n\t\t\tlabel = this._popupContent || this.calcPopupLabel(val);\n\t\t\tif (label != null && label !== '') {\n\t\t\t\tthis.$.popupLabel.set('content', label);\n\t\t\t}\n\t\t}\n\t},\n\n\t/**\n\t* @private\n\t*/\n\tcalcPopupLabel: function (val) {\n\t\tif (this.showPercentage) {\n\t\t\tval = this._nf.format(Math.round(val));\n\t\t}\n\t\treturn val;\n\t},\n\n\t\t/**\n\t* @private\n\t*/\n\tdrawToCanvas: function (bgColor) {\n\t\tbgColor = bgColor  || dom.getComputedStyleValue(this.$.knob.hasNode(), 'background-color');\n\t\tvar h = ri.scale( this.getPopupHeight()+1 ), // height total\n\t\t\thb = h - ri.scale(8), // height bubble\n\t\t\thbc = (hb)/2, // height of bubble's center\n\t\t\twre = ri.scale(26), // width's edge\n\t\t\tr = hbc, // radius is half the bubble height\n\t\t\tbcr = ri.scale(50), // bottom curve radius 50\n\t\t\tbcy = hb + bcr, //calculate the height of the center of the circle plus the radius to get the y coordinate of the circle to draw the bottom irregular arc\n\t\t\tlw = 1, // line width that will be tucked under the neighboring dom element's edge\n\t\t\tdrawingLeft = this.$.drawingLeft,\n\t\t\tdrawingRight = this.$.drawingRight,\n\t\t\tctxLeft, ctxRight;\n\n\t\tif (drawingLeft) {\n\t\t\tctxLeft = drawingLeft.hasNode().getContext('2d'),\n\t\t\tdrawingLeft.setAttribute('width', ri.scale( this.popupLeftCanvasWidth) );\n\n\t\t\t// Set styles. Default color is knob's color\n\t\t\tctxLeft.fillStyle = bgColor;\n\t\t\t// Draw shape with arrow on left\n\t\t\tctxLeft.moveTo(0, h);\n\t\t\t// arc(x, y, radius, startAngle, endAngle, counterClockwise);\n\t\t\tctxLeft.arc(wre, bcy, bcr, 1.35 * Math.PI, 1.485 * Math.PI, false);\n\t\t\tctxLeft.lineTo(wre, hb);\n\t\t\tctxLeft.lineTo(wre, 0);\n\t\t\tctxLeft.arcTo(0, 0, 0, hbc, r);\n\t\t\tctxLeft.lineTo(0, h);\n\t\t\tctxLeft.fill();\n\t\t\t// Add a spacer line\n\t\t\tctxLeft.beginPath();\n\t\t\tctxLeft.lineWidth = lw+1;\n\t\t\tctxLeft.strokeStyle = bgColor;\n\t\t\tctxLeft.moveTo(wre+lw, 0);\n\t\t\tctxLeft.lineTo(wre+lw, hb);\n\t\t\tctxLeft.stroke();\n\t\t}\n\n\t\tif (drawingRight) {\n\t\t\tctxRight = drawingRight.hasNode().getContext('2d');\n\t\t\tdrawingRight.setAttribute('width', ri.scale( this.popupRightCanvasWidth) );\n\n\t\t\t// Set styles. Default color is knob's color\n\t\t\tctxRight.fillStyle = bgColor;\n\t\t\t// Draw shape with arrow on right\n\t\t\tctxRight.moveTo(lw, hb);\n\t\t\tctxRight.arcTo(wre+lw, hb, wre+lw, hbc, r);\n\n\t\t\tctxRight.arcTo(wre+lw, 0, lw, 0, r);\n\t\t\tctxRight.lineTo(0, 0);\n\t\t\tctxRight.fill();\n\t\t\t// Add a spacer line\n\t\t\tctxRight.beginPath();\n\t\t\tctxRight.lineWidth = lw+1;\n\t\t\tctxRight.strokeStyle = bgColor;\n\t\t\tctxRight.moveTo(0, 0);\n\t\t\tctxRight.lineTo(0, hb);\n\t\t\tctxRight.stroke();\n\t\t}\n\t},\n\n\t// Accessibility\n\n\t/**\n\t* @default progressbar\n\t* @type {String}\n\t* @see enyo/AccessibilitySupport~AccessibilitySupport#accessibilityRole\n\t* @public\n\t*/\n\taccessibilityRole: 'progressbar',\n\n\t/**\n\t* Custom value for accessibility (ignored if `null`).\n\t*\n\t* @type {String|null}\n\t* @default null\n\t* @public\n\t*/\n\taccessibilityValueText: null,\n\n\t/**\n\t* When `true`, VoiceReadout will be prevented.\n\t*\n\t* @default true\n\t* @type {Boolean}\n\t* @public\n\t*/\n\taccessibilityDisabled: true,\n\n\t/**\n\t* ProgressBar isn't spottable so we'll make it focusable manually\n\t*\n\t* @private\n\t*/\n\ttabIndex: -1,\n\n\t/**\n\t* @private\n\t*/\n\tariaObservers: [\n\t\t// TODO: Observing $.popupLabel.content to minimize the observed members. Some refactoring\n\t\t// of the label determination could help here - rjd\n\t\t{path: ['accessibilityValueText', 'progress', 'popup', 'popupContent', 'showPercentage'], method: 'ariaValue'}\n\t],\n\n\t/**\n\t* Determines the text or value to set as the accessible value for the progress bar\n\t*\n\t* @private\n\t*/\n\tariaValue: function () {\n\t\tvar value = this.$.progressAnimator.isAnimating() ? this.$.progressAnimator.endValue : this.progress,\n\t\t\tusePercent = this.popup && this.showPercentage && !this.popupContent,\n\t\t\ttext = this.accessibilityValueText ||\n\t\t\t\t\tthis.popup && this.popupContent ||\n\t\t\t\t\tusePercent && this.calcPopupLabel(this.calcPercent(value)) ||\n\t\t\t\t\tvalue;\n\t\tthis.setAriaAttribute('aria-valuetext', text);\n\t}\n});\n","require('moonstone');\n\n/**\n* Contains the declaration for the {@link module:moonstone/Input~Input} kind.\n* @module moonstone/Input\n*/\n\nvar\n\tkind = require('enyo/kind'),\n\tutil = require('enyo/utils'),\n\tInput = require('enyo/Input');\n\nvar\n\tSpotlight = require('spotlight');\n\n/**\n* {@link module:moonstone/Input~Input} is a Moonstone-styled input control, derived from\n* {@link module:enyo/Input~Input}. Typically, a `moonstone/Input` is placed inside a\n* {@link module:moonstone/InputDecorator~InputDecorator}, which provides styling, e.g.:\n*\n* ```javascript\n* \tvar\n* \t\tkind = require('enyo/kind'),\n* \t\tInput = require('moonstone/Input'),\n* \t\tInputDecorator = require('moonstone/InputDecorator');\n*\n* \t{kind: InputDecorator, components: [\n* \t\t{kind: Input, placeholder: 'Enter some text...', onchange: 'inputChange'}\n* \t]}\n* ```\n*\n* For more information, see the documentation on\n* [Text Fields]{@linkplain $dev-guide/building-apps/controls/text-fields.html}\n* in the Enyo Developer Guide.\n*\n* @class Input\n* @extends module:enyo/Input~Input\n* @ui\n* @public\n*/\nmodule.exports = kind(\n\t/** @lends module:moonstone/Input~Input.prototype */ {\n\n\t/**\n\t* @private\n\t*/\n\tname: 'moon.Input',\n\n\t/**\n\t* @private\n\t*/\n\tkind: Input,\n\n\t/**\n\t* @private\n\t*/\n\tclasses: 'moon-body-text moon-input',\n\n\t/**\n\t* 13==Enter, 16777221==KeypadEnter\n\t*\n\t* @private\n\t*/\n\tspotlightIgnoredKeys: [13, 16777221],\n\n\t/**\n\t* @private\n\t* @lends module:moonstone/Input~Input.prototype\n\t*/\n\tpublished: {\n\n\t\t/**\n\t\t* When `true`, input blurs on Enter keypress (if focused).\n\t\t*\n\t\t* @type {Boolean}\n\t\t* @default false\n\t\t* @public\n\t\t*/\n\t\tdismissOnEnter: false\n\t},\n\n\t/**\n\t* @private\n\t*/\n\thandlers: {\n\t\tonkeyup    : 'onKeyUp',\n\t\tonblur     : 'onBlur',\n\t\tonfocus    : 'onFocus'\n\t},\n\n\t/**\n\t* Used only for [dismissOnEnter]{@link module:moonstone/Input~Input#dismissOnEnter} feature;\n\t* we cannot rely on `hasFocus()` in this case due to race condition.\n\t*\n\t* @private\n\t*/\n\t_bFocused: false,\n\n\t/**\n\t* @private\n\t*/\n\tonFocus: function () {\n\t\tvar node = this.hasNode();\n\n\t\tif (this.dismissOnEnter) {\n\t\t\tvar oThis = this;\n\t\t\tutil.asyncMethod(this, function () {oThis._bFocused = true;});\n\t\t}\n\t\t// Force cursor to end of text during a generic focus event. Creating the input by compiling\n\t\t// a string of text with value=\"this.value\" produces different initial caret position than\n\t\t// using node.setAttribute('value', this.value), which is what would happen any time after\n\t\t// the initial creation. The initial end-position of the caret is required to support\n\t\t// Virtual keyboards because without arrow-keys because normal left/right arrow navigation\n\t\t// in inputs is impossible, so the caret must be positioned at the end to allow for deletion\n\t\t// of the previous input. We are intentionally setting the value to force the cursor to the\n\t\t// end of the text. `selectionStart` is the obvious choice, but it is not supported in\n\t\t// certain types of fields (i.e. number, email).\n\t\tif (node) node.value = this.get('value');\n\t},\n\n\t/**\n\t* @private\n\t*/\n\tonBlur: function () {\n\t\tif (this.dismissOnEnter) {\n\t\t\tthis._bFocused = false;\n\t\t}\n\t},\n\n\t/**\n\t* @private\n\t*/\n\tonKeyUp: function (oSender, oEvent) {\n\t\tif (this.dismissOnEnter) {\n\t\t\tif (oEvent.keyCode == 13 && this._bFocused) {\n\t\t\t\tthis.blur();\n\t\t\t\tif (Spotlight.getPointerMode()) {\n\t\t\t\t\tSpotlight.unspot();\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t},\n\n\t/**\n\t* @private\n\t*/\n\tblur: function () {\n\t\tif (this.hasNode()) {\n\t\t\tthis.node.blur();\n\t\t}\n\t},\n\n\t/**\n\t* @private\n\t*/\n\tleft: function () {\n\t\tif (!this.hasNode() || this.node.selectionStart === 0) {\n\t\t\treturn false;\n\t\t}\n\t\treturn true;\n\t},\n\n\t/**\n\t* @private\n\t*/\n\tright: function () {\n\t\tif (!this.hasNode() || this.node.selectionStart == this.node.value.length) {\n\t\t\treturn false;\n\t\t}\n\t\treturn true;\n\t},\n\n\t/**\n\t* @private\n\t*/\n\tup: function () {\n\t\treturn false;\n\t},\n\n\t/**\n\t* @private\n\t*/\n\tdown: function () {\n\t\treturn false;\n\t}\n});\n","/**\n* Exports the {@link module:moonstone/Scrollable~Scrollable} mixin\n* @wip\n* @module moonstone/Scrollable\n*/\nvar\n\tkind = require('enyo/kind'),\n\tutils = require('enyo/utils'),\n\tScrollMath = require('enyo/ScrollMath');\n\nvar\n\tSpotlight = require('spotlight');\n\n/**\n* The Scrollable mixin\n* @wip\n* @mixin\n*/\nvar Scrollable = {\n\t// We make ourselves a Spotlight container so that 5-way\n\t// navigation stays within our bounds by default...\n\tspotlight: 'container',\n\t// But when focus enters us, we should spot the nearest\n\t// child, not whichever one was previously focused\n\tspotlightRememberFocus: false,\n\n\tsuppressMouseEvents: true,\n\n\t/**\n\t* Specifies scrolling options to be used when scrolling an\n\t* item into view. Defaults:\n\t*\n\t*\t{\n\t*\t\tblock: 'farthest',\n\t*\t\tbehavior: 'smooth'\n\t*\t}\n\t*\n\t* @public\n\t*/\n\tscrollIntoViewOptions: null,\n\n\t// TODO: At least in the case of onSpotlightFocus, we\n\t// probably need to do something to ensure that we don't\n\t// have a conflict between the handler declared in the mixin\n\t// and any handler that might be declared in the kind that\n\t// uses the mixin. Possibilities include a) a hack like the\n\t// one currently employed in MarqueeSupport; b) a generalized\n\t// mechanism based on the same approach; or c) support in\n\t// general for multiple handlers for the same event, so that\n\t// base kinds, subkinds and instances can all register for\n\t// handlers independently.\n\thandlers: {\n\t\tonRequestScrollIntoView: 'handleRequestScrollIntoView',\n\t\tonSpotlightFocus: 'filterFocus'\n\t},\n\n\t// Override ScrollMath params\n\tscrollMath: {kind: ScrollMath, kFrictionDamping: 0.93},\n\n\t/**\n\t* @private\n\t*/\n\tcreate: kind.inherit(function (sup) {\n\t\treturn function () {\n\t\t\tvar opts = {\n\t\t\t\tblock: 'farthest',\n\t\t\t\tbehavior: 'smooth'\n\t\t\t};\n\n\t\t\tsup.apply(this, arguments);\n\n\t\t\tthis.scrollIntoViewOptions = this.scrollIntoViewOptions ? utils.mixin(opts, this.scrollIntoViewOptions) : opts;\n\t\t\t// Save original options so they can be restored after runtime changes\n\t\t\tthis._scrollIntoViewOptions = utils.clone(this.scrollIntoViewOptions);\n\t\t};\n\t}),\n\n\t/**\n\t* Responds to child components' requests to be scrolled into view.\n\t*\n\t* @private\n\t*/\n\thandleRequestScrollIntoView: function (sender, event) {\n\t\tvar bubble = false,\n\t\t\tdef = this.scrollIntoViewOptions,\n\t\t\topts;\n\t\t// Only scroll in 5-way mode or when explicitly requested to scroll in pointer mode\n\t\tif (!Spotlight.getPointerMode() || event.scrollInPointerMode === true) {\n\t\t\tif (this.canScrollX || this.canScrollY) {\n\t\t\t\topts = {\n\t\t\t\t\t// If the event explicitly requests a full-page scroll, then we do so...\n\t\t\t\t\tblock: event.scrollFullPage ? 'farthest' : (\n\t\t\t\t\t\t// ...otherwise, we honor the option set on the scroller for one-off\n\t\t\t\t\t\t// requests, but force smaller scroll increments when Spotlight\n\t\t\t\t\t\t// accelerating, since this produces smoother continuous scrolling\n\t\t\t\t\t\t// in 5-way mode.\n\t\t\t\t\t\tSpotlight.Accelerator.isAccelerating() ? 'nearest' : def.block\n\t\t\t\t\t),\n\t\t\t\t\tbehavior: def.behavior\n\t\t\t\t};\n\t\t\t\tthis.scrollToChild(event.originator, opts);\n\t\t\t} else {\n\t\t\t\t// If we don't need to scroll, bubble onRequestScrollIntoView so that\n\t\t\t\t// any scrollers above us in the control hierarchy can scroll as needed\n\t\t\t\tbubble = true;\n\t\t\t}\n\t\t}\n\t\treturn !bubble;\n\t},\n\n\t/**\n\t* @private\n\t*/\n\tfilterFocus: function (sender, event) {\n\t\tvar prev,\n\t\t\tdefBlock;\n\n\t\tswitch (event.focusType) {\n\t\t\tcase 'point':\n\t\t\t\tbreak;\n\t\t\tcase '5-way':\n\t\t\t\t// If 5-way focus is coming from outside the scroller or from a scroll control,\n\t\t\t\t// we want to scroll the smallest distance possible to avoid a jarring experience;\n\t\t\t\t// otherwise, we respect the provided options\n\t\t\t\tif ((prev = event.previous)) {\n\t\t\t\t\tdefBlock = this._scrollIntoViewOptions.block;\n\t\t\t\t\tthis.scrollIntoViewOptions.block = (this.isScrollingChild(prev)) ? defBlock : 'nearest';\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\tcase 'default':\n\t\t\t\t// When focusType is 'default', Spotlight is trying to focus\n\t\t\t\t// a Control in response to something other than a point or a\n\t\t\t\t// 5-way move. For example, this can happen during\n\t\t\t\t// initialization, when the pointer is hidden, or when the app\n\t\t\t\t// regains focus.\n\t\t\t\t//\n\t\t\t\t// In the case where a scroller child is being focused by\n\t\t\t\t// default, we short-circuit the action because the child is\n\t\t\t\t// potentially not in view, and focusing would cause it to\n\t\t\t\t// scroll it into view for no reason apparent to the user.\n\t\t\t\t// Instead, we should focus a child we know to be visible.\n\t\t\t\tif (this.eventIsFromScrollingChild(event) && !this.eventIsFromVisibleChild(event)) {\n\t\t\t\t\treturn this.spotFirstVisibleChild();\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\tdefault:\n\t\t\t\treturn false;\n\t\t}\n\t},\n\n\t/**\n\t* This check is factored out of `filterFocus()` so that the logic can be\n\t* overridden by the kind that includes the `Scrollable` mixin.\n\t*\n\t* @private\n\t*/\n\teventIsFromVisibleChild: kind.inherit(function (sup) {\n\t\treturn function (event) {\n\t\t\tif (sup === utils.nop) {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t\telse {\n\t\t\t\treturn sup.apply(this, arguments);\n\t\t\t}\t\t\t\n\t\t};\n\t}),\n\n\t/**\n\t* This check is factored out of `filterFocus()` so that the logic can be\n\t* overridden by the kind that includes the `Scrollable` mixin. For example,\n\t* NewDataList can perform this check more efficiently than we can do it here\n\t* in the general case.\n\t*\n\t* @private\n\t*/\n\teventIsFromScrollingChild: kind.inherit(function (sup) {\n\t\treturn function (event) {\n\t\t\tif (sup === utils.nop) {\n\t\t\t\treturn this.isScrollingChild(event.originator);\n\t\t\t}\n\t\t\telse {\n\t\t\t\treturn sup.apply(this, arguments);\n\t\t\t}\n\t\t};\n\t}),\n\n\t/**\n\t* This behavior is factored out of `filterFocus()` so that the logic can be\n\t* overridden by the kind that includes the `Scrollable` mixin. For example,\n\t* NewDataList can identify the first visible child more efficiently than we\n\t* can do it here in the general case.\n\t*\n\t* @private\n\t*/\n\tspotFirstVisibleChild: kind.inherit(function (sup) {\n\t\treturn function () {\n\t\t\tif (sup === utils.nop) {\n\t\t\t\t// TODO: Implement. For now, only handling the more specific\n\t\t\t\t// case in moonstone/NewDataList.\n\t\t\t\treturn false;\n\t\t\t}\n\t\t\telse {\n\t\t\t\treturn sup.apply(this, arguments);\n\t\t\t}\n\t\t};\n\t}),\n\n\t/**\n\t* Extends the base implementation provided by the enyo Scrollable mixin\n\t* with Moonstone-specific functionality.\n\t*\n\t* @private\n\t*/\n\t_suppressMouseEvents: kind.inherit(function (sup) {\n\t\treturn function () {\n\t\t\tvar c;\n\n\t\t\tsup.apply(this, arguments);\n\n\t\t\tif (\n\t\t\t\t// If we're in pointer mode...\n\t\t\t\tSpotlight.getPointerMode() &&\n\t\t\t\t// ...and something is currently spotted...\n\t\t\t\t(c = Spotlight.getCurrent()) &&\n\t\t\t\t// ...and that thing is a scrolling child of ours...\n\t\t\t\tthis.isScrollingChild(c)\n\t\t\t) {\n\t\t\t\t// ...then we unspot it, since the fact that we're suppressing\n\t\t\t\t// mouse events will prevent it from unspotting on its own\n\t\t\t\tSpotlight.unspot();\n\t\t\t}\n\t\t};\n\t})\n};\n\nmodule.exports = Scrollable;\n","require('moonstone');\n\n/**\n* Contains the declaration for the {@link module:moonstone/IconButton~IconButton} kind.\n* @module moonstone/IconButton\n*/\n\nvar\n\tkind = require('enyo/kind');\n\nvar\n\tIcon = require('../Icon');\n\n/**\n* {@link module:moonstone/IconButton~IconButton} is a {@link module:moonstone/Icon~Icon} that acts like a button. Specify\n* the icon image by setting the [src]{@link module:moonstone/Icon~Icon#src} property to a URL\n* indicating the image file's location.\n*\n* ```javascript\n* \tvar\n* \t\tkind = require('enyo/kind'),\n* \t\tIconButton = require('moonstone/IconButton');\n*\n* \t{kind: IconButton, src: 'moonstone/src/assets/search.png'}\n* ```\n*\n* If you want to combine an icon with text inside of a button, use a\n* {@link module:moonstone/Icon~Icon} inside a\n* {@link module:moonstone/Button~Button}.\n*\n* Moonstone supports two methods for displaying icons; in addition to specifying\n* traditional image assets in `src`, you may use icons that are stored as single\n* characters in a special symbol font. To do this, set the value of the\n* [icon]{@link module:moonstone/Icon~Icon#icon} property to a string representing\n* an icon name, e.g.:\n*\n* ```javascript\n* \t{kind: IconButton, icon: 'closex'}\n* ```\n*\n* See {@link module:moonstone/Icon~Icon} for more information on the available font-based icons,\n* as well as specifications for icon image assets.\n*\n* @class IconButton\n* @extends module:moonstone/Icon~Icon\n* @ui\n* @public\n*/\nmodule.exports = kind(\n\t/** @lends module:moonstone/IconButton~IconButton.prototype */ {\n\n\t/**\n\t* @private\n\t*/\n\tname: 'moon.IconButton',\n\n\t/**\n\t* @private\n\t*/\n\tkind: Icon,\n\n\t/**\n\t* @private\n\t* @lends module:moonstone/IconButton~IconButton.prototype\n\t*/\n\tpublished: {\n\n\t\t/**\n\t\t* Used when the IconButton is part of an {@link module:enyo/Group~Group}. A value of `true`\n\t\t* indicates that this is the active button of the group; `false`, that it is not\n\t\t* the active button.\n\t\t*\n\t\t* @type {Boolean}\n\t\t* @default false\n\t\t* @public\n\t\t*/\n\t\tactive: false,\n\n\t\t/**\n\t\t* A boolean parameter affecting the size of the button.\n\t\t* If `true`, the button will have a diameter of 60px.\n\t\t* However, the button's tap target will still have a diameter of 78px, with\n\t\t* invisible DOM wrapping the small button to provide the larger tap zone.\n\t\t*\n\t\t* @type {Boolean}\n\t\t* @default true\n\t\t* @public\n\t\t*/\n\t\tsmall: true,\n\n\t\t/**\n\t\t* @deprecated Replaced by [backgroundOpacity]{@link module:moonstone/IconButton~IconButton#backgroundOpacity}.\n\t\t*\n\t\t* If `true`, the button will have no rounded background color/border.\n\t\t*\n\t\t* @type {Boolean}\n\t\t* @default false\n\t\t* @public\n\t\t*/\n\t\tnoBackground: false,\n\n\t\t/**\n\t\t* The background-color opacity of this button; valid values are `'opaque'`, `'translucent'`,\n\t\t* and `'transparent'`.\n\t\t*\n\t\t* @type {String}\n\t\t* @default opaque\n\t\t* @public\n\t\t*/\n\t\tbackgroundOpacity: 'opaque'\n\t},\n\n\t/**\n\t* @private\n\t*/\n\tclasses: 'moon-icon-button',\n\n\t/**\n\t* @private\n\t*/\n\tspotlight: true,\n\n\t/**\n\t* @private\n\t*/\n\thandlers: {\n\n\t\t/**\n\t\t* Simulates mousedown.\n\t\t*/\n\t\tonSpotlightKeyDown: 'depress',\n\n\t\t/**\n\t\t* Simulates mouseup.\n\t\t*/\n\t\tonSpotlightKeyUp: 'undepress',\n\n\t\t/**\n\t\t* Used to request it is in view in scrollers.\n\t\t*/\n\t\tonSpotlightFocused: 'spotlightFocused',\n\n\t\tonSpotlightBlur: 'spotlightBlurred'\n\t},\n\n\t/**\n\t* @private\n\t*/\n\tcreate: function () {\n\t\tIcon.prototype.create.apply(this, arguments);\n\t\tif (this.noBackground) {\n\t\t\tthis.noBackgroundChanged();\n\t\t}\n\t\tthis.backgroundOpacityChanged();\n\t},\n\n\t/**\n\t* @private\n\t*/\n\trendered: function () {\n\t\tIcon.prototype.rendered.apply(this, arguments);\n\t\tthis.activeChanged();\n\t},\n\n\t/**\n\t* @private\n\t*/\n\tnoBackgroundChanged: function () {\n\t\tthis.set('backgroundOpacity', this.noBackground ? 'transparent' : 'opaque');\n\t},\n\n\t/**\n\t* @private\n\t*/\n\ttap: function () {\n\t\tif (this.disabled) {\n\t\t\treturn true;\n\t\t}\n\t\tthis.setActive(true);\n\t},\n\n\t/**\n\t* @fires module:enyo/GroupItem~GroupItem#onActivate\n\t* @private\n\t*/\n\tactiveChanged: function () {\n\t\tthis.bubble('onActivate');\n\t},\n\n\t/**\n\t* Adds `pressed` CSS class.\n\t* @private\n\t*/\n\tdepress: function (inSender, inEvent) {\n\t\tif (inEvent.keyCode === 13) {\n\t\t\tthis.addClass('pressed');\n\t\t}\n\t},\n\n\t/**\n\t* Removes `pressed` CSS class.\n\t* @private\n\t*/\n\tundepress: function () {\n\t\tthis.removeClass('pressed');\n\t},\n\n\t/**\n\t* @fires module:moonstone/Scroller~Scroller#onRequestScrollIntoView\n\t* @private\n\t*/\n\tspotlightFocused: function (inSender, inEvent) {\n\t\tif (inEvent.originator === this) {\n\t\t\tthis.bubble('onRequestScrollIntoView');\n\t\t}\n\t},\n\n\t/**\n\t* @private\n\t*/\n\tspotlightBlurred: function (sender, event) {\n\t\tthis.removeClass('pressed');\n\t},\n\n\t/**\n\t* @private\n\t*/\n\tbackgroundOpacityChanged: function (old) {\n\t\tvar opacity = this.backgroundOpacity;\n\t\tif (old) this.removeClass(old);\n\t\tif (opacity == 'translucent' || opacity == 'transparent') {\n\t\t\tthis.addClass(opacity);\n\t\t}\n\t},\n\n\t// Accessibility\n\n\t/**\n\t* @default 'button'\n\t* @type {String}\n\t* @see {@link module:enyo/AccessibilitySupport~AccessibilitySupport#accessibilityRole}\n\t* @public\n\t*/\n\taccessibilityRole: 'button'\n});\n","require('moonstone');\n\n/**\n* Contains the declaration for the {@link module:moonstone/Checkbox~Checkbox} kind.\n* @module moonstone/Checkbox\n*/\n\nvar\n\tkind = require('enyo/kind'),\n\tri = require('enyo/resolution'),\n\tCheckbox = require('enyo/Checkbox');\n\nvar\n\tIcon = require('../Icon');\n\n/**\n* {@link module:moonstone/Checkbox~Checkbox} is a box that, when tapped, shows or hides a checkmark\n* and fires an [onChange]{@link module:enyo/Checkbox~Checkbox#onChange} event. It derives from\n* {@link module:enyo/Checkbox~Checkbox} and is designed to be used with {@link module:moonstone/CheckboxItem~CheckboxItem}.\n*\n* @class Checkbox\n* @extends module:enyo/Checkbox~Checkbox\n* @ui\n* @public\n*/\nmodule.exports = kind(\n\t/** @lends module:moonstone/Checkbox~Checkbox.prototype */ {\n\n\t/**\n\t* @private\n\t*/\n\tname: 'moon.Checkbox',\n\n\t/**\n\t* @private\n\t*/\n\tkind: Checkbox,\n\n\t/**\n\t* @private\n\t*/\n\tclasses: 'moon-checkbox',\n\n\t/**\n\t* @private\n\t* @lends module:moonstone/Checkbox~Checkbox.prototype\n\t*/\n\tpublished: {\n\t\t/**\n\t\t* If `true`, the `checked` property cannot be changed through user input.\n\t\t*\n\t\t* @type {Boolean}\n\t\t* @default false\n\t\t* @public\n\t\t*/\n\t\tlocked: false,\n\n\t\t/**\n\t\t* Name of a font-based icon to use when displaying the checkbox. Consult\n\t\t* {@link module:moonstone/Icon~Icon} for valid values.\n\t\t*\n\t\t* @type {String}\n\t\t* @default 'check'\n\t\t* @public\n\t\t*/\n\t\ticon: 'check',\n\n\t\t/**\n\t\t* Optional path to an image asset. May be used to customize checkbox appearance.\n\t\t*\n\t\t* @type {String|module:enyo/resolution#selectSrc~src}\n\t\t* @default ''\n\t\t* @public\n\t\t*/\n\t\tsrc: ''\n\t},\n\n\t/**\n\t* @private\n\t*/\n\ttag: 'div',\n\n\t/**\n\t* @private\n\t*/\n\tspotlight: true,\n\n\t/**\n\t* @private\n\t*/\n\tcomponents: [\n\t\t{name: 'checkboxIcon', kind: Icon, accessibilityDisabled: true, icon: 'check'}\n\t],\n\n\t/**\n\t* @private\n\t*/\n\trendered: function () {\n\t\tCheckbox.prototype.rendered.apply(this, arguments);\n\t\tthis.srcChanged();\n\t\tthis.iconChanged();\n\t},\n\n\t/**\n\t* @fires module:enyo/Checkbox~Checkbox#onChange\n\t* @private\n\t*/\n\ttap: function (inSender, e) {\n\t\tif (!this.disabled && !this.locked) {\n\t\t\tthis.setChecked(!this.getChecked());\n\t\t\tthis.bubble('onchange');\n\t\t} else {\n\t\t\treturn true;\n\t\t}\n\t},\n\n\t/**\n\t* @private\n\t*/\n\tdragstart: function () {\n\t\t// Override enyo.Input dragstart handler, to allow drags to propagate for Checkbox\n\t},\n\n\t/**\n\t* @private\n\t*/\n\ticonChanged: function() {\n\t\tthis.$.checkboxIcon.setIcon(this.icon);\n\t},\n\n\t/**\n\t* @private\n\t*/\n\tsrcChanged: function() {\n\t\tthis.$.checkboxIcon.setSrc(ri.selectSrc(this.src));\n\t}\n});\n","/**\n* Contains the declaration for the {@link module:moonstone/VideoFeedback~VideoFeedback} kind.\n* @module moonstone/VideoFeedback\n*/\n\nrequire('moonstone');\n\nvar\n\tkind = require('enyo/kind'),\n\tutil = require('enyo/utils'),\n\tjob = require('enyo/job'),\n\tControl = require('enyo/Control');\n\nvar\n\tIcon = require('moonstone/Icon');\n\n/**\n* {@link module:moonstone/VideoFeedback~VideoFeedback} is a control used by {@link module:moonstone/VideoPlayer~VideoPlayer} to display\n* feedback in response to input from video playback controls. It may also be used to\n* display custom messages. The {@link module:moonstone/VideoTransportSlider~VideoTransportSlider} control typically\n* communicates directly with this one.\n*\n* @class VideoFeedback\n* @extends module:enyo/Control~Control\n* @ui\n* @public\n*/\nmodule.exports = kind(\n\t/** @lends module:moonstone/VideoFeedback~VideoFeedback */ {\n\n\t/**\n\t* @private\n\t*/\n\tname: 'moon.VideoFeedback',\n\n\t/**\n\t* @private\n\t*/\n\tkind: Control,\n\n\t/**\n\t* @private\n\t*/\n\tclasses: 'moon-video-player-feedback',\n\n\t/**\n\t* @private\n\t* @lends module:moonstone/VideoFeedback~VideoFeedback.prototype\n\t*/\n\tpublished: {\n\n\t\t/**\n\t\t* Length of time (in milliseconds) after which the on-screen feedback will automatically\n\t\t* disappear.\n\t\t*\n\t\t* @type {Number}\n\t\t* @default 2000\n\t\t* @public\n\t\t*/\n\t\tautoTimeoutMS: 2000,\n\n\t\t/**\n\t\t* When `true`, the content will have locale-safe uppercasing applied.\n\t\t*\n\t\t* @type {Boolean}\n\t\t* @default true\n\t\t* @public\n\t\t*/\n\t\tuppercase: true\n\t},\n\n\t/**\n\t* @private\n\t*/\n\t_showingFeedback: false,\n\n\t/**\n\t* @private\n\t*/\n\t_imagePath:\t\t\t\t'images/video-player/',\n\n\t/**\n\t* @private\n\t*/\n\t_jumpBackImg:\t\t\t'jumpbackward',\n\n\t/**\n\t* @private\n\t*/\n\t_rewindImg:\t\t\t\t'backward',\n\n\t/**\n\t* @private\n\t*/\n\t_playImg:\t\t\t\t'play',\n\n\t/**\n\t* @private\n\t*/\n\t_pauseImg:\t\t\t\t'pause',\n\n\t/**\n\t* @private\n\t*/\n\t_fastForwardImg:\t\t'forward',\n\n\t/**\n\t* @private\n\t*/\n\t_jumpForwardImg:\t\t'jumpforward',\n\n\t/**\n\t* @private\n\t*/\n\t_pauseBackImg:\t\t\t'pausebackward',\n\n\t/**\n\t* @private\n\t*/\n\t_pauseForwardImg:\t\t'pauseforward',\n\n\t/**\n\t* @private\n\t*/\n\t_pauseJumpBackImg:\t\t'pausejumpbackward',\n\n\t/**\n\t* @private\n\t*/\n\t_pauseJumpForwardImg:\t'pausejumpforward',\n\n\t/**\n\t* @private\n\t*/\n\t_autoTimer: null,\n\n\t/**\n\t* @private\n\t*/\n\tcomponents: [\n\t\t{name: 'leftIcon', kind: Icon, classes: 'moon-video-feedback-icon-left', allowHtml: true, showing: false},\n\t\t{name: 'feedText', kind: Control, classes: 'moon-video-feedback-text', allowHtml: true, showing: false},\n\t\t{name: 'rightIcon', kind: Icon, classes: 'moon-video-feedback-icon-right', allowHtml: true, showing: false}\n\t],\n\n\t/**\n\t* Updates [IconButton]{@link module:moonstone/IconButton~IconButton} image and [Slider]{@link module:moonstone/Slider~Slider}\n\t* message with current state and playback rate when any of the playback controls are\n\t* triggered.\n\t*\n\t* Playback states are mapped to `playbackRate` values according to the following hash:\n\t*\n\t* ```javascript\n\t* {\n\t*\t'fastForward': ['2', '4', '8', '16'],\n\t*\t'rewind': ['-2', '-4', '-8', '-16'],\n\t*\t'slowForward': ['1/4', '1/2'],\n\t*\t'slowRewind': ['-1/2', '-1']\n\t* }\n\t* ```\n\t*\n\t* @private\n\t*/\n\tcheckIconType: function(icon) {\n\t\tvar imagesrcRegex = /\\.(jpg|jpeg|png|gif)$/i;\n\t\treturn imagesrcRegex.test(icon) ? 'image' : 'iconfont';\n\t},\n\n\t/**\n\t* @private\n\t*/\n\tretrieveImgOrIconPath:function(icon){\n\t\treturn this.checkIconType(icon) == 'image' ? this._imagePath + icon : icon;\n\t},\n\n\t/**\n\t* Sets the current state for a {@link module:moonstone/VideoFeedback~VideoFeedback} control.\n\t*\n\t* @param {String} msg - The string to display.\n\t* @param {module:moonstone/VideoTransportSlider~VideoTransportSlider~FeedbackParameterObject} params - A\n\t*\t[hash]{@glossary Object} of parameters accompanying the message.\n\t* @param {Boolean} persist - If `true`, the [feedback]{@link module:moonstone/VideoFeedback~VideoFeedback}\n\t* control will not be automatically hidden.\n\t* @param {String} leftSrc - The source url for the image displayed on the left side\n\t*\tof the feedback control.\n\t* @param {String} rightSrc - The source url for the image displayed on the right\n\t*\tside of the feedback control.\n\t* @param {Boolean} preview - Specify `true` to put the\n\t* [video player]{@link module:moonstone/VideoPlayer~VideoPlayer} in preview mode; otherwise, `false`.\n\t* @public\n\t*/\n\tfeedback: function(msg, params, persist, leftSrc, rightSrc, preview) {\n\t\tvar customMessage = false;\n\t\tmsg = msg || '';\n\t\tparams = params || {};\n\n\t\tswitch (msg) {\n\t\tcase 'Play':\n\t\t\tmsg = '';\n\t\t\trightSrc = this.retrieveImgOrIconPath(this._playImg);\n\t\t\tbreak;\n\n\t\tcase 'Pause':\n\t\t\tmsg = '';\n\t\t\trightSrc = this.retrieveImgOrIconPath(this._pauseImg);\n\t\t\tbreak;\n\n\t\tcase 'Rewind':\n\t\t\tmsg = Math.abs(params.playbackRate) + 'x';\n\t\t\tleftSrc = this.retrieveImgOrIconPath(this._rewindImg);\n\t\t\tbreak;\n\n\t\tcase 'Slowrewind':\n\t\t\tmsg = params.playbackRate.split('-')[1] + 'x';\n\t\t\tleftSrc = this.retrieveImgOrIconPath(this._pauseBackImg);\n\t\t\tbreak;\n\n\t\tcase 'Fastforward':\n\t\t\tmsg = params.playbackRate + 'x';\n\t\t\trightSrc = this.retrieveImgOrIconPath(this._fastForwardImg);\n\t\t\tbreak;\n\n\t\tcase 'Slowforward':\n\t\t\tmsg = params.playbackRate + 'x';\n\t\t\trightSrc = this.retrieveImgOrIconPath(this._pauseForwardImg);\n\t\t\tbreak;\n\n\t\tcase 'JumpBackward':\n\t\t\tmsg = '';\n\t\t\tleftSrc = this.retrieveImgOrIconPath(this._pauseJumpBackImg);\n\t\t\tbreak;\n\n\t\tcase 'JumpForward':\n\t\t\tmsg = '';\n\t\t\trightSrc = this.retrieveImgOrIconPath(this._pauseJumpForwardImg);\n\t\t\tbreak;\n\n\t\tcase 'JumpToStart':\n\t\t\tmsg = '';\n\t\t\tleftSrc = this.retrieveImgOrIconPath(this._pauseJumpBackImg);\n\t\t\tbreak;\n\n\t\tcase 'JumpToEnd':\n\t\t\tmsg = '';\n\t\t\trightSrc = this.retrieveImgOrIconPath(this._pauseJumpForwardImg);\n\t\t\tbreak;\n\n\t\tcase 'Stop':\n\t\t\tmsg = '';\n\t\t\trightSrc = '';\n\t\t\tbreak;\n\n\t\t// If the user sends in a custom message, block other messages until it's hidden\n\t\tdefault:\n\t\t\tcustomMessage = true;\n\t\t\tthis._showingFeedback = true;\n\t\t\tbreak;\n\t\t}\n\n\t\t// Don't show feedback if we are showing custom feedback already, unless this is a new custom message\n\t\tif (!customMessage && this._showingFeedback) return;\n\t\t// If msg is '', we do not need to show\n\t\tthis.$.feedText.set('showing', !!msg);\n\t\t// Set content as _inMessage_\n\t\tthis.$.feedText.setContent( this.get('uppercase') ? util.toUpperCase(msg) : msg);\n\n\t\t// Show output controls when video player is not preview mode\n\t\tif (!preview) this.showFeedback();\n\n\t\t// Show icons as appropriate\n\t\tthis.updateIcons(leftSrc, rightSrc);\n\n\t\t//* Don't set up hide timer if _inPersistShowing_ is true\n\t\tif (persist) this.resetAutoTimer();\n\t\telse this.setAutoTimer();\n\n\t\tthis.inPersistShowing = persist;\n\t},\n\n\t/**\n\t* Determines whether the current feedback message is persistent (i.e., it has no\n\t* timeout).\n\t*\n\t* @returns {Boolean} `true` if the current feedback message has no timeout;\n\t* otherwise, `false`, meaning that the feedback message has a timeout and is not\n\t* persistent.\n\t* @public\n\t*/\n\tisPersistShowing: function() {\n\t\treturn this.inPersistShowing;\n\t},\n\n\t/**\n\t* Shows this control.\n\t*\n\t* @public\n\t*/\n\tshowFeedback: function() {\n\t\tthis.setShowing(true);\n\t},\n\n\t/**\n\t* Hides this control and sets internal `_showingFeedback` flag to `false`.\n\t*\n\t* @public\n\t*/\n\thideFeedback: function() {\n\t\tthis.setShowing(false);\n\t\tthis._showingFeedback = false;\n\t},\n\n\t/**\n\t* Starts job that will hide this control.\n\t*\n\t* @private\n\t*/\n\tsetAutoTimer: function() {\n\t\tthis.hideJob = job(this.id + 'hide', this.bindSafely('hideFeedback'), this.getAutoTimeoutMS());\n\t},\n\n\t/**\n\t* Clears job that will hide this control.\n\t*\n\t* @private\n\t*/\n\tresetAutoTimer: function() {\n\t\tjob.stop(this.id + 'hide');\n\t},\n\n\t/**\n\t* Shows or hides icons, and sets sources.\n\t*\n\t* @private\n\t*/\n\tupdateIcons: function(leftSrc, rightSrc) {\n\t\tif (leftSrc) {\n\t\t\tthis.$.leftIcon.show();\n\t\t\tthis.displayIconSrcOrFont(this.$.leftIcon, leftSrc);\n\t\t\tthis.$.leftIcon.addRemoveClass('moon-video-feedback-icon-only', !this.$.feedText.get('showing'));\n\t\t} else {\n\t\t\tthis.$.leftIcon.hide();\n\t\t}\n\n\t\tif (rightSrc) {\n\t\t\tthis.$.rightIcon.show();\n\t\t\tthis.displayIconSrcOrFont(this.$.rightIcon, rightSrc);\n\t\t\tthis.$.rightIcon.addRemoveClass('moon-video-feedback-icon-only', !this.$.feedText.get('showing'));\n\t\t} else {\n\t\t\tthis.$.rightIcon.hide();\n\t\t}\n\n\t},\n\n\t/**\n\t* @private\n\t*/\n\tdisplayIconSrcOrFont: function(iconKind, icon) {\n\t\tif (this.checkIconType(icon) == 'image') {\n\t\t\ticonKind.set('icon', '');\n\t\t\ticonKind.set('src', icon);\n\t\t} else {\n\t\t\ticonKind.set('src', '');\n\t\t\ticonKind.set('icon', icon);\n\t\t}\n\t}\n});\n","require('moonstone');\n\n/**\n* Contains the declaration for the {@link module:moonstone/Marquee~MarqueeSupport} mixin and the {@link module:moonstone/Marquee~MarqueeText} &\n* {@link module:moonstone/Marquee~MarqueeDecorator} kinds.\n* @module moonstone/Marquee\n*/\n\nvar kind = require('enyo/kind'),\n\tdom = require('enyo/dom'),\n\tplatform = require('enyo/platform'),\n\tutil = require('enyo/utils'),\n\tControl = require('enyo/Control'),\n\tComponent = require('enyo/Component'),\n\tSignals = require('enyo/Signals');\n\nvar\n\toptions = require('../options'),\n\tHighlightText = require('../HighlightText');\n\nvar exports = module.exports = {};\n\n/**\n* There are a couple scenarios (window blurs and changing from pointer mode to 5-way) in which\n* we'd like to stop an actively on-hover marqueeing control. This private instance manages\n* those events centrally to minimize unnecessary Signal's subscribers.\n*\n* @private\n*/\nvar observer = new Component({\n\n\t/**\n\t* @private\n\t*/\n\thoverControl: null,\n\n\t/**\n\t* @private\n\t*/\n\tcomponents: [\n\t\t{kind: Signals, onSpotlightModeChanged: 'handleModeChanged', onblur: 'handleBlur'}\n\t],\n\n\t/**\n\t* @private\n\t*/\n\t_setMarqueeOnHoverControl: function(oControl) {\n\t\tthis.hoverControl = oControl;\n\t},\n\n\t/**\n\t* @private\n\t*/\n\t_getMarqueeOnHoverControl: function() {\n\t\treturn this.hoverControl;\n\t},\n\n\t/**\n\t* @private\n\t*/\n\thandleModeChanged: function (sender, event) {\n\t\tif (!event.pointerMode && this.hoverControl) {\n\t\t\tthis.hoverControl._marquee_leave();\n\t\t}\n\t},\n\n\t/**\n\t* @private\n\t*/\n\thandleBlur: function (sender, event) {\n\t\tif (this.hoverControl) {\n\t\t\tthis.hoverControl._marquee_leave();\n\t\t}\n\t}\n});\n\n/**\n* Fires to queue up a list of child animations.\n*\n* @event module:moonstone/Marquee~MarqueeSupport#onRequestMarquee\n* @type {Object}\n* @property {Object} originator - A reference to the originator of this event.\n* @property {Boolean} marqueePause - The desired duration in milliseconds that the\n* marquee will pause at the end of the animation, before resetting to the beginning.\n* @property {Number} marqueeSpeed - The desired speed for the marquee animation,\n* in pixels per second.\n* @private\n*/\n\n/**\n* Fires to start marquee animation in a child marquee.\n*\n* @event module:moonstone/Marquee~MarqueeSupport#onRequestMarqueeStart\n* @type {Object}\n* @property {Object} originator - A reference to the originator of this event.\n* @private\n*/\n\n/**\n* Fires to halt marquee animation in a child marquee.\n*\n* @event module:moonstone/Marquee~MarqueeSupport#onRequestMarqueeStop\n* @type {Object}\n* @property {Object} originator - A reference to the originator of this event.\n* @private\n*/\n\n/**\n* Fires to enable animation in a child marquee. No additional data is sent with this event.\n*\n* @event module:moonstone/Marquee~MarqueeSupport#onRequestMarqueeEnable\n* @type {Object}\n* @private\n*/\n\n/**\n* Fires to disable animation in a child marquee. No additional data is sent with this event.\n*\n* @event module:moonstone/Marquee~MarqueeSupport#onRequestMarqueeDisable\n* @type {Object}\n* @private\n*/\n\n/**\n* Fires when marquee ends. No additional data is sent with this event.\n*\n* @event module:moonstone/Marquee~MarqueeItem#onMarqueeEnded\n* @type {Object}\n* @private\n*/\n\n/**\n* The {@link module:moonstone/Marquee~MarqueeSupport} [mixin]{@glossary mixin} should be used with controls\n* that contain multiple marquees whose animation behavior should be synchronized. Calling\n* [this.startMarquee()]{@link module:moonstone/Marquee~MarqueeSupport#startMarquee} or\n* [this.stopMarquee()]{@link module:moonstone/Marquee~MarqueeSupport#stopMarquee} will start or stop all\n* contained marquees.\n*\n* The following properties, defined on the base kind to which the mixin is applied,\n* control the marquee behavior:\n*\n* [marqueeOnSpotlight]{@link module:moonstone/Marquee~MarqueeSupport#marqueeOnSpotlight}: When `true`, marquee\n* starts when control is spotlight focused and ends when it is spotlight blurred.\n*\n* [marqueeOnHover]{@link module:moonstone/Marquee~MarqueeSupport#marqueeOnHover}: When `true`, marquee runs\n* while control is hovered over with the mouse. This property is ignored if\n* `marqueeOnSpotlight` is `true`.\n*\n* [marqueeOnRender]{@link module:moonstone/Marquee~MarqueeSupport#marqueeOnRender}: When `true`, marquee starts\n* running as soon as control is rendered, and runs continuously.\n*\n* [marqueeSpeed]{@link module:moonstone/Marquee~MarqueeSupport#marqueeSpeed}: The speed of the marquee animation,\n* in pixels per second.\n*\n* [marqueeDelay]{@link module:moonstone/Marquee~MarqueeSupport#marqueeDelay}: The delay between spotlight\n* focus/hover and the start of the animation. (This is only used when either\n* `marqueeOnSpotlight` or `marqueeOnHover` is `true`).\n*\n* [marqueeOnRenderDelay]{@link module:moonstone/Marquee~MarqueeSupport#marqueeOnRenderDelay}: Used when you want\n* the marquee to run on render, after a specified delay.\n*\n* [marqueePause]{@link module:moonstone/Marquee~MarqueeSupport#marqueePause}: The duration in milliseconds that\n* the marquee will pause at the end of the animation, before resetting to the beginning.\n*\n* @mixin\n* @public\n*/\nvar MarqueeSupport = {\n\n\t/**\n\t* @private\n\t*/\n\tname: 'MarqueeSupport',\n\n\t/**\n\t* @private\n\t*/\n\t_marquee_Handlers: {\n\t\tonRequestStartMarquee: '_marquee_requestStartMarquee',\n\t\tonSpotlightFocused: '_marquee_spotlightFocused',\n\t\tonSpotlightBlur: '_marquee_spotlightBlur',\n\t\tonenter: '_marquee_enter',\n\t\tonleave: '_marquee_leave',\n\t\tonMarqueeEnded: '_marquee_marqueeEnded',\n\t\tonresize: '_marquee_resize',\n\n\t\t// Stop propagation of requests coming from parent MarqueeSupport's, since\n\t\t// only this MarqueeSupport should be controlling its subordinate children\n\t\tonRequestMarquee: '_marquee_stopPropagation',\n\t\tonRequestMarqueeStart: '_marquee_stopPropagation',\n\t\tonRequestMarqueeStop: '_marquee_stopPropagation'\n\t},\n\n\t/**\n\t* @private\n\t*/\n\t_marquee_active: false,\n\n\t/**\n\t* When `true`, marquee starts when the control is {@link Spotlight} focused and ends\n\t* when it is spotlight blurred.\n\t*\n\t* @type {Boolean}\n\t* @default undefined\n\t* @public\n\t*/\n\tmarqueeOnSpotlight: undefined,\n\n\t/**\n\t* When `true`, marquee runs while the control is hovered over with the mouse. This\n\t* property is ignored if [marqueeOnSpotlight]{@link module:moonstone/Marquee~MarqueeSupport#marqueeOnSpotlight}\n\t* is `true`.\n\t*\n\t* @type {Boolean}\n\t* @default undefined\n\t* @public\n\t*/\n\tmarqueeOnHover: undefined,\n\n\t/**\n\t* When `true`, marquee starts running as soon as the control is rendered, and runs\n\t* continuously.\n\t*\n\t* @type {Boolean}\n\t* @default undefined\n\t* @public\n\t*/\n\tmarqueeOnRender: undefined,\n\n\t/**\n\t* The speed of the marquee animation, in pixels per second.\n\t*\n\t* @type {Number}\n\t* @default undefined\n\t* @public\n\t*/\n\tmarqueeSpeed: undefined,\n\n\t/**\n\t* The delay between spotlight focus/hover and the start of the animation. (This is only\n\t* used when either [marqueeOnSpotlight]{@link module:moonstone/Marquee~MarqueeSupport#marqueeOnSpotlight} or\n\t* [marqueeOnHover]{@link module:moonstone/Marquee~MarqueeSupport#marqueeOnHover} is `true`.)\n\t*\n\t* @type {Number}\n\t* @default undefined\n\t* @public\n\t*/\n\tmarqueeDelay: undefined,\n\n\t/**\n\t* Used when you want the marquee to run on render, after a specified delay.\n\t*\n\t* @type {Number}\n\t* @default undefined\n\t* @public\n\t*/\n\tmarqueeOnRenderDelay: undefined,\n\n\t/**\n\t* The duration in milliseconds that the marquee will pause at the end of the\n\t* animation, before resetting to the beginning.\n\t*\n\t* @type {Number}\n\t* @default undefined\n\t* @public\n\t*/\n\tmarqueePause: undefined,\n\n\t/**\n\t* Initializes marquee timings.\n\t*\n\t* @method\n\t* @private\n\t*/\n\tcreate: kind.inherit(function (sup) {\n\t\treturn function () {\n\t\t\tsup.apply(this, arguments);\n\t\t\tthis.marqueeOnSpotlight = (this.marqueeOnSpotlight === undefined) ? true : this.marqueeOnSpotlight;\n\t\t\tthis.marqueeOnHover =  (this.marqueeOnHover ===   undefined) ? false :  this.marqueeOnHover;\n\t\t\tthis.marqueeSpeed =    (this.marqueeSpeed ===     undefined) ? 60 :    this.marqueeSpeed;\n\t\t\tthis.marqueeDelay =    (this.marqueeDelay ===     undefined) ? 1000 :  this.marqueeDelay;\n\t\t\tthis.marqueePause =    (this.marqueePause ===     undefined) ? 1000 :  this.marqueePause;\n\t\t\tthis.marqueeHold  =    (this.marqueeHold  ===     undefined) ? 2000 :  this.marqueeHold;\n\t\t\tthis.marqueeOnRender = (this.marqueeOnRender  === undefined) ? false : this.marqueeOnRender;\n\t\t\tthis.marqueeOnRenderDelay = (this.marqueeOnRenderDelay === undefined) ? this.marqueeDelay : this.marqueeOnRenderDelay;\n\t\t};\n\t}),\n\n\t/**\n\t* If {@link module:moonstone/Marquee~MarqueeSupport#marqueeOnRender} is `true`, kicks off marquee animation.\n\t*\n\t* @method\n\t* @private\n\t*/\n\trendered: kind.inherit(function (sup) {\n\t\treturn function () {\n\t\t\tsup.apply(this, arguments);\n\t\t\tif (this.marqueeOnRender && !this.disabled) {\n\t\t\t\tthis.startMarqueeCustomDelay(this.marqueeOnRenderDelay);\n\t\t\t}\n\t\t};\n\t}),\n\n\t/**\n\t* @method\n\t* @private\n\t*/\n\tteardownRender: kind.inherit(function (sup) {\n\t\treturn function (caching) {\n\t\t\tif (caching && this._marquee_active) {\n\t\t\t\tthis.stopMarquee();\n\t\t\t}\n\t\t\tsup.apply(this, arguments);\n\t\t};\n\t}),\n\n\t/**\n\t* @method\n\t* @private\n\t*/\n\tdestroy: kind.inherit(function (sup) {\n\t\treturn function () {\n\t\t\tif (this === observer._getMarqueeOnHoverControl()) {\n\t\t\t\tobserver._setMarqueeOnHoverControl(null);\n\t\t\t}\n\t\t\tsup.apply(this, arguments);\n\t\t};\n\t}),\n\n\t/**\n\t* @method\n\t* @private\n\t*/\n\tdispatchEvent: kind.inherit(function (sup) {\n\t\treturn function (sEventName, oEvent, oSender) {\n\t\t\t// Needed for proper onenter/onleave handling\n\t\t\tif (this.strictlyInternalEvents[sEventName] && this.isInternalEvent(oEvent)) {\n\t\t\t\treturn true;\n\t\t\t}\n\t\t\t// FIXME: not sure why events can arrive without event objects, but we guard here for safety\n\t\t\tif (oEvent && !oEvent.delegate) {\n\t\t\t\tvar handler = this._marquee_Handlers[sEventName];\n\t\t\t\tif (handler){\n\t\t\t\t\tthis.cachePoint = true;\n\t\t\t\t\tif(this[handler](oSender, oEvent)) {\n\t\t\t\t\t\treturn true;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn sup.apply(this, arguments);\n\t\t};\n\t}),\n\n\t/**\n\t* Handles external requests to kick off {@link module:moonstone/Marquee~MarqueeSupport#marqueeStart}.\n\t*\n\t* @private\n\t*/\n\t_marquee_requestStartMarquee: function () {\n\t\tif (this.marqueeOnRender) {\n\t\t\tthis.stopMarquee();\n\t\t\tthis.startMarquee();\n\t\t\treturn true;\n\t\t}\n\t},\n\n\t/**\n\t* On focus, starts child marquees.\n\t*\n\t* @private\n\t*/\n\t_marquee_spotlightFocused: function (sender, ev) {\n\t\tthis._marquee_isFocused = true;\n\t\tif (this.marqueeOnSpotlight) {\n\t\t\tthis.startMarquee();\n\t\t}\n\t},\n\n\t/**\n\t* On blur, halts child marquees.\n\t*\n\t* @private\n\t*/\n\t_marquee_spotlightBlur: function (sender, ev) {\n\t\tthis._marquee_isFocused = false;\n\t\tif (this.marqueeOnSpotlight && !this.marqueeOnRender) {\n\t\t\tthis.stopMarquee();\n\t\t}\n\t},\n\n\t/**\n\t* @private\n\t*/\n\t_marquee_enter: function (sender, ev) {\n\t\tthis._marquee_isHovered = true;\n\t\tif ((this.marqueeOnHover && !this.marqueeOnSpotlight) ||\n\t\t(this.disabled && this.marqueeOnSpotlight)) {\n\t\t\tif (this.marqueeOnHover) {\n\t\t\t\tobserver._setMarqueeOnHoverControl(this);\n\t\t\t}\n\t\t\tthis.startMarquee();\n\t\t}\n\t},\n\n\t/**\n\t* @private\n\t*/\n\t_marquee_leave: function (sender, ev) {\n\t\tthis._marquee_isHovered = false;\n\t\tif ((this.marqueeOnHover && !this.marqueeOnSpotlight) || (this.disabled && this.marqueeOnSpotlight)) {\n\t\t\tif (this.marqueeOnHover) {\n\t\t\t\tobserver._setMarqueeOnHoverControl(null);\n\t\t\t}\n\t\t\tif (!this.marqueeOnRender) {\n\t\t\t\tthis.stopMarquee();\n\t\t\t}\n\t\t}\n\t},\n\n\t/**\n\t* @private\n\t*/\n\t_marquee_stopPropagation: function (sender, ev) {\n\t\tif (ev.originator != this) {\n\t\t\treturn true;\n\t\t}\n\t},\n\n\t/**\n\t* When a child marquee animation completes, removes the child from\n\t* [marqueeWaitList]{@link module:moonstone/Marquee~MarqueeSupport#marqueeWaitList}.\n\t*\n\t* @private\n\t*/\n\t_marquee_marqueeEnded: function (sender, ev) {\n\t\tif (this._marquee_active) {\n\t\t\tutil.remove(ev.originator, this.marqueeWaitList);\n\t\t\tif (this.marqueeWaitList.length === 0) {\n\t\t\t\tthis._marquee_startHold();\n\t\t\t\tthis._marquee_active = false;\n\t\t\t}\n\t\t}\n\t\treturn true;\n\t},\n\n\t/**\n\t* @private\n\t*/\n\t_marquee_resize: function (sender, ev) {\n\t\tif (this.marqueeOnSpotlight && this._marquee_active) {\n\t\t\tthis._marquee_active = false;\n\t\t\tthis._marquee_startHold();\n\t\t}\n\t},\n\n\t/**\n\t* Starts timer to waterfall an\n\t* [onRequestMarqueeStart]{@link module:moonstone/Marquee~MarqueeSupport#onRequestMarqueeStart} event\n\t* that kicks off marquee animation on all child marquees.\n\t*\n\t* @public\n\t*/\n\tstartMarquee: function () {\n\t\tthis.startMarqueeCustomDelay(this.marqueeDelay);\n\t},\n\n\t/**\n\t* Waterfalls an [onRequestMarqueeStop]{@link module:moonstone/Marquee~MarqueeSupport#onRequestMarqueeStop}\n\t* event to halt all running child marquees.\n\t*\n\t* @public\n\t*/\n\tstopMarquee: function () {\n\t\tthis.stopJob('marqueeSupportJob');\n\t\tthis.stopJob('resetMarquee');\n\t\tthis._marquee_active = false;\n\t\tthis._marquee_stopChildMarquees();\n\t},\n\n\t/**\n\t* @public\n\t*/\n\tenableMarquee: function () {\n\t\tthis._marquee_enableChildMarquees();\n\t},\n\n\t/**\n\t* @public\n\t*/\n\tdisableMarquee: function () {\n\t\tthis.stopMarquee();\n\t\tthis._marquee_disableChildMarquees();\n\t},\n\n\t/**\n\t* Adds the passed-in [control]{@link module:enyo/Control~Control} to the list of marquee items.\n\t*\n\t* @param {Object} control  The [control]{@link module:enyo/Control~Control} to add.\n\t* @public\n\t*/\n\taddMarqueeItem: function (control) {\n\t\tthis.marqueeWaitList.push(control);\n\t},\n\n\t/**\n\t* Restarts marquee if needed (depending on the\n\t* [marqueeOnSpotlight]{@link module:moonstone/Marquee~MarqueeSupport#marqueeOnSpotlight} and\n\t* [marqueeOnRender]{@link module:moonstone/Marquee~MarqueeSupport#marqueeOnRender} settings).\n\t*\n\t* @public\n\t*/\n\tresetMarquee: function () {\n\t\tif ((this.marqueeOnSpotlight && this._marquee_isFocused) ||\n\t\t\t(this.marqueeOnHover && this._marquee_isHovered) ||\n\t\t\tthis.marqueeOnRender) {\n\t\t\t// Batch multiple requests to reset from children being hidden/shown\n\t\t\tthis.startJob('resetMarquee', '_resetMarquee', 10);\n\t\t}\n\t},\n\n\t/**\n\t* Starts Marquee after a specified delay. Used to provide different delays for `onRender`\n\t* and `onSpotlight/Hover`.\n\t*\n\t* @param {Number} delay  Length of delay in milliseconds\n\t* @public\n\t*/\n\tstartMarqueeCustomDelay: function (delay) {\n\t\tthis._marquee_buildWaitList();\n\n\t\tif (this.marqueeWaitList.length === 0) {\n\t\t\treturn;\n\t\t}\n\n\t\tthis._marquee_active = true;\n\t\tthis.startJob('marqueeSupportJob', '_marquee_startChildMarquees', delay);\n\t},\n\n\t/**\n\t* Stops and restarts the marquee animations.\n\t*\n\t* @private\n\t*/\n\t_resetMarquee: function () {\n\t\tthis.stopMarquee();\n\t\tif (this.marqueeOnRender) { this.startMarqueeCustomDelay(this.marqueeOnRenderDelay); }\n\t\telse { this.startMarquee(); }\n\t},\n\n\t/**\n\t* Waterfalls request for child animations to build up\n\t* [marqueeWaitList]{@link module:moonstone/Marquee~MarqueeSupport#marqueeWaitList}.\n\t*\n\t* @fires module:moonstone/Marquee~MarqueeSupport#onRequestMarquee\n\t* @private\n\t*/\n\t_marquee_buildWaitList: function () {\n\t\tthis.marqueeWaitList = [];\n\t\tthis.waterfall('onRequestMarquee', {originator: this, marqueePause: this.marqueePause, marqueeSpeed: this.marqueeSpeed});\n\t},\n\n\t/**\n\t* Waterfalls event to kick off child marquee animations.\n\t*\n\t* @fires module:moonstone/Marquee~MarqueeSupport#onRequestMarqueeStart\n\t* @private\n\t*/\n\t_marquee_startChildMarquees: function () {\n\t\tthis.waterfall('onRequestMarqueeStart', {originator: this});\n\t},\n\n\t/**\n\t* Waterfalls event to halt child marquee animations.\n\t*\n\t* @fires module:moonstone/Marquee~MarqueeSupport#onRequestMarqueeStop\n\t* @private\n\t*/\n\t_marquee_stopChildMarquees: function () {\n\t\tthis.waterfall('onRequestMarqueeStop', {originator: this});\n\t},\n\n\t/**\n\t* Waterfalls event to enable child marquee animations.\n\t*\n\t* @fires module:moonstone/Marquee~MarqueeSupport#onRequestMarqueeEnable\n\t* @private\n\t*/\n\t_marquee_enableChildMarquees: function () {\n\t\tthis.waterfall('onRequestMarqueeEnable');\n\t},\n\n\t/**\n\t* Waterfalls event to disable child marquee animations.\n\t*\n\t* @fires module:moonstone/Marquee~MarqueeSupport#onRequestMarqueeDisable\n\t* @private\n\t*/\n\t_marquee_disableChildMarquees: function () {\n\t\tthis.waterfall('onRequestMarqueeDisable');\n\t},\n\n\t/**\n\t* Begins delayed restart of child marquee animations.\n\t*\n\t* @private\n\t*/\n\t_marquee_startHold: function () {\n\t\tthis.startJob('marqueeSupportJob', 'startMarquee', this.marqueeHold);\n\t}\n};\n\nexports.Support = MarqueeSupport;\n\n/**\n* The {@link module:moonstone/Marquee~MarqueeItem} mixin is used to add marquee animation functionality\n* to a control.\n*\n* @mixin\n* @public\n*/\nvar MarqueeItem = {\n\n\t/**\n\t* @private\n\t*/\n\tevents: {\n\n\t\t/**\n\t\t* {@link module:moonstone/Marquee~MarqueeItem#onMarqueeEnded}\n\t\t*/\n\t\tonMarqueeEnded:''\n\t},\n\n\t/**\n\t* @private\n\t*/\n\t_marqueeItem_Handlers: {\n\t\tonRequestMarquee: '_marquee_requestMarquee',\n\t\tonRequestMarqueeStart: '_marquee_startAnimation',\n\t\tonRequestMarqueeStop: '_marquee_stopAnimation',\n\t\tonRequestMarqueeEnable: '_marquee_enable',\n\t\tonRequestMarqueeDisable: '_marquee_disable',\n\t\tontransitionend: '_marquee_animationEnded'\n\t},\n\n\t/**\n\t* @private\n\t*/\n\tobservers: {\n\t\t_marquee_contentChanged: ['content'],\n\t\t_marquee_centeredChanged: ['centered'],\n\t\t_marquee_wrapInsteadOfMarqueeChanged: ['wrapInsteadOfMarquee']\n\t},\n\n\t/**\n\t* @private\n\t*/\n\tbindings: [\n\t\t{from: '.allowHtml', to:'.$.marqueeText.allowHtml'}\n\t],\n\n\t/**\n\t* @private\n\t*/\n\tclasses: 'moon-marquee',\n\n\t/**\n\t* @method\n\t* @private\n\t*/\n\tdispatchEvent: kind.inherit(function (sup) {\n\t\treturn function (sEventName, oEvent, oSender) {\n\t\t\tif (sup.apply(this, arguments)) {\n\t\t\t\treturn true;\n\t\t\t}\n\t\t\tif (oEvent && !oEvent.delegate) {\n\t\t\t\tvar handler = this._marqueeItem_Handlers[sEventName];\n\t\t\t\tif (handler && this[handler](oSender, oEvent)) {\n\t\t\t\t\treturn true;\n\t\t\t\t}\n\t\t\t}\n\t\t};\n\t}),\n\n\t/**\n\t* @private\n\t*/\n\t_marquee_enabled: true,\n\n\t/**\n\t* @private\n\t*/\n\t_marquee_distance: null,\n\n\t/**\n\t* @private\n\t*/\n\t_marquee_fits: null,\n\n\t/**\n\t* @private\n\t*/\n\t_marquee_puppetMaster: null,\n\n\t/**\n\t* @method\n\t* @private\n\t*/\n\tcreate: kind.inherit(function (sup) {\n\t\treturn function () {\n\t\t\tsup.apply(this, arguments);\n\t\t\tthis.detectTextDirectionality();\n\t\t\tthis._marquee_wrapInsteadOfMarqueeChanged();\n\t\t};\n\t}),\n\n\t/**\n\t* @method\n\t* @private\n\t*/\n\trendered: kind.inherit(function (sup) {\n\t\treturn function () {\n\t\t\tsup.apply(this, arguments);\n\t\t\t// There is a known issue where a parent control that modifies the layout will\n\t\t\t// invalidate the measurements used to detect the proper alignment, which can\n\t\t\t// result in the appropriate text-align rule not being applied. For example, this\n\t\t\t// can occur with a moon.Header that is located inside a moon.Scroller which has\n\t\t\t// vertical scrollbars visible.\n\t\t\tthis._marquee_detectAlignment();\n\t\t\tsetTimeout(util.bindSafely(this, this._marquee_calcDistance), platform.firefox ? 100 : 16);\n\t\t};\n\t}),\n\n\t/**\n\t* @method\n\t* @private\n\t*/\n\treflow: kind.inherit(function (sup) {\n\t\treturn function () {\n\t\t\tsup.apply(this, arguments);\n\t\t\tthis._marquee_invalidateMetrics();\n\t\t\tthis._marquee_calcDistance();\n\t\t};\n\t}),\n\n\t/**\n\t* @method\n\t* @private\n\t*/\n\tshowingChangedHandler: kind.inherit(function (sup) {\n\t\treturn function (sender, event) {\n\t\t\tsup.apply(this, arguments);\n\t\t\tthis._marquee_reset();\n\t\t\tif(this.showing && event.showing){\n\t\t\t\tthis._marquee_calcDistance();\n\t\t\t} else {\n\t\t\t\t//if the marquee isn't showing we should reset its spotlight focus\n\t\t\t\tif (this._marquee_puppetMaster) {\n\t\t\t\t\tthis._marquee_puppetMaster._marquee_spotlightBlur();\n\t\t\t\t} else if (this._marquee_spotlightBlur) {\n\t\t\t\t\tthis._marquee_spotlightBlur();\n\t\t\t\t}\n\t\t\t}\n\t\t};\n\t}),\n\n\t/**\n\t* We must measure the content (after render) to determine if it's marqueeable, then to set\n\t* its alignment to left if the content was explicitly set to LTR earlier. This happens when\n\t* the locale is set to a RTL language, but your string contains no RTL characters in it.\n\t* Therefore it's LTR, and if it's marqueeable, should be left aligned, so it marquees in the\n\t* natural marqueeing direction.\n\t*\n\t* @param {Boolean} [forceAnimate]  Override the animation check (only accepts `true`). Use\n\t*\tthis if you know already, because you've already measured that you will need to marquee.\n\t* @param {Boolean} [forceRtl]  Override the internal RTL property, in case you know better.\n\t* @private\n\t*/\n\t_marquee_detectAlignment: function (forceAnimate, forceRtl) {\n\t\tvar alignment = null,\n\t\t\trtl = forceRtl || this.rtl;\n\n\t\t// We only attempt to set the alignment of this control if the locale's directionality\n\t\t// differs from the directionality of our current marqueeable control (as determined by\n\t\t// the control's content or is explicitly specified).\n\t\tif (Control.prototype.rtl != rtl || this.centered) {\n\t\t\t// If we will be marqueeing, we know the alignment needs to be set based on directionality.\n\t\t\tif (forceAnimate || this._marquee_shouldAnimate()) {\n\t\t\t\tif (rtl) {\n\t\t\t\t\talignment = 'right';\n\t\t\t\t} else {\n\t\t\t\t\talignment = 'left';\n\t\t\t\t}\n\t\t\t}\n\t\t\t// Alignment wasn't set yet, so we know we don't need to animate. Now we can center the text if we're supposed to.\n\t\t\tif (!alignment && this.centered) {\n\t\t\t\talignment = 'center';\n\t\t\t}\n\t\t}\n\n\t\tthis.set('_marquee_alignment', alignment);\n\t},\n\n\t/**\n\t* Reset the marquee distance if the alignment changes, since now we'll have to calculate the\n\t* size again.\n\t*\n\t* @private\n\t*/\n\t_marquee_alignmentChanged: function () {\n\t\tthis.applyStyle('text-align', this._marquee_alignment);\n\t\tthis._marquee_invalidateMetrics();\n\t},\n\n\t/**\n\t* @private\n\t*/\n\t_marquee_invalidateMetrics: function () {\n\t\tthis._marquee_distance = null;\n\t\tthis._marquee_fits = null;\n\t},\n\n\t/**\n\t* When the content of this control changes, updates the content of\n\t* `this.$.marqueeText` (if it exists).\n\t*\n\t* @private\n\t*/\n\t_marquee_contentChanged: function () {\n\t\tthis.detectTextDirectionality();\n\t\tif (this.$.marqueeText) {\n\t\t\tthis.$.marqueeText.setContent(this.content);\n\t\t}\n\t\tif (this.generated) {\n\t\t\tthis._marquee_invalidateMetrics();\n\t\t\tthis._marquee_detectAlignment();\n\t\t\tthis._marquee_calcDistance();\n\t\t}\n\t\tthis._marquee_reset();\n\t},\n\n\t/**\n\t* If this control needs to marquee, lets the event originator know.\n\t*\n\t* @private\n\t*/\n\t_marquee_requestMarquee: function (sender, ev) {\n\t\tif (!ev || !this.showing || this._marquee_fits) {\n\t\t\treturn;\n\t\t}\n\n\t\tthis._marquee_puppetMaster = ev.originator;\n\t\tev.originator.addMarqueeItem(this);\n\n\t\tthis.marqueePause = ev.marqueePause || 1000;\n\t\tthis.marqueeSpeed = ev.marqueeSpeed || 60;\n\t},\n\n\t/**\n\t* Starts marquee animation.\n\t*\n\t* @private\n\t*/\n\t_marquee_startAnimation: function (sender, ev) {\n\t\tvar distance;\n\n\t\t// if this control hasn't been generated, there's no need to follow through on\n\t\t// marquee requests as we'll be unable to correctly measure the distance delta yet\n\t\tif (!this.generated) return;\n\n\t\t// Lazy creation of _this.$.marqueeText_\n\t\tif (!this.$.marqueeText) {\n\t\t\tthis._marquee_createMarquee();\n\t\t}\n\n\t\tdistance = this._marquee_calcDistance();\n\n\t\t// If there is no need to animate, return early\n\t\tif (!this._marquee_shouldAnimate(distance)) {\n\t\t\tthis._marquee_fits = true;\n\t\t\tthis.doMarqueeEnded();\n\t\t\treturn;\n\t\t}\n\n\t\tthis._marquee_addAnimationStyles(distance);\n\n\t\tif (this.$.marqueeText) { return true; }\n\t\t//if we should animate marquee (distance > 0) but can`t do this\n\t\t//(this.$.marqueeText == undefined (marquee has children)) we fire doMarqueeEnded\n\t\t//to remove marquee from marquee wait list\n\t\telse { this.doMarqueeEnded(); }\n\t},\n\n\t/**\n\t* @private\n\t*/\n\t_marquee_enable: function () {\n\t\tthis.set('_marquee_enabled', true);\n\t},\n\n\t/**\n\t* @private\n\t*/\n\t_marquee_disable: function () {\n\t\tthis.set('_marquee_enabled', false);\n\t\tthis._marquee_stopAnimation();\n\t},\n\n\t/**\n\t* Stops marquee animation.\n\t*\n\t* @fires module:moonstone/Marquee~MarqueeItem#onMarqueeEnded\n\t* @private\n\t*/\n\t_marquee_stopAnimation: function (sender, ev) {\n\t\tthis.stopJob('stopMarquee');\n\t\tthis._marquee_removeAnimationStyles();\n\t\tthis.doMarqueeEnded();\n\t},\n\n\t/**\n\t* When animation ends, starts `this.stopMarquee` job.\n\t*\n\t* @private\n\t*/\n\t_marquee_animationEnded: function (sender, ev) {\n\t\tif (ev.originator !== this.$.marqueeText) {\n\t\t\treturn;\n\t\t}\n\n\t\tthis.startJob('stopMarquee', '_marquee_stopAnimation', this.marqueePause);\n\t\treturn true;\n\t},\n\n\t/**\n\t* Returns `true` if this control has enough content to animate.\n\t*\n\t* @private\n\t*/\n\t_marquee_shouldAnimate: function (distance) {\n\t\tdistance = (distance && distance >= 0) ? distance : this._marquee_calcDistance();\n\t\treturn (distance > 0);\n\t},\n\n\t/**\n\t* Determines how far the marquee needs to scroll.\n\t*\n\t* @private\n\t*/\n\t_marquee_calcDistance: function () {\n\t\tvar node, rect;\n\n\t\tif (this.$.marqueeText) {\n\t\t\tnode = this.$.marqueeText.hasNode();\n\t\t\tif (node && this._marquee_distance == null && this.getAbsoluteShowing()) {\n\t\t\t\trect = node.getBoundingClientRect();\n\t\t\t\tthis._marquee_distance = Math.floor(Math.abs(node.scrollWidth - rect.width));\n\n\t\t\t\t//if the distance is exactly 0, then the ellipsis\n\t\t\t\t//most likely are hiding the content, and marquee does not\n\t\t\t\t//need to animate\n\t\t\t\tif(this._marquee_distance === 0) {\n\t\t\t\t\tthis.applyStyle('text-overflow', 'clip');\n\t\t\t\t\tthis.$.marqueeText && this.$.marqueeText.applyStyle('text-overflow', 'clip');\n\t\t\t\t} else {\n\t\t\t\t\tthis.applyStyle('text-overflow', 'ellipsis');\n\t\t\t\t\tthis.$.marqueeText && this.$.marqueeText.applyStyle('text-overflow', 'ellipsis');\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\treturn this._marquee_distance;\n\t},\n\n\t/**\n\t* Returns duration based on `distance` and `this.marqueeSpeed`.\n\t*\n\t* @private\n\t*/\n\t_marquee_calcDuration: function (distance) {\n\t\treturn distance / this.marqueeSpeed;\n\t},\n\n\t/**\n\t* Creates a marquee-able `div` inside of `this`.\n\t*\n\t* @private\n\t*/\n\t_marquee_createMarquee: function () {\n\t\t// Do not create marqueeText when there are children\n\t\t// because we don't know what should be the controlParent\n\t\tif (this.children && this.children.length > 0) return;\n\t\tvar marqueeText = {name: 'marqueeText', kind: Control, classes: 'moon-marquee-text', allowHtml: this.allowHtml, content: this.content},\n\t\t\thighlightText = null,\n\t\t\twrapper;\n\n\t\tif (this instanceof HighlightText) {\n\t\t\tdom.setInnerHtml(this.hasNode(), '');\n\t\t\thighlightText = {renderDelegate: this.renderDelegate, highlightClasses: this.highlightClasses, search: this.search};\n\t\t\tmarqueeText = util.mixin(marqueeText, highlightText);\n\t\t}\n\t\twrapper = this.createComponent({name: 'marqueeTextWrapper', kind: Control, classes: 'moon-marquee-text-wrapper', components: [marqueeText]});\n\t\twrapper.renderInto(this.hasNode());\n\t\treturn true;\n\t},\n\n\t/**\n\t* @private\n\t*/\n\t_marquee_addAnimationStyles: function (distance) {\n\t\tif (!this.$.marqueeText) return;\n\t\tvar duration = this._marquee_calcDuration(distance);\n\n\t\tthis.$.marqueeText.addClass('animate-marquee');\n\n\t\tif (options.accelerate) {\n\t\t\tdom.transform(this.$.marqueeText, {translateZ: 0});\n\t\t\tthis.$.marqueeText.applyStyle('transition', 'transform ' + duration + 's linear');\n\t\t\tthis.$.marqueeText.applyStyle('-webkit-transition', '-webkit-transform ' + duration + 's linear');\n\t\t} else {\n\t\t\tthis.$.marqueeText.applyStyle('transition', 'left ' + duration + 's linear');\n\t\t\tthis.$.marqueeText.applyStyle('-webkit-transition', 'left ' + duration + 's linear');\n\t\t}\n\n\t\t// Need this timeout for FF!\n\t\tsetTimeout(this.bindSafely(function () {\n\t\t\tif (options.accelerate) {\n\t\t\t\tdom.transform(this.$.marqueeText, {translateX: this._marquee_adjustDistanceForRTL(distance) + 'px'});\n\t\t\t} else {\n\t\t\t\tthis.$.marqueeText.applyStyle('left', this._marquee_adjustDistanceForRTL(distance) + 'px');\n\t\t\t}\n\t\t}), platform.firefox ? 100 : 16);\n\t},\n\n\t/**\n\t* @private\n\t*/\n\t_marquee_removeAnimationStyles: function () {\n\t\tif (!this.$.marqueeText) {\n\t\t\treturn;\n\t\t}\n\n\t\tthis.$.marqueeText.applyStyle('transition-duration', '0s');\n\t\tthis.$.marqueeText.applyStyle('-webkit-transition-duration', '0s');\n\n\t\t// Need this timeout for FF!\n\t\t/**\n\t\t* @private\n\t\t*/\n\t\tsetTimeout(this.bindSafely(function () {\n\t\t\tthis.$.marqueeText.removeClass('animate-marquee');\n\t\t\tif (options.accelerate) {\n\t\t\t\tdom.transform(this.$.marqueeText, {translateX: null, translateZ: null});\n\t\t\t} else {\n\t\t\t\tthis.$.marqueeText.applyStyle('left', null);\n\t\t\t}\n\t\t}), platform.firefox ? 100 : 0);\n\t},\n\n\t/**\n\t* Flips distance value for RTL support.\n\t*\n\t* @private\n\t*/\n\t_marquee_adjustDistanceForRTL: function (distance) {\n\t\treturn this.rtl ? distance : distance * -1;\n\t},\n\n\t/**\n\t* @private\n\t*/\n\t_marquee_reset: function () {\n\t\tthis._marquee_invalidateMetrics();\n\t\tif (this._marquee_puppetMaster) {\n\t\t\tthis._marquee_puppetMaster.resetMarquee();\n\t\t}\n\t},\n\n\t/**\n\t* @private\n\t*/\n\t_marquee_centeredChanged: function () {\n\t\tthis._marquee_detectAlignment();\n\t},\n\n\t/**\n\t* @private\n\t*/\n\t_marquee_wrapInsteadOfMarqueeChanged: function(old) {\n\t\tif (this.wrapInsteadOfMarquee) {\n\t\t\tthis.addClass('allow-wrap');\n\t\t\tif (this.$.marqueeText) {\n\t\t\t\tthis.$.marqueeTextWrapper.destroy();\n\t\t\t\tthis.render();\n\t\t\t}\n\t\t}\n\t\tif (old && !this.wrapInsteadOfMarquee) {\n\t\t\tthis.removeClass('allow-wrap');\n\t\t\t// FIXME: Performing creation here to workaround potential WebKit measuring issue\n\t\t\t// with scrollWidth (under-measures by 10px when marquee components are destroyed\n\t\t\t// when we switch wrapInsteadofMarquee from `false` to `true`, and back to `false`).\n\t\t\tthis._marquee_createMarquee();\n\t\t}\n\t}\n};\n\nexports.Item = MarqueeItem;\n\n/**\n* {@link module:moonstone/Marquee~MarqueeText} is a basic text control that supports marquee animation.\n* When MarqueeText objects are used inside a\n* [MarqueeDecorator]{@link module:moonstone/Marquee~MarqueeDecorator}, the decorator synchronizes\n* their start times; the user may start a marquee programmatically by calling\n* [startMarquee()]{@link module:moonstone/Marquee~MarqueeSupport#startMarquee}.\n*\n* ```\n* \tvar\n* \t\tkind = require('enyo/kind'),\n* \t\tHeader = require('moonstone/Header'),\n* \t\tMarqueeSupport = require('moonstone/Marquee').Support,\n* \t\tMarqueeText = require('moonstone/Marquee').Text;\n*\n* \tmodule.exports = kind({\n* \t\tname: Header,\n* \t\tmixins: [MarqueeSupport],\n* \t\tmarqueeSpeed: 100,\n* \t\tcomponents: [\n* \t\t\t{kind: MarqueeText, content: 'longText+longText'},\n* \t\t\t{kind: MarqueeText, content: 'longText'}\n* \t\t],\n* \t\trendered: function () {\n* \t\t\tthis.startMarquee();\n* \t\t}\n* \t});\n* ```\n*\n* To add the marquee feature to a kind, simply use the\n* [MarqueeSupport]{@link module:moonstone/Marquee~MarqueeSupport} mixin:\n*\n* ```\n* \tvar\n* \t\tkind = require('enyo/kind'),\n* \t\tButton = require('enyo/Button'),\n* \t\tMarqueeSupport = require('moonstone/Marquee').Support,\n* \t\tMarqueeText = require('moonstone/Marquee').Text;\n*\n* \tmodule.exports = kind({\n* \t\tname: 'MarqueeButton',\n* \t\tkind: Button,\n* \t\tmixins: [MarqueeSupport],\n* \t\tcomponents: [\n* \t\t\t{kind: MarqueeText}\n* \t\t],\n* \t\tcontentChanged: function () {\n* \t\t\tthis.$.marqueeText.setContent(this.content);\n* \t\t}\n* \t});\n* ```\n*\n* @class MarqueeText\n* @extends module:enyo/Control~Control\n* @mixes module:moonstone/Marquee~MarqueeItem\n* @ui\n* @public\n*/\nexports.Text = kind(\n\t/** @lends module:moonstone/Marquee~MarqueeText.prototype */ {\n\n\t/**\n\t* @private\n\t*/\n\tname: 'moon.MarqueeText',\n\n\t/**\n\t* @private\n\t*/\n\tkind: Control,\n\n\t/**\n\t* @private\n\t*/\n\tmixins: [MarqueeItem],\n\n\t/**\n\t* @private\n\t* @lends module:moonstone/Marquee~MarqueeText.prototype\n\t*/\n\tpublished: {\n\n\t\t/**\n\t\t* The speed of the marquee animation, in pixels per second.\n\t\t*\n\t\t* @type {Number}\n\t\t* @default 60\n\t\t* @public\n\t\t*/\n\t\tmarqueeSpeed: 60,\n\n\t\t/**\n\t\t* The duration in milliseconds that the marquee will pause at the end of the\n\t\t* animation, before resetting to the beginning.\n\t\t*\n\t\t* @type {Number}\n\t\t* @default 1000\n\t\t* @public\n\t\t*/\n\t\tmarqueePause: 1000,\n\n\t\t/**\n\t\t* When `true`, marqueeing will not occur.\n\t\t*\n\t\t* @type {Boolean}\n\t\t* @default false\n\t\t* @public\n\t\t*/\n\t\tdisabled: false,\n\n\t\t/**\n\t\t* When `true`, text is centered; otherwise, it is left-aligned.\n\t\t*\n\t\t* @type {Boolean}\n\t\t* @default true\n\t\t* @public\n\t\t*/\n\t\tcentered: false,\n\n\t\t/**\n\t\t* When `true`, element wraps instead of marqueeing.\n\t\t*\n\t\t* @type {Boolean}\n\t\t* @default false\n\t\t* @public\n\t\t*/\n\t\twrapInsteadOfMarquee: false\n\t}\n});\n\n/**\n* {@link module:moonstone/Marquee~MarqueeDecorator} is a wrapper for {@link module:moonstone/Marquee~MarqueeText} objects.\n*\n* @class MarqueeDecorator\n* @extends module:enyo/Control~Control\n* @mixes module:moonstone/Marquee~MarqueeSupport\n* @ui\n* @public\n*/\nvar MarqueeDecorator = kind(\n\t/** @lends module:moonstone/Marquee~MarqueeDecorator.prototype */ {\n\n\t/**\n\t* @private\n\t*/\n\tname: 'moon.MarqueeDecorator',\n\n\t/**\n\t* @private\n\t*/\n\tkind: Control,\n\n\t/**\n\t* @private\n\t*/\n\tmixins: [MarqueeSupport],\n\n\t/**\n\t* @private\n\t*/\n\tstyle: 'overflow: hidden;'\n});\n\n/**\n* The {@link module:moonstone/Marquee~MarqueeDecorator} export\n* @public\n*/\nexports.Decorator = MarqueeDecorator;\n","require('moonstone');\n\n/**\n* Contains the declaration for the {@link module:moonstone/InputDecorator~InputDecorator} kind.\n* @module moonstone/InputDecorator\n*/\n\nvar\n\tkind = require('enyo/kind'),\n\tToolDecorator = require('enyo/ToolDecorator');\n\nvar\n\tSpotlight = require('spotlight');\n\nvar\n\t$L = require('../i18n'),\n\tInput = require('../Input'),\n\tRichText = require('../RichText'),\n\tTextArea = require('../TextArea'),\n\tTooltip = require('../Tooltip');\n\n/**\n* {@link module:moonstone/InputDecorator~InputDecorator} is a control that provides input styling. Any controls\n* in the InputDecorator will appear to be inside an area styled as an input. Usually,\n* an InputDecorator surrounds a {@link module:moonstone/Input~Input}:\n*\n* ```\n* \tvar\n* \t\tkind = require('enyo/kind'),\n* \t\tInput = require('moonstone/Input'),\n* \t\tInputDecorator = require('moonstone/InputDecorator');\n*\n* \t{kind: InputDecorator, components: [\n* \t\t{kind: Input}\n* \t]}\n* ```\n*\n* Other controls, such as buttons, may be placed to the right or left of the\n* input control, e.g.:\n*\n* ```\n* \tvar\n* \t\tIconButton = require('moonstone/IconButton');\n*\n* \t{kind: InputDecorator, components: [\n* \t\t{kind: IconButton, src: 'moonstone/src/assets/search.png'},\n* \t\t{kind: Input},\n* \t\t{kind: IconButton, src: 'moonstone/src/assets/cancel.png'}\n* \t]}\n* ```\n*\n* Note that the InputDecorator fits around the content inside it. If the\n* decorator is sized, then its contents will likely need to be sized as well.\n*\n* ```\n* \t{kind: InputDecorator, style: 'width: 500px;', components: [\n* \t\t{kind: Input, style: 'width: 100%;'}\n* \t]}\n* ```\n*\n* @class InputDecorator\n* @extends module:enyo/ToolDecorator~ToolDecorator\n* @ui\n* @public\n*/\nmodule.exports = kind(\n\t/** @lends module:moonstone/InputDecorator~InputDecorator.prototype */ {\n\n\t/**\n\t* @private\n\t*/\n\tname: 'moon.InputDecorator',\n\n\t/**\n\t* @private\n\t*/\n\tkind: ToolDecorator,\n\n\t/**\n\t* When `true`, the message tooltip is shown if it exists.\n\t*\n\t* @type {Boolean}\n\t* @default false\n\t* @public\n\t*/\n\tinvalid: false,\n\n\t/**\n\t* The tooltip text to be displayed when the contents of the input are invalid. If this value is\n\t* falsy, the tooltip will not be shown.\n\t*\n\t* @type {String}\n\t* @default ''\n\t* @public\n\t*/\n\tinvalidMessage: '',\n\n\t/**\n\t* @private\n\t*/\n\ttag: 'label',\n\n\t/**\n\t* @private\n\t*/\n\tspotlight: true,\n\n\t/**\n\t* @private\n\t*/\n\tspotlightDecorate: false,\n\n\t/**\n\t* @private\n\t*/\n\thandlers: {\n\t\tonDisabledChange    : 'disabledChangeHandler',\n\t\tonfocus             : 'focusHandler',\n\t\tonblur              : 'blurHandler',\n\t\tonSpotlightFocused  : 'spotlightFocusedHandler',\n\t\tonSpotlightSelect   : 'spotlightSelectHandler',\n\t\tonSpotlightBlur     : 'spotlightBlurHandler',\n\t\tonSpotlightLeft     : 'spotlightLeftHandler',\n\t\tonSpotlightRight    : 'spotlightRightHandler',\n\t\tonSpotlightUp       : 'spotlightUpHandler',\n\t\tonSpotlightDown     : 'spotlightDownHandler'\n\t},\n\n\t/**\n\t* @private\n\t*/\n\ttools: [\n\t\t{name: 'tooltip', kind: Tooltip, floating: false, position: 'right top'}\n\t],\n\n\t/**\n\t* @private\n\t*/\n\tobservers: [\n\t\t{path: ['invalid', 'invalidMessage'], method: 'updateValidity'}\n\t],\n\n\t/**\n\t* @private\n\t*/\n\t_oInputControl: null,\n\n\t/**\n\t* Returns boolean indicating whether passed-in control is an input field.\n\t*\n\t* @private\n\t*/\n\t_isInput: function (oControl) {\n\t\treturn (\n\t\t\toControl instanceof Input\t\t||\n\t\t\toControl instanceof RichText\t||\n\t\t\toControl instanceof TextArea\n\t\t);\n\t},\n\n\t/**\n\t* Traverses tree of children to find input control.\n\t*\n\t* @private\n\t*/\n\t_findInputControl: function (oControl) {\n\t\toControl = oControl || this;\n\n\t\tvar oInputControl = null;\n\n\t\tfor (var n=0; n<oControl.children.length; n++) {\n\t\t\tif (this._isInput(oControl.children[n])) {\n\t\t\t\treturn oControl.children[n];\n\t\t\t}\n\t\t\tif ((oInputControl = this._findInputControl(oControl.children[n]))) {\n\t\t\t\treturn oInputControl;\n\t\t\t}\n\t\t}\n\t},\n\n\t/**\n\t* @private\n\t*/\n\tcreate: function () {\n\t\tToolDecorator.prototype.create.apply(this, arguments);\n\t\tthis.updateFocus(false);\n\t\tthis._oInputControl = this._findInputControl();\n\t\tif (this._oInputControl instanceof Input) {\n\t\t\tthis.addClass('moon-divider-text moon-input-decorator');\n\t\t}\n\t\tif (this._oInputControl instanceof TextArea || this._oInputControl instanceof RichText) {\n\t\t\tthis.addClass('moon-divider-text moon-textarea-decorator');\n\t\t}\n\n\t\tthis.updateValidity();\n\t},\n\n\t/**\n\t* @private\n\t*/\n\tcreateComponent: function () {\n\t\tvar ret = ToolDecorator.prototype.createComponent.apply(this, arguments);\n\t\tthis._oInputControl = this._findInputControl();\n\t\treturn ret;\n\t},\n\n\t/**\n\t* @private\n\t*/\n\tcreateComponents: function () {\n\t\tvar ret = ToolDecorator.prototype.createComponents.apply(this, arguments);\n\t\tthis._oInputControl = this._findInputControl();\n\t\treturn ret;\n\t},\n\n\t/**\n\t* Updates styling based on focus state.\n\t*\n\t* @param {Boolean} bFocus - Whether to add/remove `moon-focused` class.\n\t* @public\n\t*/\n\tupdateFocus: function (bFocus) {\n\t\tthis.set('focused', bFocus);\n\t\tthis.addRemoveClass('moon-focused', this.alwaysLooksFocused || this.focused);\n\t},\n\n\t/**\n\t* Retrieves the child input control.\n\t*\n\t* @returns {Object} A reference to the child input control.\n\t* @public\n\t*/\n\tgetInputControl: function () {\n\t\treturn this._oInputControl;\n\t},\n\n\t// Event handlers:\n\t/**************************************************/\n\n\t/**\n\t* @private\n\t*/\n\tfocusHandler: function (oSender, oEvent) {\n\t\tif (Spotlight.getCurrent() != this) {\n\t\t\t// Force a spot here, even when we're in pointer mode,\n\t\t\t// to ensure that clicks inside us (e.g. to position\n\t\t\t// the cursor) don't cause Spotlight to unfreeze\n\t\t\tSpotlight.spot(this, {focusType: 'point'});\n\t\t}\n\t\tSpotlight.freeze();\n\t\tthis.updateFocus(true);\n\t},\n\n\t/**\n\t* @private\n\t*/\n\tblurHandler: function () {\n\t\tSpotlight.unfreeze();\n\t\tthis.updateFocus(false);\n\t},\n\n\t/**\n\t* @private\n\t*/\n\tdisabledChangeHandler: function (oSender, oEvent) {\n\t\tthis.addRemoveClass('moon-disabled', oEvent.originator.disabled);\n\t},\n\n\t// Spotlight Event handlers:\n\t/**************************************************/\n\n\t/**\n\t* @fires module:moonstone/Scroller~Scroller#onRequestScrollIntoView\n\t* @private\n\t*/\n\tspotlightFocusedHandler: function () {\n\t\tthis.set('spotted', true);\n\t\tthis.bubble('onRequestScrollIntoView');\n\t},\n\n\t/**\n\t* @private\n\t*/\n\tspotlightSelectHandler: function (oSender, oEvent) {\n\t\tvar oInput = this.getInputControl();\n\t\tif (oInput) {\n\t\t\tif (oInput.hasFocus() && oEvent) {\n\t\t\t\treturn true;\n\t\t\t} else {\n\t\t\t\toInput.focus();\n\t\t\t}\n\t\t\treturn false;\n\t\t}\n\t},\n\n\t/**\n\t* @private\n\t*/\n\tspotlightBlurHandler: function (oSender, oEvent) {\n\t\tthis.set('spotted', false);\n\t\tthis.blur();\n\t},\n\n\t/**\n\t* @private\n\t*/\n\tspotlightLeftHandler: function (oSender, oEvent) {\n\t\tvar oInput = this.getInputControl();\n\t\tif (oInput && oInput.hasFocus() && oInput.left) {\n\t\t\tif (oInput.left()) {\n\t\t\t\toEvent.allowDomDefault();       // Allow keydown to bubble\n\t\t\t\treturn true;                    // Prevent onSpotlightLeft to bubble\n\t\t\t} else {\n\t\t\t\tthis.blur();\n\t\t\t\toInput.blur();\n\t\t\t}\n\t\t}\n\t},\n\n\t/**\n\t* @private\n\t*/\n\tspotlightRightHandler: function (oSender, oEvent) {\n\t\tvar oInput = this.getInputControl();\n\t\tif (oInput && oInput.hasFocus() && oInput.right) {\n\t\t\tif (oInput.right()) {\n\t\t\t\toEvent.allowDomDefault();       // Allow keydown to bubble\n\t\t\t\treturn true;                    // Prevent onSpotlightRight to bubble\n\t\t\t} else {\n\t\t\t\tthis.blur();\n\t\t\t\toInput.blur();\n\t\t\t}\n\t\t}\n\t},\n\n\t/**\n\t* @private\n\t*/\n\tspotlightUpHandler: function (oSender, oEvent) {\n\t\tvar oInput = this.getInputControl();\n\t\tif (oInput && oInput.hasFocus() && oInput.up) {\n\t\t\tif (oInput.up()) {\n\t\t\t\toEvent.allowDomDefault();       // Allow keydown to bubble\n\t\t\t\treturn true;                    // Prevent onSpotlightUp to bubble\n\t\t\t} else {\n\t\t\t\tthis.blur();\n\t\t\t\toInput.blur();\n\t\t\t}\n\t\t}\n\t},\n\n\t/**\n\t* @private\n\t*/\n\tspotlightDownHandler: function (oSender, oEvent) {\n\t\tvar oInput = this.getInputControl();\n\t\tif (oInput && oInput.hasFocus() && oInput.down) {\n\t\t\tif (oInput.down()) {\n\t\t\t\toEvent.allowDomDefault();       // Allow keydown to bubble\n\t\t\t\treturn true;                    // Prevent onSpotlightLeft to bubble\n\t\t\t} else {\n\t\t\t\tthis.blur();\n\t\t\t\toInput.blur();\n\t\t\t}\n\t\t}\n\t},\n\n\t// Change handlers\n\n\t/**\n\t* @private\n\t*/\n\tupdateValidity: function () {\n\t\tvar comps, length, i;\n\t\t// we want the ability to add the 'moon-invalid' class even if there is no invalid message\n\t\tthis.addRemoveClass('moon-invalid', this.invalid);\n\t\tif (this.invalid && this.invalidMessage) {\n\t\t\tif (!this.$.tooltip) { // lazy creation of tooltip\n\t\t\t\tcomps = this.createComponents(this.tools);\n\t\t\t\tif (this.hasNode()) {\n\t\t\t\t\t// rendering only the created tools, to prevent loss of focus on the input\n\t\t\t\t\tfor (i = 0, length = comps.length; i < length; i++) {\n\t\t\t\t\t\tcomps[i].render();\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tthis.$.tooltip.activator = this;\n\t\t\t}\n\t\t\tthis.$.tooltip.set('content', this.invalidMessage);\n\t\t\tthis.$.tooltip.set('showing', true);\n\t\t} else if (this.$.tooltip) {\n\t\t\tthis.$.tooltip.set('showing', false);\n\t\t}\n\t},\n\n\t// Accessibility\n\n\t/**\n\t* spotted and focused can change in sequence but within the same cycle causing the TV to read\n\t* changes when spotting a different control. Enabling this will batch up those changes into\n\t* one DOM update thereby avoiding this behavior.\n\t*\n\t* @type {Boolean}\n\t* @default true\n\t* @private\n\t*/\n\taccessibilityDefer: true,\n\n\t/**\n\t* @private\n\t*/\n\tariaObservers: [\n\t\t{path: ['spotted', 'focused'], method: function () {\n\t\t\tvar text = '',\n\t\t\t\toInput = this.getInputControl();\n\n\t\t\tthis.set('accessibilityLive', this.focused || !this.spotted ? null : 'polite');\n\t\t\tif (oInput) {\n\t\t\t\tif (oInput instanceof RichText && oInput.hasNode()) {\n\t\t\t\t\ttext = (oInput.hasNode().innerText || oInput.getPlaceholder()) + ' ' + $L('edit box');\n\t\t\t\t} else if (oInput.type == 'password' && oInput.getValue()) {\n\t\t\t\t\tvar character = (oInput.getValue().length > 1) ? $L('characters') : $L('character');\n\t\t\t\t\ttext = oInput.getValue().length + ' ' + character + ' ' + $L('edit box');\n\t\t\t\t} else {\n\t\t\t\t\ttext = (oInput.getValue() || oInput.getPlaceholder()) + ' ' + $L('edit box');\n\t\t\t\t}\n\t\t\t}\n\t\t\tthis.set('accessibilityLabel', this.spotted && !this.focused ? text : null);\n\t\t}}\n\t]\n});\n","require('moonstone');\n\n/**\n* Contains the declaration for the {@link module:moonstone/ContextualPopup~ContextualPopup} kind.\n* @module moonstone/ContextualPopup\n*/\n\nvar\n\tkind = require('enyo/kind'),\n\tdom = require('enyo/dom'),\n\tri = require('enyo/resolution'),\n\tutil = require('enyo/utils'),\n\tControl = require('enyo/Control'),\n\tEnyoHistory = require('enyo/History'),\n\tPopup = require('enyo/Popup');\n\nvar\n\tContextualLayout = require('layout/ContextualLayout');\n\nvar\n\tSpotlight = require('spotlight');\n\nvar\n\t$L = require('../i18n'),\n\tIconButton = require('../IconButton'),\n\tScrim = require('moonstone/Scrim'),\n\tHistorySupport = require('../HistorySupport');\n\n/**\n* Fires when the contextual popup is to be shown.\n*\n* @event module:moonstone/ContextualPopup~ContextualPopup#onRequestShowPopup\n* @type {Object}\n* @property {Object} activator - A reference to the activating object.\n* @public\n*/\n\n/**\n* Fires when the contextual popup is to be hidden. No additional data is included\n* with this event.\n*\n* @event module:moonstone/ContextualPopup~ContextualPopup#onRequestHidePopup\n* @type {Object}\n* @public\n*/\n\n/**\n* Fires when the contextual popup is activated. Extends {@link module:enyo/Popup~Popup#onActivate}.\n*\n* @event module:moonstone/ContextualPopup~ContextualPopup#onActivate\n* @type {Object}\n* @property {Object} sentFromPopup - A reference to the popup.\n* @public\n*/\n\n/**\n* {@link module:moonstone/ContextualPopup~ContextualPopup} is a popup window control with Moonstone visual\n* styling applied. It extends {@link module:enyo/Popup~Popup} and is designed to be used with\n* {@link module:moonstone/ContextualPopupDecorator~ContextualPopupDecorator}.\n*\n* @class ContextualPopup\n* @extends module:enyo/Popup~Popup\n* @ui\n* @public\n*/\nmodule.exports = kind(\n\t/** @lends module:moonstone/ContextualPopup~ContextualPopup.prototype */ {\n\n\t/**\n\t* @private\n\t*/\n\tname: 'moon.ContextualPopup',\n\n\t/**\n\t* @private\n\t*/\n\tkind: Popup,\n\n\t/**\n\t* @private\n\t*/\n\tmixins: [HistorySupport],\n\n\t/**\n\t* @private\n\t*/\n\tlayoutKind: ContextualLayout,\n\n\t/**\n\t* @private\n\t*/\n\tclasses: 'moon-body-text moon-contextual-popup moon-neutral',\n\n\t/**\n\t* @private\n\t*/\n\tevents: {\n\t\tonRequestSpot: ''\n\t},\n\n\t/**\n\t* @private\n\t*/\n\thandlers: {\n\t\tonRequestShowPopup: 'requestShow',\n\t\tonRequestHidePopup: 'requestHide',\n\t\tonActivate: 'decorateActivateEvent',\n\t\tonRequestScrollIntoView: '_preventEventBubble',\n\t\tonSpotlightContainerLeave: 'onLeave'\n\t},\n\n\t/**\n\t* @private\n\t*/\n\teventsToCapture: {\n\t\tonSpotlightKeyDown: 'capturedKeyDown',\n\t\tonSpotlightFocus: 'capturedFocus'\n\t},\n\n\t/**\n\t* @private\n\t*/\n\tmodal: true,\n\n\t/**\n\t* @private\n\t* @lends module:moonstone/ContextualPopup~ContextualPopup.prototype\n\t*/\n\tpublished: {\n\n\t\t/**\n\t\t* If `true`, focus cannot leave the constraints of the popup unless the\n\t\t* popup is explicitly closed. This property's value is copied to\n\t\t* [modal]{@link module:enyo/Popup~Popup#modal} at initialization time.\n\t\t* Additionally, these two properties are synced whenever one of the following properties changes:\n\t\t* [spotlightModal]{@link module:moonstone/ContextualPopup~ContextualPopup#spotlightModal},\n\t\t* [modal]{@link module:enyo/Popup~Popup#modal},\n\t\t* [modal]{@link module:enyo/Popup~Popup#scrim},\n\t\t* [modal]{@link module:enyo/Popup~Popup#scrimWhenModal},\n\t\t* [modal]{@link module:enyo/Popup~Popup#floating}.\n\t\t*\n\t\t* @type {Boolean}\n\t\t* @default false\n\t\t* @public\n\t\t*/\n\t\tspotlightModal: false,\n\n\t\t/**\n\t\t* When `true`, the close button is shown; when `false`, it is hidden.\n\t\t*\n\t\t* @type {Boolean}\n\t\t* @default false\n\t\t* @public\n\t\t*/\n\t\tshowCloseButton: false\n\t},\n\n\t/**\n\t* @private\n\t*/\n\tspotlight: 'container',\n\n\t/**\n\t* @private\n\t*/\n\tfloating: true,\n\n\t/**\n\t* Determines whether a scrim will appear when the popup is modal.\n\t* Note that modal scrims are transparent, so you won't see them.\n\t*\n\t* @private\n\t*/\n\tscrimWhenModal: true,\n\n\t// Layout parameters\n\n\t/**\n\t* Vertical flush layout margin.\n\t*\n\t* @private\n\t*/\n\tvertFlushMargin:0,\n\n\t/**\n\t* Horizontal flush layout margin.\n\t*\n\t* @private\n\t*/\n\thorizFlushMargin:0,\n\n\t/**\n\t* Popups wider than this value are considered wide (for layout purposes).\n\t*\n\t* @private\n\t*/\n\twidePopup: ri.scale(210),\n\n\t/**\n\t* Popups longer than this value are considered long (for layout purposes).\n\t*\n\t* @private\n\t*/\n\tlongPopup: ri.scale(210),\n\n\t/**\n\t* Do not allow horizontal flush popups past spec'd amount of buffer space on left/right\n\t* screen edge.\n\t*\n\t* @private\n\t*/\n\thorizBuffer: ri.scale(15),\n\n\t/**\n\t* @private\n\t*/\n\tactivator: null,\n\n\t/**\n\t* @private\n\t*/\n\tobservers: [\n\t\t{method: 'updateScrim', path: [ 'modal', 'spotlightModal', 'floating', 'scrim', 'scrimWhenModal' ]}\n\t],\n\n\t/**\n\t* @private\n\t*/\n\ttools: [\n\t\t{name: 'client', kind: Control, classes: 'moon-contextual-popup-client'},\n\t\t{name: 'closeButton', kind: IconButton, icon: 'closex', classes: 'moon-popup-close', ontap: 'closePopup', backgroundOpacity: 'transparent', accessibilityLabel: $L('Close'), tabIndex: -1, spotlight: false}\n\t],\n\n\t/**\n\t* Creates chrome components.\n\t*\n\t* @private\n\t*/\n\tinitComponents: function () {\n\t\tthis.createChrome(this.tools);\n\t\tPopup.prototype.initComponents.apply(this, arguments);\n\t\tthis.modal = this.spotlightModal;\n\t},\n\n\t/**\n\t* @private\n\t*/\n\tcreate: function () {\n\t\tPopup.prototype.create.apply(this, arguments);\n\t\tthis.showCloseButtonChanged();\n\t},\n\n\t/**\n\t* Renders the contextual popup.\n\t*\n\t* @private\n\t*/\n\trender: function () {\n\t\tthis.allowHtmlChanged();\n\t\tthis.contentChanged();\n\t\tPopup.prototype.render.apply(this, arguments);\n\t},\n\n\t/**\n\tFixMe: overriding the control's default hide method to support the existing sequential tapping\n\tand the dependent decorator code inorder to handle some special cases.\n\t*/\n\thide: function(inSender, e) {\n\n\t\tif (this.tapCaptured) {\n\t\t\tthis.tapCaptured = false;\n\t\t\tthis.popupActivated = true;\n\t\t} else {\n\t\t\tthis.popupActivated = false;\n\t\t}\n\t\tPopup.prototype.hide.apply(this, arguments);\n\n\t},\n\n\t/**\n\t* Performs control-specific tasks before/after showing {@link module:moonstone/ContextualPopup~ContextualPopup}.\n\t*\n\t* @private\n\t*/\n\trequestShow: function (inSender, inEvent) {\n\t\tvar n = inEvent.activator.hasNode();\n\t\tthis.activator = inEvent.activator;\n\t\tif (n) {\n\t\t\tthis.activatorOffset = this.getPageOffset(n);\n\t\t}\n\t\tthis.show();\n\t\tif (Spotlight.isSpottable(this)) {\n\t\t\tSpotlight.spot(this);\n\t\t}\n\t\treturn true;\n\t},\n\n\t/**\n\t* @fires module:enyo/Popup~Popup#onActivate\n\t* @private\n\t*/\n\tdecorateActivateEvent: function (inSender, inEvent) {\n\t\tinEvent.sentFromPopup = this;\n\t},\n\n\t/**\n\t* @private\n\t*/\n\tgetPageOffset: function (inNode) {\n\t\t// getBoundingClientRect returns top/left values which are relative to the viewport and\n\t\t// not absolute\n\t\tvar r = inNode.getBoundingClientRect(),\n\t\t\tpageYOffset = window.pageYOffset,\n\t\t\tpageXOffset = window.pageXOffset,\n\t\t\trHeight = r.height,\n\t\t\trWidth = r.width;\n\n\t\treturn {top: r.top + pageYOffset, left: r.left + pageXOffset, height: rHeight, width: rWidth, bottom: r.top + pageYOffset + rHeight, right: r.left + pageXOffset + rWidth};\n\t},\n\n\t/**\n\t* @private\n\t*/\n\tresetDirection: function () {\n\t\tthis.removeClass('right');\n\t\tthis.removeClass('left');\n\t\tthis.removeClass('high');\n\t\tthis.removeClass('low');\n\t\tthis.removeClass('below');\n\t\tthis.removeClass('above');\n\t},\n\n\t/**\n\t* Alters the direction of the popup.\n\t*\n\t* @private\n\t*/\n\talterDirection: function () {\n\t\tif (this.showing) {\n\t\t\tvar clientRect = this.getBoundingRect(this.node);\n\t\t\tvar viewPortHeight = dom.getWindowHeight();\n\t\t\tvar viewPortWidth = dom.getWindowWidth();\n\t\t\tvar offsetHeight = (clientRect.height - this.activatorOffset.height) / 2;\n\t\t\tvar offsetWidth = (clientRect.width - this.activatorOffset.width) / 2;\n\t\t\tvar popupMargin = 20;\n\n\t\t\tvar bounds = {top: null, left: null};\n\n\t\t\tif(this.direction === 'left') {\n\t\t\t\tif(clientRect.width + popupMargin < this.activatorOffset.left) {\n\t\t\t\t\tthis.resetDirection();\n\t\t\t\t\tthis.addClass('right');\n\n\t\t\t\t\tif(this.activatorOffset.top < offsetHeight) {\n\t\t\t\t\t\tthis.addClass('high');\n\t\t\t\t\t\tbounds.top = this.activatorOffset.top;\n\t\t\t\t\t} else if(viewPortHeight - this.activatorOffset.bottom < offsetHeight) {\n\t\t\t\t\t\tthis.addClass('low');\n\t\t\t\t\t\tbounds.top = this.activatorOffset.bottom - clientRect.height;\n\t\t\t\t\t} else {\n\t\t\t\t\t\tbounds.top = this.activatorOffset.top - offsetHeight;\n\t\t\t\t\t}\n\n\t\t\t\t\tbounds.left = this.activatorOffset.left - clientRect.width;\n\t\t\t\t}\n\t\t\t} else if(this.direction === 'right') {\n\t\t\t\tif(viewPortWidth > this.activatorOffset.right + clientRect.width + popupMargin) {\n\t\t\t\t\tthis.resetDirection();\n\t\t\t\t\tthis.addClass('left');\n\n\t\t\t\t\tif(this.activatorOffset.top < offsetHeight) {\n\t\t\t\t\t\tthis.addClass('high');\n\t\t\t\t\t\tbounds.top = this.activatorOffset.top;\n\t\t\t\t\t} else if(viewPortHeight - this.activatorOffset.bottom < offsetHeight) {\n\t\t\t\t\t\tthis.addClass('low');\n\t\t\t\t\t\tbounds.top = this.activatorOffset.bottom - clientRect.height;\n\t\t\t\t\t} else {\n\t\t\t\t\t\tbounds.top = this.activatorOffset.top - offsetHeight;\n\t\t\t\t\t}\n\n\t\t\t\t\tbounds.left = this.activatorOffset.right;\n\t\t\t\t}\n\t\t\t} else if(this.direction === 'top') {\n\t\t\t\tif(clientRect.height + popupMargin < this.activatorOffset.top) {\n\t\t\t\t\tthis.resetDirection();\n\t\t\t\t\tthis.addClass('above');\n\n\t\t\t\t\tif(this.activatorOffset.left < offsetWidth) {\n\t\t\t\t\t\tthis.addClass('right');\n\t\t\t\t\t\tbounds.left = this.activatorOffset.left;\n\t\t\t\t\t} else if(viewPortWidth - this.activatorOffset.right < offsetWidth) {\n\t\t\t\t\t\tthis.addClass('left');\n\t\t\t\t\t\tbounds.left = this.activatorOffset.right - clientRect.width;\n\t\t\t\t\t} else {\n\t\t\t\t\t\tbounds.left = this.activatorOffset.left - offsetWidth;\n\t\t\t\t\t}\n\n\t\t\t\t\tbounds.top = this.activatorOffset.top - clientRect.height;\n\t\t\t\t}\n\t\t\t} else if(this.direction === 'bottom') {\n\t\t\t\tif(viewPortHeight > this.activatorOffset.bottom + clientRect.height + popupMargin) {\n\t\t\t\t\tthis.resetDirection();\n\t\t\t\t\tthis.addClass('below');\n\n\t\t\t\t\tif(this.activatorOffset.left < offsetWidth) {\n\t\t\t\t\t\tthis.addClass('right');\n\t\t\t\t\t\tbounds.left = this.activatorOffset.left;\n\t\t\t\t\t} else if(viewPortWidth - this.activatorOffset.right < offsetWidth) {\n\t\t\t\t\t\tthis.addClass('left');\n\t\t\t\t\t\tbounds.left = this.activatorOffset.right - clientRect.width;\n\t\t\t\t\t} else {\n\t\t\t\t\t\tbounds.left = this.activatorOffset.left - offsetWidth;\n\t\t\t\t\t}\n\n\t\t\t\t\tbounds.top = this.activatorOffset.bottom;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tthis.setBounds(bounds);\n\t\t}\n\t},\n\n\t/**\n\t* @private\n\t*/\n\tgetBoundingRect: function (node) {\n\t\t// getBoundingClientRect returns top/left values which are relative to the viewport and not absolute\n\t\tvar o = node.getBoundingClientRect();\n\t\tif (!o.width || !o.height) {\n\t\t\treturn {\n\t\t\t\tleft: o.left,\n\t\t\t\tright: o.right,\n\t\t\t\ttop: o.top,\n\t\t\t\tbottom: o.bottom,\n\t\t\t\twidth: o.right - o.left,\n\t\t\t\theight: o.bottom - o.top\n\t\t\t};\n\t\t}\n\t\treturn o;\n\t},\n\n\t/**\n\t* Dismisses popup if Escape keypress is detected.\n\t*\n\t* @private\n\t*/\n\tkeydown: function (inSender, inEvent) {\n\t\tif (this.showing && this.autoDismiss && inEvent.keyCode == 27 /* escape */) {\n\t\t\tthis.hide();\n\t\t\tSpotlight.spot(this.activator);\n\t\t}\n\t},\n\n\t/**\n\t* @private\n\t*/\n\tclosePopup: function (inSender, inEvent) {\n\t\tthis.$.closeButton.removeClass('pressed');\n\t\tthis.hide();\n\t\tSpotlight.spot(this.activator);\n\t\treturn true;\n\t},\n\n\t/**\n\t* @private\n\t*/\n\tcontentChanged: function () {\n\t\tthis.$.client.set('content', this.content);\n\t},\n\n\t/**\n\t* @private\n\t*/\n\tallowHtmlChanged: function () {\n\t\tthis.$.client.set('allowHtml', this.allowHtml);\n\t},\n\n\t/**\n\t* Called when [showCloseButton]{@link module:moonstone/ContextualPopup~ContextualPopup#showCloseButton} changes.\n\t*\n\t* @private\n\t*/\n\tshowCloseButtonChanged: function () {\n\t\tthis.$.closeButton.set('showing', this.showCloseButton);\n\t\tthis.$.closeButton.spotlight = this.showCloseButton;\n\t\tthis.addRemoveClass('reserve-close', this.showCloseButton);\n\t},\n\n\t/**\n\t* @private\n\t*/\n\tcapturedKeyDown: function (inSender, inEvent) {\n\t\tif (inEvent.keyCode == 13) {\n\t\t\tthis.downEvent = inEvent;\n\t\t}\n\t\treturn this.modal && this.spotlightModal;\n\t},\n\n\t/**\n\t* @private\n\t*/\n\tcapturedFocus: function(inSender, inEvent) {\n\t\tif(this.modal && this.spotlightModal) {\n\t\t\tSpotlight.spot(this);\n\t\t\treturn true;\n\t\t}\n\t},\n\n\t/**\n\t* @private\n\t*/\n\tcapturedTap: function (inSender, inEvent) {\n\t\t// If same activator tapped sequentially, the state of the popup is remembered.\n\t\tif (this.downEvent && this.downEvent.dispatchTarget.isDescendantOf(this.activator)) {\n\t\t\tthis.popupActivated = true;\n\t\t\tthis.tapCaptured = true;\n\t\t}\n\t\tPopup.prototype.capturedTap.apply(this, arguments);\n\t},\n\n\t/**\n\t* @private\n\t*/\n\tonLeave: function (oSender, oEvent) {\n\t\tif (oEvent.originator == this && !Spotlight.getPointerMode()) {\n\t\t\tthis.popupActivated = false;\n\t\t\tthis.hide();\n\t\t\tSpotlight.spot(this.activator);\n\t\t}\n\t},\n\n\t/**\n\t* @private\n\t*/\n\t_preventEventBubble: function (inSender, inEvent) {\n\t\treturn true;\n\t},\n\n\t/**\n\t* @private\n\t*/\n\tupdateScrim: function (old, value, source) {\n\t\tif (this._updateScrimMutex) return;\n\t\tthis._updateScrimMutex = true;\n\n\t\t// We sync modal and spotlightModal here because binding doesn't\n\t\t// guarantee sequence when it is used with observers.\n\t\tif (source == 'modal') this.set('spotlightModal', this.modal);\n\t\tif (source == 'spotlightModal') this.set('modal', this.spotlightModal);\n\t\tthis.showHideScrim(this.showing);\n\n\t\tthis._updateScrimMutex = false;\n\t},\n\n\t/**\n\t* @private\n\t*/\n\tshowHideScrim: function (show) {\n\t\tvar scrim = this.getScrim();\n\n\t\tif (this._scrim && scrim != this._scrim) {\n\t\t\t// hide if there was different kind of scrim\n\t\t\tthis._scrim.hideAtZIndex(this._scrimZ);\n\t\t\tif (this.scrimClassName) this._scrim.removeClass(this.scrimClassName);\n\t\t}\n\n\t\tif (show && this.floating && (this.scrim || (this.modal && this.scrimWhenModal))) {\n\t\t\t// move scrim to just under the popup to obscure rest of screen\n\t\t\tvar i = this.getScrimZIndex();\n\t\t\tthis._scrimZ = i;\n\t\t\tscrim.showAtZIndex(i);\n\t\t} else {\n\t\t\tscrim.hideAtZIndex(this._scrimZ);\n\t\t}\n\t\tutil.call(scrim, 'addRemoveClass', [this.scrimClassName, scrim.showing]);\n\t\tthis._scrim = scrim;\n\t},\n\n\t/**\n\t* @private\n\t*/\n\tgetScrimZIndex: function () {\n\t\t// Position scrim directly below popup\n\t\treturn this.findZIndex()-1;\n\t},\n\n\t/**\n\t* @private\n\t*/\n\tgetScrim: function () {\n\t\t// show a transparent scrim for modal popups if\n\t\t// {@link module:moonstone/ContextualPopup~ContextualPopup#scrimWhenModal} is `true`, else show a\n\t\t// regular scrim.\n\t\tif (this.modal && this.scrimWhenModal && !this.scrim) {\n\t\t\treturn Scrim.scrimTransparent.make();\n\t\t}\n\t\treturn Scrim.scrim.make();\n\t},\n\n\t/**\n\t* @private\n\t*/\n\tshowingChanged: function () {\n\t\tPopup.prototype.showingChanged.apply(this, arguments);\n\t\tthis.alterDirection();\n\n\t\tif (this.allowBackKey) {\n\t\t\tif (this.showing) {\n\t\t\t\tthis.pushBackHistory();\n\t\t\t} else if(!this.showing && !EnyoHistory.isProcessing()) {\n\t\t\t\tEnyoHistory.drop();\n\t\t\t}\n\t\t}\n\t},\n\n\t/**\n\t* @private\n\t*/\n\tbackKeyHandler: function() {\n\t\tif (this.showing) {\n\t\t\tthis.hide();\n\t\t}\n\n\t\tif (this.spotlight && !this.spotlightDisabled) {\n\t\t\tthis.doRequestSpot();\n\t\t}\n\t\treturn true;\n\t},\n\n\t/**\n\t* @private\n\t*/\n\tdirectionChanged: function () {\n\t\tthis.alterDirection();\n\t},\n\n\t// Accessibility\n\n\t/**\n\t* When `true`, the contents of the popup will be read when shown.\n\t*\n\t* @default true\n\t* @type {Boolean}\n\t* @public\n\t*/\n\taccessibilityReadAll: true,\n\n\t/**\n\t* @private\n\t*/\n\taccessibilityLive: 'off',\n\n\t/**\n\t* @private\n\t*/\n\tariaObservers: [\n\t\t{path: ['accessibilityReadAll', 'accessibilityRole', 'showing'], method: function () {\n\t\t\tthis.startJob('alert', function () {\n\t\t\t\tthis.setAriaAttribute('role', this.accessibilityReadAll && this.showing ? 'alert' : this.accessibilityRole);\n\t\t\t}, 100);\n\t\t}}\n\t]\n});\n","/**\n* Contains the declaration for the {@link module:moonstone/VideoFullscreenToggleButton~VideoFullscreenToggleButton} kind.\n* @module moonstone/VideoFullscreenToggleButton\n*/\n\nrequire('moonstone');\n\nvar\n\tkind = require('enyo/kind');\n\nvar\n\t$L = require('../i18n'),\n\tIconButton = require('moonstone/IconButton');\n\n/**\n* {@link module:moonstone/VideoFullscreenToggleButton~VideoFullscreenToggleButton} is a specialized {@link module:moonstone/IconButton~IconButton};\n* when placed inside a {@link module:moonstone/VideoPlayer~VideoPlayer}, the button may be tapped to toggle\n* the video player's fullscreen state.\n*\n* @class VideoFullscreenToggleButton\n* @extends module:moonstone/IconButton~IconButton\n* @ui\n* @public\n*/\nmodule.exports = kind(\n\t/** @lends module:moonstone/VideoFullscreenToggleButton~VideoFullscreenToggleButton */ {\n\n\t/**\n\t* @private\n\t*/\n\tname: 'moon.VideoFullscreenToggleButton',\n\n\t/**\n\t* @private\n\t*/\n\tkind: IconButton,\n\n\t/**\n\t* @private\n\t*/\n\ticon : 'exitfullscreen',\n\n\t/**\n\t* @private\n\t*/\n\tsmall: false,\n\n\t/**\n\t* @private\n\t*/\n\tclasses : 'moon-icon-exitfullscreen-font-style',\n\n\t/**\n\t* @private\n\t*/\n\tevents: {\n\t\t/**\n\t\t* {@link module:moonstone/VideoPlayer~VideoPlayer#onRequestToggleFullscreen}\n\t\t*/\n\t\tonRequestToggleFullscreen:''\n\t},\n\n\t/**\n\t* @private\n\t*/\n\thandlers: {\n\t\t/**\n\t\t* @fires module:moonstone/VideoPlayer~VideoPlayer#onRequestToggleFullscreen\n\t\t*/\n\t\tontap: 'doRequestToggleFullscreen'\n\t},\n\n\t// Accessibility\n\n\t/**\n\t* @private\n\t*/\n\tariaObservers: [\n\t\t{path: 'icon', method: function () {\n\t\t\tif (this.icon === 'exitfullscreen') {\n\t\t\t\tthis.set('accessibilityLabel', $L('original screen'));\n\t\t\t} else {\n\t\t\t\tthis.set('accessibilityLabel', $L('full screen'));\n\t\t\t}\n\t\t}}\n\t]\n});\n","/**\n* Contains the declaration for the {@link module:moonstone/NewPagingControl~PagingControl} kind.\n* @wip\n* @module moonstone/NewPagingControl\n*/\n\nvar\n\tanimation = require('enyo/animation'),\n\tkind = require('enyo/kind'),\n\tutils = require('enyo/utils');\n\nvar\n\tSpotlight = require('spotlight'),\n\t$L = require('../i18n');\n\nvar\n\tIconButton = require('../IconButton');\n\n// TODO: Document the fact that this sends simulated mousewheel events\n\n/**\n* {@link module:moonstone/NewPagingControl~PagingControl} is a paging control button derived from\n* {@link module:moonstone/IconButton~IconButton}. This control is not intended for use outside of\n* {@link module:moonstone/Scroller~Scroller}.\n*\n* @class PagingControl\n* @extends module:moonstone/IconButton~IconButton\n* @wip\n* @ui\n* @public\n*/\nmodule.exports = kind(\n\t/** @lends module:moonstone/NewPagingControl~PagingControl.prototype */ {\n\n\t/**\n\t* @private\n\t*/\n\tname: 'moon.NewPagingControl',\n\n\t/**\n\t* @private\n\t*/\n\tkind: IconButton,\n\n\t/**\n\t* @private\n\t*/\n\tclasses: 'moon-paging-button no-background',\n\n\t/**\n\t* @private\n\t*/\n\tspotlight: true,\n\n\t/**\n\t* @private\n\t* @lends module:moonstone/NewPagingControl~PagingControl.prototype\n\t*/\n\tpublished: {\n\t\t/**\n\t\t* The side of the control where the button will be.\n\t\t*\n\t\t* Supported values are `'top'`, `'right'`, `'bottom'`, and `'left'`.\n\t\t*\n\t\t* @type {String}\n\t\t* @default null\n\t\t* @public\n\t\t*/\n\t\tside: null\n\t},\n\n\t/**\n\t* @private\n\t*/\n\tbackgroundOpacity: 'transparent',\n\n\t/**\n\t* @private\n\t*/\n\thandlers: {\n\t\tonSpotlightKeyDown: 'down',\n\t\tonSpotlightKeyUp: 'release',\n\t\tondown: 'down',\n\t\tonhold: 'hold',\n\t\tonrelease: 'release',\n\t\tonActivate: 'noop'\n\t},\n\n\t/**\n\t* @private\n\t*/\n\tinitialDelta: 2.5,\n\n\t/**\n\t* @private\n\t*/\n\tdelta: 0,\n\n\t/**\n\t* @private\n\t*/\n\tmaxDelta: 45,\n\n\t/**\n\t* @private\n\t*/\n\tcreate: function() {\n\t\tIconButton.prototype.create.apply(this, arguments);\n\t\tthis.sideChanged();\n\t},\n\n\t/**\n\t* @private\n\t*/\n\tdisabledChanged: function () {\n\t\tif (this.disabled && Spotlight.Accelerator.isAccelerating()) {\n\t\t\tthis.stopHoldJob();\n\t\t\tSpotlight.Accelerator.cancel();\n\t\t}\n\t\tIconButton.prototype.disabledChanged.apply(this, arguments);\n\t},\n\n\t/**\n\t* @private\n\t*/\n\t_iconMappings: {\n\t\t'top': 'arrowlargeup',\n\t\t'bottom': 'arrowlargedown',\n\t\t'left': 'arrowlargeleft',\n\t\t'right': 'arrowlargeright'\n\t},\n\n\t/**\n\t* Set this control's CSS class based on its [side]{@link module:moonstone/NewPagingControl~PagingControl#side}\n\t* value.\n\t*\n\t* @private\n\t*/\n\tsideChanged: function (old) {\n\t\tvar s = this.side;\n\t\tif(old) {\n\t\t\tthis.removeClass(old);\n\t\t}\n\t\tthis.addClass(s);\n\t\tthis.setIcon(this._iconMappings[s]);\n\t\tthis.deltaProp = (s === 'top' || s === 'bottom') ? 'wheelDeltaY' : 'wheelDeltaX';\n\t},\n\n\t/**\n\t* @private\n\t*/\n\tdown: function (sender, event) {\n\t\tif (this.disabled) {\n\t\t\treturn;\n\t\t}\n\n\t\tif (event.keyCode === undefined || event.keyCode === 13) {\n\t\t\tthis.set('pressed', true);\n\t\t\tevent.configureHoldPulse({\n\t\t\t\tendHold: 'onLeave',\n\t\t\t\tpreventTap: true\n\t\t\t});\n\t\t}\n\t},\n\n\t/**\n\t* @private\n\t*/\n\thold: function (sender, event) {\n\t\tif (this.disabled) {\n\t\t\treturn;\n\t\t}\n\t\tthis.delta = this.initialDelta;\n\t\tthis.startHoldJob();\n\t},\n\n\t/**\n\t* @private\n\t*/\n\trelease: function (sender, event) {\n\t\tthis.set('pressed', false);\n\t\tthis.endHold(sender, event);\n\t},\n\n\t/**\n\t* @private\n\t*/\n\tendHold: function (sender, event) {\n\t\tthis.stopHoldJob();\n\t\t// Restore the scroller's previous setting `suppressMouseEvents`\n\t\t// setting -- see startHoldJob() for an explanation.\n\t\tthis.scroller.suppressMouseEvents = this._suppressMouseEvents;\n\t},\n\n\t/**\n\t* @private\n\t*/\n\tstartHoldJob: function () {\n\t\t// Scroller may be set up to suppress mouse events during\n\t\t// scrolling, but we don't want that when scrolling is driven\n\t\t// by holding a paging control, since we rely on mouse\n\t\t// movements to detect whether the hold is still in progress.\n\t\t//\n\t\t// We therefore use the scroller's `suppressMouseEvents` API\n\t\t// to disable event suppression for the duration of the hold.\n\t\t// We store the previous value of `suppressMouseEvents` so that\n\t\t// we can restore it when the hold is done.\n\t\tthis._suppressMouseEvents = this.scroller.suppressMouseEvents;\n\t\tthis.scroller.suppressMouseEvents = false;\n\n\t\tthis.stopHoldJob();\n\n\t\tvar t0 = utils.perfNow(),\n\t\t\tt = 0\n\t\t;\n\n\t\tvar fn = this.bindSafely(function () {\n\t\t\tvar evt = {\n\t\t\t\t\tsimulated: true,\n\t\t\t\t\tpreventDefault: this.noop\n\t\t\t\t},\n\t\t\t\tside = this.side,\n\t\t\t\tdir = (side === 'top' || side === 'left') ? 1 : -1;\n\n\t\t\tif (this.rtl && (side === 'left' || side === 'right')) {\n\t\t\t\tdir = -dir;\n\t\t\t}\n\n\t\t\tthis.job = animation.requestAnimationFrame(fn);\n\n\t\t\tt = (utils.perfNow() - t0)/1000;\n\t\t\tthis.delta = Math.min(this.maxDelta, this.delta + (0.1 * Math.pow(t, 1.1)));\n\n\t\t\tevt[this.deltaProp] = dir * this.delta;\n\n\t\t\tthis.bubble('onmousewheel', evt);\n\n\t\t});\n\n\t\tthis.job = animation.requestAnimationFrame(fn);\n\t},\n\n\t/**\n\t* @private\n\t*/\n\tstopHoldJob: function () {\n\t\tthis.job = animation.cancelAnimationFrame(this.job);\n\t},\n\n\t/**\n\t* @private\n\t*/\n\tspotlightFocused: function () {\n\t\tthis.set('spotted', true);\n\t},\n\n\t/**\n\t* @private\n\t*/\n\tspotlightBlurred: function () {\n\t\tIconButton.prototype.spotlightBlurred.apply(this, arguments);\n\t\tthis.set('spotted', false);\n\t},\n\n\t/**\n\t* Overrides default focused handling to make sure scroller doesn't scroll to\n\t* this button.\n\t*\n\t* @private\n\t*/\n\tnoop: function () { return true; },\n\n\t// Accessibility\n\n\t/*\n\t* @private\n\t*/\n\tspotted: false,\n\n\t/*\n\t* @private\n\t*/\n\tpressed: false,\n\n\t/**\n\t* @private\n\t*/\n\taccessibilityLive: 'off',\n\n\t/**\n\t* @private\n\t*/\n\tariaObservers: [\n\t\t{path: ['side', 'spotted'], method: function () {\n\t\t\tvar side = this.get('side');\n\t\t\tif (this.spotted) {\n\t\t\t\tswitch(side) {\n\t\t\t\t\tcase 'top':\n\t\t\t\t\t\tthis.set('accessibilityLabel', $L('scroll up'));\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 'bottom':\n\t\t\t\t\t\tthis.set('accessibilityLabel', $L('scroll down'));\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 'left':\n\t\t\t\t\t\tthis.set('accessibilityLabel', $L('scroll left'));\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 'right':\n\t\t\t\t\t\tthis.set('accessibilityLabel', $L('scroll right'));\n\t\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t}},\n\t\t{path: 'pressed', method: function () {\n\t\t\tvar side = this.get('side');\n\t\t\tif (this.pressed) {\n\t\t\t\tthis.set('accessibilityAlert', true);\n\t\t\t\tswitch(side) {\n\t\t\t\t\tcase 'top':\n\t\t\t\t\t\tthis.set('accessibilityLabel', $L('UP'));\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 'bottom':\n\t\t\t\t\t\tthis.set('accessibilityLabel', $L('DOWN'));\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 'left':\n\t\t\t\t\t\tthis.set('accessibilityLabel', $L('LEFT'));\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 'right':\n\t\t\t\t\t\tthis.set('accessibilityLabel', $L('RIGHT'));\n\t\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tthis.set('accessibilityAlert', null);\n\t\t\t\tthis.set('accessibilityLabel', null);\n\t\t\t}\n\t\t}}\n\t]\n});\n","require('moonstone');\n\n/**\n* Contains the declaration for the {@link module:moonstone/PagingControl~PagingControl} kind.\n* @module moonstone/PagingControl\n*/\n\nvar\n\tkind = require('enyo/kind'),\n\tutils = require('enyo/utils'),\n\tanimation = require('enyo/animation');\n\nvar\n\tSpotlight = require('spotlight'),\n\t$L = require('../i18n');\n\nvar\n\tIconButton = require('../IconButton');\n\n/**\n* Fires when page boundary is reached.\n*\n* @event module:moonstone/PagingControl~PagingControl#onPaginate\n* @type {Object}\n* @property {Number} scrollDelta - The distance of the scroll.\n* @public\n*/\n\n/**\n* Fires when we've determined how large the bounceback effect should be.\n*\n* @event module:moonstone/PagingControl~PagingControl#onPaginateScroll\n* @type {Object}\n* @property {Number} scrollDelta - The magnitude of the scroll bounceback.\n* @public\n*/\n\n/**\n* {@link module:moonstone/PagingControl~PagingControl} is a paging control button derived from\n* {@link module:moonstone/IconButton~IconButton}. This control is not intended for use outside of\n* {@link module:moonstone/Scroller~Scroller}.\n*\n* @class PagingControl\n* @extends module:moonstone/IconButton~IconButton\n* @ui\n* @public\n*/\nmodule.exports = kind(\n\t/** @lends module:moonstone/PagingControl~PagingControl.prototype */ {\n\n\t/**\n\t* @private\n\t*/\n\tname: 'moon.PagingControl',\n\n\t/**\n\t* @private\n\t*/\n\tkind: IconButton,\n\n\t/**\n\t* @private\n\t*/\n\tclasses: 'moon-paging-button no-background',\n\n\t/**\n\t* @private\n\t*/\n\tspotlight: true,\n\n\t/**\n\t* @private\n\t* @lends module:moonstone/PagingControl~PagingControl.prototype\n\t*/\n\tpublished: {\n\t\t/**\n\t\t* The side of the control where the button will be.\n\t\t*\n\t\t* Supported values are `'top'`, `'right'`, `'bottom'`, and `'left'`.\n\t\t*\n\t\t* @type {String}\n\t\t* @default null\n\t\t* @public\n\t\t*/\n\t\tside: null\n\t},\n\n\t/**\n\t* @private\n\t*/\n\tbackgroundOpacity: 'transparent',\n\n\t/**\n\t* @private\n\t*/\n\thandlers: {\n\t\tondown: 'down',\n\t\tonup: 'endHold',\n\t\tonleave: 'endHold',\n\t\tonhold: 'hold',\n\t\tonActivate: 'noop'\n\t},\n\n\t/**\n\t* @private\n\t*/\n\tevents: {\n\t\t/**\n\t\t* {@link module:moonstone/PagingControl~PagingControl#onPaginate}\n\t\t*/\n\t\tonPaginate: '',\n\n\t\t/**\n\t\t* {@link module:moonstone/PagingControl~PagingControl#onPaginateScroll}\n\t\t*/\n\t\tonPaginateScroll: ''\n\t},\n\n\t/**\n\t* @private\n\t*/\n\tdownTime: 0,\n\n\t/**\n\t* @private\n\t*/\n\tinitialDelta: 2.5,\n\n\t/**\n\t* @private\n\t*/\n\tdelta: 0,\n\n\t/**\n\t* @private\n\t*/\n\tmaxDelta: 45,\n\n\t/**\n\t* @private\n\t*/\n\ttapDelta: 15,\n\n\t/**\n\t* @private\n\t*/\n\tbumpDeltaMultiplier: 3,\n\n\t/**\n\t* @private\n\t*/\n\tcreate: function () {\n\t\tIconButton.prototype.create.apply(this, arguments);\n\t\tthis.sideChanged();\n\t},\n\n\t/**\n\t* Stops scrolling animation and triggers\n\t* [onPaginate]{@link module:moonstone/PagingControl~PagingControl#onPaginate} event with a delta\n\t* value for the bounceback effect.\n\t*\n\t* @fires module:moonstone/PagingControl~PagingControl#onPaginate\n\t* @public\n\t*/\n\thitBoundary: function () {\n\t\tthis.stopHoldJob();\n\t\tthis.downTime = null;\n\t\tthis.doPaginate({scrollDelta: this.delta * this.bumpDeltaMultiplier});\n\t\tSpotlight.Accelerator.cancel();\n\t},\n\n\t/**\n\t* @private\n\t*/\n\t_iconMappings: {\n\t\t'top': 'arrowlargeup',\n\t\t'bottom': 'arrowlargedown',\n\t\t'left': 'arrowlargeleft',\n\t\t'right': 'arrowlargeright'\n\t},\n\n\t/**\n\t* Set this control's CSS class based on its [side]{@link module:moonstone/PagingControl~PagingControl#side}\n\t* value.\n\t*\n\t* @private\n\t*/\n\tsideChanged: function (old) {\n\t\tvar s = this.side;\n\t\tif(old) {\n\t\t\tthis.removeClass(old);\n\t\t}\n\t\tthis.addClass(s);\n\t\tthis.setIcon(this._iconMappings[s]);\n\t},\n\n\t/**\n\t* @private\n\t*/\n\tdown: function (sender, event) {\n\t\tif (this.disabled) {\n\t\t\treturn;\n\t\t}\n\n\t\tthis.downTime = utils.perfNow();\n\t\tthis.delta = this.initialDelta;\n\t},\n\n\t/**\n\t* @private\n\t*/\n\thold: function (sender, event) {\n\t\tif (this.disabled) {\n\t\t\treturn;\n\t\t}\n\n\t\tthis.startHoldJob();\n\t},\n\n\t/**\n\t* @private\n\t*/\n\tdepress: function (sender, event) {\n\t\tIconButton.prototype.depress.apply(this, arguments);\n\t\t// keydown events repeat (while mousedown/hold does not); simulate\n\t\t// hold behavior with mouse by catching the second keydown event\n\t\tif (event.keyCode === 13) {\n\t\t\tthis.set('pressed', true);\n\t\t\tif (!this.downCount) {\n\t\t\t\tthis.down();\n\t\t\t\tthis.downCount = 1;\n\t\t\t} else {\n\t\t\t\tthis.downCount++;\n\t\t\t}\n\t\t\tif (this.downCount == 2) {\n\t\t\t\tthis.hold();\n\t\t\t}\n\t\t}\n\t},\n\n\t/**\n\t* @private\n\t*/\n\tundepress: function (sender, event) {\n\t\tthis.set('pressed', false);\n\t\tIconButton.prototype.undepress.apply(this, arguments);\n\t\tthis.endHold(sender, event);\n\t},\n\n\t/**\n\t* @private\n\t*/\n\tendHold: function (sender, event) {\n\t\tif (!this.downTime) {\n\t\t\treturn;\n\t\t}\n\n\t\tthis.downCount = 0;\n\t\tthis.stopHoldJob();\n\t\tthis.sendPaginateEvent();\n\t\tthis.downTime = null;\n\t},\n\n\t/**\n\t* @fires module:moonstone/PagingControl~PagingControl#onPaginateScroll\n\t* @private\n\t*/\n\tstartHoldJob: function () {\n\t\tthis.stopHoldJob();\n\n\t\tvar t0 = utils.perfNow(),\n\t\t\tt = 0\n\t\t;\n\n\t\tvar fn = this.bindSafely(function () {\n\t\t\tthis.job = animation.requestAnimationFrame(fn);\n\n\t\t\tt = (utils.perfNow() - t0)/1000;\n\t\t\tthis.delta = Math.min(this.maxDelta, this.delta + (0.1 * Math.pow(t, 1.1)));\n\n\t\t\tthis.doPaginateScroll({scrollDelta: this.delta});\n\t\t});\n\n\t\tthis.job = animation.requestAnimationFrame(fn);\n\t},\n\n\t/**\n\t* @private\n\t*/\n\tstopHoldJob: function () {\n\t\tthis.job = animation.cancelAnimationFrame(this.job);\n\t},\n\n\t/**\n\t* @fires module:moonstone/PagingControl~PagingControl#onPaginate\n\t* @private\n\t*/\n\tsendPaginateEvent: function () {\n\t\tvar tapThreshold = 200,\n\t\t\ttimeElapsed = utils.perfNow() - this.downTime,\n\t\t\tdelta = (timeElapsed <= tapThreshold) ? this.tapDelta : this.delta;\n\n\t\tthis.doPaginate({scrollDelta: delta});\n\t},\n\n\t/**\n\t* Overrides default focused handling to make sure scroller doesn't scroll to\n\t* this button.\n\t*\n\t* @private\n\t*/\n\tspotlightFocused: function () {\n\t\tthis.set('spotted', true);\n\t},\n\n\t/**\n\t* @private\n\t*/\n\tspotlightBlurred: function (sender, event) {\n\t\tIconButton.prototype.spotlightBlurred.apply(this, arguments);\n\t\tthis.set('spotted', false);\n\t\tthis.endHold(sender, event);\n\t},\n\n\t/**\n\t* @private\n\t*/\n\tnoop: function () { return true; },\n\n\t// Accessibility\n\n\t/*\n\t* @private\n\t*/\n\tspotted: false,\n\n\t/*\n\t* @private\n\t*/\n\tpressed: false,\n\n\t/**\n\t* @private\n\t*/\n\taccessibilityLive: 'off',\n\n\t/**\n\t* @private\n\t*/\n\tariaObservers: [\n\t\t{path: ['side', 'spotted'], method: function () {\n\t\t\tvar side = this.get('side');\n\t\t\tif (this.spotted) {\n\t\t\t\tswitch(side) {\n\t\t\t\t\tcase 'top':\n\t\t\t\t\t\tthis.set('accessibilityLabel', $L('scroll up'));\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 'bottom':\n\t\t\t\t\t\tthis.set('accessibilityLabel', $L('scroll down'));\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 'left':\n\t\t\t\t\t\tthis.set('accessibilityLabel', $L('scroll left'));\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 'right':\n\t\t\t\t\t\tthis.set('accessibilityLabel', $L('scroll right'));\n\t\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t}},\n\t\t{path: 'pressed', method: function () {\n\t\t\tvar side = this.get('side');\n\t\t\tif (this.pressed) {\n\t\t\t\tswitch(side) {\n\t\t\t\t\tcase 'top':\n\t\t\t\t\t\tthis.set('accessibilityLabel', $L('UP'));\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 'bottom':\n\t\t\t\t\t\tthis.set('accessibilityLabel', $L('DOWN'));\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 'left':\n\t\t\t\t\t\tthis.set('accessibilityLabel', $L('LEFT'));\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 'right':\n\t\t\t\t\t\tthis.set('accessibilityLabel', $L('RIGHT'));\n\t\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t\tthis.set('accessibilityAlert', true);\n\t\t\t} else {\n\t\t\t\tthis.set('accessibilityAlert', null);\n\t\t\t\tthis.set('accessibilityLabel', null);\n\t\t\t}\n\t\t}}\n\t]\n});\n","require('moonstone');\n\n/**\n* Contains the declaration for the {@link module:moonstone/Slider~Slider} kind.\n* @module moonstone/Slider\n*/\n\nvar\n\tkind = require('enyo/kind'),\n\tgesture = require('enyo/gesture'),\n\tControl = require('enyo/Control'),\n\tAnimator = require('enyo/Animator');\n\nvar\n\tSpotlight = require('spotlight');\n\nvar\n\tProgressBar = require('../ProgressBar'),\n\tIconButton = require('../IconButton');\n\nvar\n\t$L = require('../i18n');\n\n/**\n* Fires when bar position is set.\n*\n* @event module:moonstone/Slider~Slider#onChange\n* @type {Object}\n* @property {Number} value - The value of the current position.\n* @public\n*/\n\n/**\n* Fires while control knob is being dragged.\n*\n* @event module:moonstone/Slider~Slider#onChanging\n* @type {Object}\n* @property {Number} value - The value of the current position.\n* @public\n*/\n\n/**\n* Fires when animation to a position finishes. No additional information is passed with this\n* event.\n*\n* @event module:moonstone/Slider~Slider#onAnimateFinish\n* @type {Object}\n* @public\n*/\n\n/**\n* {@link module:moonstone/Slider~Slider} is a [control]{@link module:enyo/Control~Control}\n* that presents a range of selection options in the form of a horizontal slider\n* with a control knob. The knob may be tapped and dragged to the desired location.\n*\n* ```javascript\n* \tvar\n* \t\tkind = require('enyo/kind'),\n* \t\tSlider = require('moonstone/Slider');\n*\n* \t{kind: Slider, value: 30}\n* ```\n*\n* @class Slider\n* @extends module:moonstone/ProgressBar~ProgressBar\n* @ui\n* @public\n*/\nmodule.exports = kind(\n\t/** @lends module:moonstone/Slider~Slider.prototype */ {\n\n\t/**\n\t* @private\n\t*/\n\tname: 'moon.Slider',\n\n\t/**\n\t* @private\n\t*/\n\tkind: ProgressBar,\n\n\t/**\n\t* @private\n\t*/\n\tclasses: 'moon-slider',\n\n\t/**\n\t* @private\n\t*/\n\tspotlight: true,\n\n\t/**\n\t* @private\n\t* @lends module:moonstone/Slider~Slider.prototype\n\t*/\n\tpublished: {\n\n\t\t/**\n\t\t* Position of slider, expressed as an integer between `0` and `100`, inclusive.\n\t\t*\n\t\t* @type {Number}\n\t\t* @default 0\n\t\t* @public\n\t\t*/\n\t\tvalue: 0,\n\n\t\t/**\n\t\t* Sliders may \"snap\" to multiples of this value in either direction.\n\t\t*\n\t\t* @type {Number}\n\t\t* @default 0\n\t\t* @public\n\t\t*/\n\t\tincrement: 0,\n\n\t\t/**\n\t\t* When `true`, current progress is styled differently from rest of bar.\n\t\t*\n\t\t* @type {Boolean}\n\t\t* @default true\n\t\t* @public\n\t\t*/\n\t\tlockBar: true,\n\n\t\t/**\n\t\t* When `true`, tapping on bar will change current position.\n\t\t*\n\t\t* @type {Boolean}\n\t\t* @default true\n\t\t* @public\n\t\t*/\n\t\ttappable: true,\n\n\t\t/**\n\t\t* When `true`, jumpIncrement button will be displayed in both side of slider.\n\t\t*\n\t\t* @type {Boolean}\n\t\t* @default false\n\t\t* @public\n\t\t*/\n\t\tenableJumpIncrement: false,\n\n\t\t/**\n\t\t* Sliders will increase or decrease as much as this percentage or value in either direction\n\t\t* when jumpIncrement button is tapped.\n\t\t*\n\t\t* @type {Number|String}\n\t\t* @default '10%'\n\t\t* @public\n\t\t*/\n\t\tjumpIncrement: '10%',\n\n\t\t/**\n\t\t* Sliders will use this icon name for the button that decreases the value. Another good\n\t\t* alternative would be 'minus'.\n\t\t*\n\t\t* @type {String}\n\t\t* @default 'arrowlargeleft'\n\t\t* @public\n\t\t*/\n\t\tdecrementIcon: 'arrowlargeleft',\n\n\t\t/**\n\t\t* Sliders will use this icon name for the button that increases the value. Another good\n\t\t* alternative would be 'plus'.\n\t\t*\n\t\t* @type {String}\n\t\t* @default 'arrowlargeright'\n\t\t* @public\n\t\t*/\n\t\tincrementIcon: 'arrowlargeright',\n\n\t\t/**\n\t\t* CSS classes to apply to the knob.\n\t\t*\n\t\t* @type {String}\n\t\t* @default 'moon-slider-knob'\n\t\t* @public\n\t\t*/\n\t\tknobClasses: 'moon-slider-knob',\n\n\t\t/**\n\t\t* CSS classes to apply to the tap area.\n\t\t*\n\t\t* @type {String}\n\t\t* @default 'moon-slider-taparea'\n\t\t* @deprecated This control no longer uses a DOM element as a tap area and relies on a\n\t\t* \truntime pseudo-class to capture taps.\n\t\t* @public\n\t\t*/\n\t\ttapAreaClasses: 'moon-slider-taparea',\n\n\t\t/**\n\t\t* If set to `true`, button is shown as disabled and does not generate tap events.\n\t\t*\n\t\t* @type {Boolean}\n\t\t* @default false\n\t\t* @public\n\t\t*/\n\t\tdisabled: false,\n\n\t\t/**\n\t\t* When `true`, knob and progress move with animation when left or right direction\n\t\t* key is pressed, or when bar is tapped.\n\t\t*\n\t\t* @type {Boolean}\n\t\t* @default true\n\t\t* @public\n\t\t*/\n\t\tanimate: true,\n\n\t\t/**\n\t\t* When `false`, knob may be moved past the\n\t\t* [bgProgress]{@link module:moonstone/ProgressBar~ProgressBar#bgProgress} value.\n\t\t*\n\t\t* @type {Boolean}\n\t\t* @default false\n\t\t* @public\n\t\t*/\n\t\tconstrainToBgProgress: false,\n\n\t\t/**\n\t\t* Overriding the default value of popup to `true`\n\t\t*\n\t\t* @see module:moonstone/ProgressBar~ProgressBar#popup\n\t\t* @type {Boolean}\n\t\t* @default true\n\t\t* @public\n\t\t*/\n\t\tpopup: true,\n\n\t\t/**\n\t\t* When `false`, the popup bubble is displayed while the slider is being adjusted.\n\t\t*\n\t\t* @type {Boolean}\n\t\t* @default false\n\t\t* @deprecated Replaced by {@link module:moonstone/ProgressBar~ProgressBar#popup}\n\t\t* @public\n\t\t*/\n\t\tnoPopup: false,\n\n\t\t/**\n\t\t* If set to `true`, an elastic visual effect is seen when the knob is dragged past\n\t\t* the [bgProgress]{@link module:moonstone/ProgressBar~ProgressBar#bgProgress} value.\n\t\t*\n\t\t* @type {Boolean}\n\t\t* @default false\n\t\t* @public\n\t\t*/\n\t\telasticEffect: false\n\t},\n\n\t/**\n\t* @private\n\t*/\n\tevents: {\n\t\tonChange: '',\n\t\tonChanging: '',\n\t\tonAnimateFinish: ''\n\t},\n\n\t/**\n\t* @private\n\t*/\n\thandlers: {\n\t\tondragstart: 'dragstart',\n\t\tondrag: 'drag',\n\t\tondragfinish: 'dragfinish',\n\t\tonSpotlightFocused: 'spotFocused',\n\t\tonSpotlightSelect: 'spotSelect',\n\t\tonSpotlightBlur: 'spotBlur',\n\t\tonSpotlightUp: 'spotUp',\n\t\tonSpotlightDown: 'spotDown',\n\t\tonSpotlightLeft: 'spotLeft',\n\t\tonSpotlightRight: 'spotRight'\n\t},\n\n\t/**\n\t* @private\n\t*/\n\tmoreComponents: [\n\t\t{name: 'animator', kind: Animator, onStep: 'animatorStep', onEnd: 'animatorComplete'},\n\t\t{name: 'knob', kind: Control, ondown: 'handleKnobDown', onup: 'handleKnobUp'}\n\t],\n\n\t/**\n\t* @private\n\t*/\n\tjumpWrapperComponents: [\n\t\t{\n\t\t\tname: 'buttonLeft',\n\t\t\tkind: IconButton,\n\t\t\tbackgroundOpacity: 'transparent',\n\t\t\tclasses: 'moon-slider-button left',\n\t\t\ticon: 'arrowlargeleft',\n\t\t\tonSpotlightSelect: 'preventEvent',\n\t\t\tonSpotlightKeyDown: 'jumpButtonTriggered',\n\t\t\tonSpotlightKeyUp: 'jumpButtonReleased',\n\t\t\tondown: 'jumpButtonTriggered',\n\t\t\tonup: 'jumpButtonReleased',\n\t\t\tonholdpulse: 'jumpButtonTriggered',\n\t\t\tonrelease: 'jumpButtonReleased',\n\t\t\tondragstart: 'preventEvent',\n\t\t\tdefaultSpotlightDisappear: 'buttonRight'\n\t\t},\n\t\t{name: 'slider', classes: 'moon-slider', spotlight: true, accessibilityLive: 'polite'},\n\t\t{\n\t\t\tname: 'buttonRight',\n\t\t\tkind: IconButton,\n\t\t\tbackgroundOpacity: 'transparent',\n\t\t\tclasses: 'moon-slider-button right',\n\t\t\ticon: 'arrowlargeright',\n\t\t\tonSpotlightSelect: 'preventEvent',\n\t\t\tonSpotlightKeyDown: 'jumpButtonTriggered',\n\t\t\tonSpotlightKeyUp: 'jumpButtonReleased',\n\t\t\tondown: 'jumpButtonTriggered',\n\t\t\tonup: 'jumpButtonReleased',\n\t\t\tonholdpulse: 'jumpButtonTriggered',\n\t\t\tonrelease: 'jumpButtonReleased',\n\t\t\tondragstart: 'preventEvent',\n\t\t\tdefaultSpotlightDisappear: 'buttonLeft'\n\t\t}\n\t],\n\n\t/**\n\t*/\n\tanimatingTo: null,\n\n\t/**\n\t* Spotlight state of slider\n\t*\n\t* @type {Boolean}\n\t* @private\n\t*/\n\tselected: false,\n\n\t/**\n\t* @private\n\t*/\n\tselectedChanged: function (was, is) {\n\t\tthis.$.knob.addRemoveClass('spotselect', this.selected);\n\t\tthis.set('knobSelected', this.selected);\n\t},\n\n\t/**\n\t* Knob selected state set by either via tap, drag, or spot\n\t*\n\t* @type {Boolean}\n\t* @private\n\t*/\n\tknobSelected: false,\n\n\t/**\n\t* @private\n\t*/\n\tknobSelectedChanged: function (was, is) {\n\t\tthis.$.bar.addRemoveClass('selected', this.knobSelected);\n\t},\n\n\t/**\n\t* Drag state of slider\n\t*\n\t* @type {Boolean}\n\t* @private\n\t*/\n\tdragging: false,\n\n\t/**\n\t* @private\n\t*/\n\tdraggingChanged: function (was, is) {\n\t\tthis.$.knob.addRemoveClass('active', this.dragging);\n\t\tthis.set('knobSelected', this.dragging);\n\t},\n\n\t/**\n\t* Animates to the given value.\n\t*\n\t* @param {Number} start - The start position, as an integer between `0` and `100`.\n\t* @param {Number} end - The end position, as an integer between `0` and `100`.\n\t* @public\n\t*/\n\tanimateTo: function (start, end) {\n\t\tstart = this.clampValue(this.min, this.max, start);\n\t\tend = this.clampValue(this.min, this.max, end); // Moved from animatorStep\n\t\tthis.animatingTo = end;\n\n\t\tthis.$.animator.play({\n\t\t\tstartValue: start,\n\t\t\tendValue: end,\n\t\t\tnode: this.hasNode()\n\t\t});\n\t},\n\n\t/**\n\t* Determines whether the slider is currently being dragged.\n\t*\n\t* @returns {Boolean} `true` if the slider is currently being dragged; otherwise, `false`.\n\t* @public\n\t*/\n\tisDragging: function () {\n\t\treturn this.dragging;\n\t},\n\n\t/**\n\t* @private\n\t*/\n\tcreate: function () {\n\t\tProgressBar.prototype.create.apply(this, arguments);\n\t\t// Compatibility code for noPopup. Intentionally updating after the super call because this\n\t\t// control assumes the popup will be created and `popup` will only affect its display\n\t\tif (this.hasOwnProperty('noPopup')) this.popup = !this.noPopup;\n\n\t\tthis.initValue();\n\t\tthis.disabledChanged();\n\t\tthis.knobClassesChanged();\n\t\tthis.enableJumpIncrementChanged();\n\t\tthis.jumpIncrementChanged();\n\t},\n\n\t/**\n\t* @private\n\t*/\n\tinitComponents: function () {\n\t\tif (this.enableJumpIncrement) this.createJumpIncrementButton();\n\t\tProgressBar.prototype.initComponents.apply(this, arguments);\n\t\tthis.createChrome(this.moreComponents);\n\t},\n\n\t/**\n\t* Overriding {@link module:moonstone/ProgressBar~ProgressBar#createPopup} to change the\n\t* container of the popup as well as skip the logic to make it persistently shown.\n\t*\n\t* @private\n\t*/\n\tcreatePopup: function () {\n\t\tthis.$.knob.createComponents(this.popupComponents, {owner: this});\n\t\tthis.$.popup.set('autoDismiss', false);\n\t},\n\n\t/**\n\t* @private\n\t*/\n\tcreateJumpIncrementButton: function () {\n\t\tthis.createComponents(this.jumpWrapperComponents, {owner: this});\n\t\tthis.controlParent = this.$.slider;\n\t\tthis.addClass('moon-slider-wrapper');\n\n\t\tthis.set('spotlight', false);\n\t\tthis.$.buttonLeft.set('icon', this.get('decrementIcon'));\n\t\tthis.$.buttonRight.set('icon', this.get('incrementIcon'));\n\t},\n\n\t/**\n\t* @private\n\t*/\n\trendered: function () {\n\t\tProgressBar.prototype.rendered.apply(this, arguments);\n\t\tthis._setValue(this.value);\n\t},\n\n\t/**\n\t* @private\n\t*/\n\tenableJumpIncrementChanged: function () {\n\t\tthis.addRemoveClass('incrementable', this.enableJumpIncrement);\n\t},\n\n\t/**\n\t* @private\n\t*/\n\tdisabledChanged: function () {\n\t\tif (this.enableJumpIncrement) {\n\t\t\tthis.updateButtonStatus();\n\t\t\tthis.$.slider.set('disabled', this.disabled);\n\t\t}\n\t\tthis.addRemoveClass('disabled', this.disabled);\n\t\tthis.$.knob.addRemoveClass('disabled', this.disabled);\n\t\tthis.setTappable(!this.disabled);\n\t},\n\n\t/**\n\t* @private\n\t*/\n\tknobClassesChanged: function (was) {\n\t\tthis.$.knob.removeClass(was);\n\t\tthis.$.knob.addClass(this.knobClasses);\n\t},\n\n\t/**\n\t* @private\n\t*/\n\tjumpIncrementChanged: function () {\n\t\tvar range = this.max - this.min,\n\t\t\tincrementBy;\n\t\tif (typeof this.jumpIncrement == 'string' && this.jumpIncrement.substr(-1) == '%') {\n\t\t\t// jumpIncrement is a percent value\n\t\t\tincrementBy = range * parseFloat(this.jumpIncrement.slice(0,-1)) / 100;\n\t\t} else {\n\t\t\t// jumpIncrement is a plain number\n\t\t\tincrementBy = this.jumpIncrement;\n\t\t}\n\t\tthis._jumpIncrementAmount = incrementBy;\n\t},\n\n\t/**\n\t* Slider will snap to multiples of this value.\n\t*\n\t* @private\n\t*/\n\tcalcIncrement: function (val) {\n\t\treturn (Math.round(val / this.increment) * this.increment);\n\t},\n\n\t/**\n\t* Called only when [constrainToBgProgress]{@link module:moonstone/Slider~Slider#constrainToBgProgress} is\n\t* `true`.\n\t*\n\t* @private\n\t*/\n\tcalcConstrainedIncrement: function (val) {\n\t\treturn (Math.floor(val / this.increment) * this.increment);\n\t},\n\n\t/**\n\t* Initializes [value]{@link module:moonstone/Slider~Slider#value} at creation time.\n\t*\n\t* @private\n\t*/\n\tinitValue: function () {\n\t\tif (this.constrainToBgProgress) {\n\t\t\tthis.value = this.clampValue(this.min, this.bgProgress, this.value);\n\t\t\tthis.value = (this.increment) ? this.calcConstrainedIncrement(this.value) : this.value;\n\t\t}\n\n\t\tthis.updateValues(this.getValue());\n\t},\n\n\t/**\n\t* @private\n\t*/\n\tupdateValues: function (value) {\n\t\tif (this.lockBar) {\n\t\t\tthis.setProgress(value);\n\t\t} else {\n\t\t\tif (this.popup) {\n\t\t\t\tthis.updatePopup(value);\n\t\t\t}\n\t\t\tthis.updateKnobPosition(this.calcPercent(value));\n\t\t}\n\t},\n\n\t/**\n\t* @private\n\t*/\n\tprogressChanged: kind.inherit(function (sup) {\n\t\treturn function () {\n\t\t\tsup.apply(this, arguments);\n\t\t\tthis.updateKnobPosition(this.calcPercent(this.progress));\n\t\t};\n\t}),\n\n\t/**\n\t* @override\n\t* @private\n\t*/\n\tshowPercentageChanged: function () {\n\t\tthis.updatePopup(this.value);\n\t},\n\n\t/**\n\t* @override\n\t* @private\n\t*/\n\tpopupSideChanged: function () {\n\t\tthis.updatePopup(this.value);\n\t},\n\n\t/**\n\t* @private\n\t*/\n\tvalueChanged: function (was, is) {\n\t\tif (!this.dragging) {\n\t\t\tvar allowAnimation = this.constrainToBgProgress && is <= this.bgProgress || !this.constrainToBgProgress;\n\t\t\tif (this.constrainToBgProgress) {\n\t\t\t\tis = this.clampValue(this.min, this.bgProgress, is); // Moved from animatorStep\n\t\t\t\tis = (this.increment) ? this.calcConstrainedIncrement(is) : is;\n\t\t\t}\n\t\t\tif (this.animate && allowAnimation) {\n\t\t\t\tthis.animateTo(was, is);\n\t\t\t} else {\n\t\t\t\tthis._setValue(is);\n\t\t\t}\n\t\t}\n\t},\n\n\t/**\n\t* @private\n\t*/\n\tminChanged: function (was, is) {\n\t\tthis.initValue();\n\t\tthis.progressChanged();\n\t\tthis.bgProgressChanged();\n\t},\n\n\t/**\n\t* @private\n\t*/\n\tmaxChanged: function (was, is) {\n\t\tthis.initValue();\n\t\tthis.progressChanged();\n\t\tthis.bgProgressChanged();\n\t},\n\n\t/**\n\t * @deprecated To be removed when noPopup removed\n\t * @private\n\t */\n\tnoPopupChanged: function () {\n\t\tthis.set('popup', !this.noPopup);\n\t},\n\n\t/**\n\t* @private\n\t*/\n\t_setValue: function (val) {\n\t\tvar v = this.clampValue(this.min, this.max, val);\n\n\t\tthis.value = v;\n\t\tthis.updateButtonStatus();\n\n\t\tthis.updateValues(v);\n\n\t\tthis.sendChangeEvent({value: v});\n\t},\n\n\t/**\n\t* @private\n\t*/\n\tgetValue: function () {\n\t\treturn (this.animatingTo !== null) ? this.animatingTo : this.value;\n\t},\n\n\t/**\n\t* @private\n\t*/\n\tupdateButtonStatus: function () {\n\t\tif (this.enableJumpIncrement) {\n\t\t\tthis.$.buttonLeft.set('disabled', this.disabled || this.value <= this.min);\n\t\t\tthis.$.buttonRight.set('disabled', this.disabled || this.value >= this.max);\n\t\t}\n\t},\n\n\t/**\n\t* @private\n\t*/\n\tupdateKnobPosition: function (percent) {\n\t\tthis.$.knob.applyStyle(this.get('orientation') == 'vertical' ? 'bottom' : 'left', percent + '%');\n\t},\n\n\t/**\n\t* @private\n\t*/\n\tupdatePopupPosition: function () {\n\t\t// Override ProgressBar.updatePopupPosition to prevent unwanted changes\n\t},\n\n\t/**\n\t* @private\n\t*/\n\tcalcKnobPosition: function (e) {\n\t\tvar node = this.enableJumpIncrement ? this.$.slider.hasNode() : this.hasNode(),\n\t\t\trect = node.getBoundingClientRect(),\n\t\t\tdist;\n\n\t\tif (this.get('orientation') == 'vertical') {\n\t\t\tdist = ((rect.height - (e.clientY - rect.top)) / rect.height);\n\t\t} else {\n\t\t\t// default to horizontal\n\t\t\tdist = ((e.clientX - rect.left) / rect.width);\n\t\t}\n\t\treturn (dist * (this.max - this.min) + this.min);\n\t},\n\n\t/**\n\t* @private\n\t*/\n\tdragstart: function (sender, e) {\n\t\tif (this.disabled) {\n\t\t\treturn; // return nothing\n\t\t}\n\n\t\te.preventDefault();\n\t\tthis.set('dragging', true);\n\t\tSpotlight.freeze();\n\t\treturn true;\n\t},\n\n\t/**\n\t* @private\n\t*/\n\tdrag: function (sender, e) {\n\t\tif (this.dragging) {\n\t\t\tvar v = this.calcKnobPosition(e), ev;\n\n\t\t\tif (this.constrainToBgProgress === true) {\n\t\t\t\tv = (this.increment) ? this.calcConstrainedIncrement(v) : v;\n\t\t\t\tev = this.bgProgress + (v-this.bgProgress)*0.4;\n\t\t\t\tv = this.clampValue(this.min, this.bgProgress, v);\n\t\t\t\tthis.elasticFrom = (this.elasticEffect === false || this.bgProgress > v) ? v : ev;\n\t\t\t\tthis.elasticTo = v;\n\t\t\t} else {\n\t\t\t\tv = (this.increment) ? this.calcIncrement(v) : v;\n\t\t\t\tv = this.clampValue(this.min, this.max, v);\n\t\t\t\tthis.elasticFrom = this.elasticTo = v;\n\t\t\t}\n\n\t\t\tthis.set('value', v);\n\n\t\t\tthis.updateValues(v);\n\n\t\t\tthis.sendChangingEvent({value: v});\n\n\t\t\treturn true;\n\t\t}\n\t},\n\n\t/**\n\t* @private\n\t*/\n\tdragfinish: function (sender, e) {\n\t\tif (this.disabled || !this.dragging) {\n\t\t\treturn; // return nothing\n\t\t}\n\n\t\tvar v = this.elasticTo;\n\t\tif (this.constrainToBgProgress === true) {\n\t\t\tv = (this.increment) ? this.calcConstrainedIncrement(v) : v;\n\t\t} else {\n\t\t\tv = this.calcKnobPosition(e);\n\t\t\tv = (this.increment) ? this.calcIncrement(v) : v;\n\t\t\tv = this.clampValue(this.min, this.max, v);\n\t\t}\n\n\t\tthis.set('dragging', false);\n\t\tSpotlight.unfreeze();\n\t\tthis.set('value', v);\n\n\t\tthis.updateButtonStatus();\n\t\tthis.sendChangeEvent({value: this.getValue()});\n\t\te.preventTap();\n\t\treturn true;\n\t},\n\n\t/**\n\t* @private\n\t*/\n\ttap: function (sender, e) {\n\t\tif (this.tappable && !this.disabled && (e.originator === this || e.originator === this.$.slider || e.originator === this.$.bar || e.originator === this.$.bgbar)) {\n\t\t\tvar v = this.calcKnobPosition(e);\n\t\t\tv = (this.increment) ? this.calcIncrement(v) : v;\n\t\t\tv = (this.constrainToBgProgress && v>this.bgProgress) ? this.bgProgress : v;\n\t\t\tthis.set('value',v);\n\t\t\treturn true;\n\t\t}\n\t},\n\n\t/**\n\t* @private\n\t*/\n\tanimatorStep: function (sender) {\n\t\tvar\tv = sender.value;\n\n\t\tthis.updateValues(v);\n\n\t\tthis.sendChangingEvent({value: v});\n\t\treturn true;\n\t},\n\n\t/**\n\t* @fires module:moonstone/Slider~Slider#onAnimateFinish\n\t* @private\n\t*/\n\tanimatorComplete: function (sender) {\n\t\tif (!sender.isAnimating()) {\n\t\t\tthis._setValue(sender.value);\n\t\t\tthis.animatingTo = null;\n\t\t\tthis.doAnimateFinish(sender);\n\t\t}\n\t\treturn true;\n\t},\n\n\t/**\n\t* @private\n\t*/\n\tspotFocused: function (sender, e) {\n\t\tif ((this.enableJumpIncrement && e.originator.owner === this) || e.originator === this) {\n\t\t\tthis.bubble('onRequestScrollIntoView');\n\t\t}\n\t\tthis.showKnobStatus();\n\t},\n\n\t/**\n\t* @private\n\t*/\n\tspotSelect: function () {\n\t\tthis.set('selected', !this.selected);\n\t\tif (this.popup) {\n\t\t\tif (this.selected) {\n\t\t\t\tthis.$.popup.bubble('onRequestScrollIntoView');\n\t\t\t}\n\t\t\tthis.updatePopup(this.getValue());\n\t\t}\n\t\treturn true;\n\t},\n\n\t/**\n\t* @private\n\t*/\n\tspotBlur: function () {\n\t\tif (!this.dragging) {\n\t\t\tif (this.$.popup) {\n\t\t\t\tthis.$.popup.hide();\n\t\t\t}\n\t\t\tthis.set('selected', false);\n\t\t}\n\t},\n\n\t/**\n\t* @private\n\t*/\n\tspotUp: function (sender, e) {\n\t\tif (this.get('orientation') == 'vertical' && this.selected && !this.dragging && (!this.enableJumpIncrement || sender == this.$.slider)) {\n\t\t\t// If in the process of animating, work from the previously set value\n\t\t\tvar v = this.getValue() + (this.increment || 1);\n\n\t\t\tthis.set('value', v);\n\t\t\treturn true;\n\t\t}\n\t},\n\n\t/**\n\t* @private\n\t*/\n\tspotDown: function (sender, e) {\n\t\tif (this.get('orientation') == 'vertical' && this.selected && !this.dragging && (!this.enableJumpIncrement || sender == this.$.slider)) {\n\t\t\t// If in the process of animating, work from the previously set value\n\t\t\tvar v = this.getValue() - (this.increment || 1);\n\n\t\t\tthis.set('value', v);\n\t\t\treturn true;\n\t\t}\n\t},\n\n\t/**\n\t* @private\n\t*/\n\tspotLeft: function (sender, e) {\n\t\tif (this.get('orientation') == 'horizontal' && this.selected && !this.dragging && (!this.enableJumpIncrement || sender == this.$.slider)) {\n\t\t\t// If in the process of animating, work from the previously set value\n\t\t\tvar v = this.getValue() - (this.increment || 1);\n\n\t\t\tthis.set('value', v);\n\t\t\treturn true;\n\t\t}\n\t},\n\n\t/**\n\t* @private\n\t*/\n\tspotRight: function (sender, e) {\n\t\tif (this.get('orientation') == 'horizontal' && this.selected && !this.dragging && (!this.enableJumpIncrement || sender == this.$.slider)) {\n\t\t\tvar\tv = this.getValue() + (this.increment || 1);\n\n\t\t\tthis.set('value', v);\n\t\t\treturn true;\n\t\t}\n\t},\n\n\t/**\n\t* @private\n\t*/\n\thandleKnobDown: function (sender, e) {\n\t\tif (!this.disabled) {\n\t\t\te.configureHoldPulse({endHold: 'onMove'});\n\t\t\tthis.set('knobSelected', true);\n\t\t}\n\t},\n\n\t/**\n\t* @private\n\t*/\n\tshowKnobStatus: function () {\n\t\tif (this.popup) {\n\t\t\tthis.$.popup.show();\n\t\t\tthis.updatePopup(this.getValue());\n\t\t}\n\t},\n\n\t/**\n\t* @private\n\t*/\n\thandleKnobUp: function (sender, e) {\n\t\tif (!this.disabled) {\n\t\t\tthis.set('knobSelected', false);\n\t\t}\n\t},\n\n\t/**\n\t* @private\n\t*/\n\tchangeDelayMS: 50,\n\n\t/**\n\t* @fires module:moonstone/Slider~Slider#onChange\n\t* @private\n\t*/\n\tsendChangeEvent: function (data) {\n\t\tvar value = this.value;\n\t\tthis.throttleJob('sliderChange', function () {\n\t\t\tthis.doChange(data);\n\t\t\tthis.startJob('sliderChangePost', function () {\n\t\t\t\tif (this.value !== value) this.doChange({value: this.value});\n\t\t\t}, this.changeDelayMS);\n\t\t}, this.changeDelayMS);\n\t},\n\n\t/**\n\t* @fires module:moonstone/Slider~Slider#onChanging\n\t* @private\n\t*/\n\tsendChangingEvent: function (data) {\n\t\tthis.throttleJob('sliderChanging', function () { this.doChanging(data); }, this.changeDelayMS);\n\t},\n\n\t/**\n\t* @private\n\t*/\n\tjumpButtonTriggered: function (sender, ev) {\n\t\tvar isValidEvent = true;\n\t\tif (!sender.disabled && (!this._jumpSender || this._jumpSender == sender)) {\n\t\t\tif (ev.keyCode != 13 && ev.type == 'onSpotlightKeyDown') {\n\t\t\t\tisValidEvent = false;\n\t\t\t}\n\t\t\tif (isValidEvent) {\n\t\t\t\tif (sender === this.$.buttonLeft) this.previous();\n\t\t\t\telse this.next();\n\t\t\t\tthis._jumpSender = sender;\n\t\t\t}\n\t\t} else {\n\t\t\tSpotlight.Accelerator.cancel();\n\t\t\tgesture.drag.endHold();\n\t\t}\n\t},\n\n\t/**\n\t* @private\n\t*/\n\tjumpButtonReleased: function (sender, e) {\n\t\tthis._jumpSender = null;\n\t},\n\n\t/**\n\t* Prevent events that start on the left and right jump buttons\n\t*\n\t* @private\n\t*/\n\tpreventEvent: function (sender, event) {\n\t\treturn true;\n\t},\n\n\t/**\n\t* Decrement slider by jumpIncrement value.\n\t*\n\t* @public\n\t*/\n\tprevious: function () {\n\t\tthis.set('value', this.value - this._jumpIncrementAmount);\n\t},\n\n\t/**\n\t* Increment slider by jumpIncrement value.\n\t*\n\t* @public\n\t*/\n\tnext: function () {\n\t\tthis.set('value', this.value + this._jumpIncrementAmount);\n\t},\n\n\t// Accessibility\n\n\t/**\n\t* @default slider\n\t* @type {String}\n\t* @see enyo/AccessibilitySupport~AccessibilitySupport#accessibilityRole\n\t* @public\n\t*/\n\taccessibilityRole: 'slider',\n\n\t/**\n\t* Custom value for accessibility (ignored if `null`).\n\t*\n\t* @type {String|null}\n\t* @default null\n\t* @public\n\t*/\n\taccessibilityValueText: null,\n\n\t/**\n\t* When `true`, VoiceReadout will be prevented.\n\t*\n\t* @default false\n\t* @type {Boolean}\n\t* @public\n\t*/\n\taccessibilityDisabled: false,\n\n\t/**\n\t* @private\n\t*/\n\tariaObservers: [\n\t\t{to: 'aria-atomic', value: true},\n\t\t{from: 'disabled', method: function () {\n\t\t\tthis.setAriaAttribute('aria-disabled', this.disabled || null);\n\t\t}},\n\t\t{path: 'enableJumpIncrement', method: function () {\n\t\t\t// if enableJumpIncrement is true we set the spinbutton role to this.$.slider to be able to\n\t\t\t// read accessibilityHint of buttons.\n\t\t\tif (this.enableJumpIncrement) {\n\t\t\t\tthis.$.slider.set('accessibilityRole', 'slider');\n\t\t\t\tthis.$.buttonLeft.set('accessibilityHint', $L('press ok button to decrease the value'));\n\t\t\t\tthis.$.buttonRight.set('accessibilityHint', $L('press ok button to increase the value'));\n\t\t\t}\n\t\t}},\n\t\t{path: 'selected', method: function () {\n\t\t\tif (this.selected) {\n\t\t\t\t// avoid using readAlert api, temporary set accessibilityRole to alert\n\t\t\t\t// this will be reset on resetAccessibilityProperties\n\t\t\t\tvar hint = (this.get('orientation') == 'horizontal') ?\n\t\t\t\t\t\t\t\t$L('change a value with left right button') : $L('change a value with up down button');\n\t\t\t\tthis.set('accessibilityRole', 'alert');\n\t\t\t\tthis.set('accessibilityLive', 'off');\n\t\t\t\tthis.set('accessibilityHint', hint);\n\t\t\t} else {\n\t\t\t\tthis.resetAccessibilityProperties();\n\t\t\t}\n\t\t}},\n\t\t// moonstone/ProgressBar observes accessibilityValueText and the popup label so this kind\n\t\t// need only observe its unique properties for updating aria-valuetext\n\t\t{path: ['value', 'dragging'], method: 'ariaValue'}\n\t],\n\n\t/**\n\t* @private\n\t*/\n\tresetAccessibilityProperties: function () {\n\t\tthis.set('accessibilityRole', !this.enableJumpIncrement ? 'spinbutton' : null);\n\t\tthis.set('accessibilityLive', null);\n\t\tthis.set('accessibilityHint', null);\n\t},\n\n\t/**\n\t* Overriding {@link module:moonstone/ProgressBar~ProgressBar#ariaValue} to guard updating value\n\t* when dragging.\n\t*\n\t* @private\n\t*/\n\tariaValue: function () {\n\t\tvar value = this.$.animator.isAnimating() ? this.$.animator.endValue : this.value,\n\t\t\tusePercent = this.popup && this.showPercentage && !this.popupContent,\n\t\t\ttext = this.accessibilityValueText ||\n\t\t\t\t\tthis.popup && this.popupContent ||\n\t\t\t\t\tusePercent && this.calcPopupLabel(this.calcPercent(value)) ||\n\t\t\t\t\tvalue;\n\n\t\tif (!this.dragging) {\n\t\t\tthis.resetAccessibilityProperties();\n\t\t\tthis.setAriaAttribute('aria-valuetext', text);\n\t\t\tif (this.enableJumpIncrement) {\n\t\t\t\tthis.$.slider.setAriaAttribute('aria-valuetext', text);\n\t\t\t\tthis.$.buttonLeft.set('accessibilityLabel', String(text));\n\t\t\t\tthis.$.buttonRight.set('accessibilityLabel', String(text));\n\t\t\t}\n\t\t}\n\t}\n});\n","require('moonstone');\n\n/**\n* Contains the declaration for the {@link module:moonstone/ToggleSwitch~ToggleSwitch} kind.\n* @module moonstone/ToggleSwitch\n*/\n\nvar\n\tkind = require('enyo/kind'),\n\tutil = require('enyo/utils');\n\nvar\n\tCheckbox = require('../Checkbox');\n\n/**\n* {@link module:moonstone/ToggleSwitch~ToggleSwitch}, which extends {@link module:moonstone/Checkbox~Checkbox}, is a control\n* that looks like a switch with 'on' and 'off' states. When the toggle switch is\n* tapped, it switches its state and fires an\n* [onChange]{@link module:enyo/Checkbox~Checkbox#onChange} event.\n*\n* @class ToggleSwitch\n* @extends module:moonstone/Checkbox~Checkbox\n* @ui\n* @public\n*/\nmodule.exports = kind(\n\t/** @lends module:moonstone/ToggleSwitch~ToggleSwitch.prototype */ {\n\n\t/**\n\t* @private\n\t*/\n\tname: 'moon.ToggleSwitch',\n\n\t/**\n\t* @private\n\t*/\n\tkind: Checkbox,\n\n\t/**\n\t* @private\n\t*/\n\ticon: 'circle',\n\n\t/**\n\t* @private\n\t*/\n\tclasses: 'moon-toggle-switch',\n\n\t/**\n\t* @private\n\t*/\n\trendered: function () {\n\t\tCheckbox.prototype.rendered.apply(this, arguments);\n\t\t// wait until after we're rendered to allow animation.\n\t\tutil.asyncMethod(this, function () {\n\t\t\tthis.addClass('animated');\n\t\t});\n\t}\n});\n","require('moonstone');\n\n/**\n* Contains the declaration for the {@link module:moonstone/Button~Button} kind.\n* @module moonstone/Button\n*/\n\nvar\n\tkind = require('enyo/kind'),\n\tutil = require('enyo/utils'),\n\tButton = require('enyo/Button');\n\nvar\n\tMarquee = require('../Marquee'),\n\tMarqueeSupport = Marquee.Support,\n\tMarqueeText = Marquee.Text;\n\n/**\n* {@link module:moonstone/Button~Button} is an {@link module:enyo/Button~Button} with Moonstone styling applied.\n* The color of the button may be customized by specifying a background color.\n*\n* For more information, see the documentation on\n* [Buttons]{@linkplain $dev-guide/building-apps/controls/buttons.html} in the\n* Enyo Developer Guide.\n*\n* @class Button\n* @extends module:enyo/Button~Button\n* @mixes module:moonstone/MarqueeSupport~MarqueeSupport\n* @ui\n* @public\n*/\nmodule.exports = kind(\n\t/** @lends module:moonstone/Button~Button.prototype */ {\n\n\t/**\n\t* @private\n\t*/\n\tname: 'moon.Button',\n\n\t/**\n\t* @private\n\t*/\n\tkind: Button,\n\n\t/**\n\t* @private\n\t*/\n\ttag: 'span',\n\n\t/**\n\t* @private\n\t*/\n\tmixins: [MarqueeSupport],\n\n\t/**\n\t* @private\n\t* @lends module:moonstone/Button~Button.prototype\n\t*/\n\tpublished: {\n\n\t\t/**\n\t\t* A boolean parameter affecting the size of the button. If `true`, the\n\t\t* button's diameter will be set to 60px. However, the button's tap target\n\t\t* will still have a diameter of 78px, with an invisible DOM element\n\t\t* wrapping the small button to provide the larger tap zone.\n\t\t*\n\t\t* @type {Boolean}\n\t\t* @default false\n\t\t* @public\n\t\t*/\n\t\tsmall: false,\n\n\t\t/**\n\t\t* A boolean parameter affecting the minimum width of the button. When `true`,\n\t\t* the minimum width will be set to 180px (or 130px if [small]{@link module:moonstone/Button~Button#small}\n\t\t* is `true`). If `false`, the minimum width will be set to the current value of\n\t\t* `@moon-button-height` (thus forcing the button to be no smaller than a circle with\n\t\t* diameter `@moon-button-height`).\n\t\t*\n\t\t* @type {Boolean}\n\t\t* @default true\n\t\t* @public\n\t\t*/\n\t\tminWidth: true,\n\n\t\t/**\n\t\t* When `true`, the content will have locale-safe uppercasing applied.\n\t\t*\n\t\t* @type {Boolean}\n\t\t* @default true\n\t\t* @public\n\t\t*/\n\t\tuppercase: true,\n\n\t\t/**\n\t\t* @deprecated Replaced by [uppercase]{@link module:moonstone/Button~Button#uppercase}.\n\t\t*\n\t\t* Formerly defaulted to `true`, now defaults to `null` and will only have\n\t\t* an effect when explicitly set (for complete backward compatibility).\n\t\t*\n\t\t* @type {Boolean}\n\t\t* @default null\n\t\t* @public\n\t\t*/\n\t\tcontentUpperCase: null,\n\n\t\t/**\n\t\t* The background-color opacity of this button; valid values are `'opaque'`, `'translucent'`,\n\t\t* and `'transparent'`.\n\t\t*\n\t\t* @type {String}\n\t\t* @default 'opaque'\n\t\t* @public\n\t\t*/\n\t\tbackgroundOpacity: 'opaque'\n\t},\n\n\t/**\n\t* @private\n\t*/\n\tclasses: 'moon-large-button-text moon-button enyo-unselectable moon-composite',\n\n\t/**\n\t* @private\n\t*/\n\tspotlight: true,\n\n\t/**\n\t* @private\n\t*/\n\thandlers: {\n\n\t\t/**\n\t\t* `onSpotlightSelect` simulates `mousedown`.\n\t\t*\n\t\t* @private\n\t\t*/\n\t\tonSpotlightKeyDown\t: 'depress',\n\n\t\t/**\n\t\t* `onSpotlightKeyUp` simulates `mouseup`.\n\t\t*\n\t\t* @private\n\t\t*/\n\t\tonSpotlightKeyUp\t: 'undepress',\n\n\t\t/**\n\t\t* Also make sure we remove the pressed class if focus is removed from\n\t\t* this item before it receives a keyup.\n\t\t*\n\t\t* @private\n\t\t*/\n\t\tonSpotlightBlur\t\t: 'undepress',\n\n\t\t/**\n\t\t* The handler for `onSpotlightFocused` bubbles a `requestScrollIntoView` event.\n\t\t*\n\t\t* @private\n\t\t*/\n\t\tonSpotlightFocused\t: 'spotFocused'\n\t},\n\n\t/**\n\t* On creation, updates based on value of `this.small`.\n\t*\n\t* @private\n\t*/\n\tinitComponents: function () {\n\t\tif (!(this.components && this.components.length > 0)) {\n\t\t\tthis.createComponent({name: 'client', kind: MarqueeText, classes: 'button-client', isChrome: true});\n\t\t}\n\t\tif (this.small) this.smallChanged();\n\t\tif (this.minWidth) this.minWidthChanged();\n\n\t\t// FIXME: Backwards-compatibility for deprecated property - can be removed when\n\t\t// the contentUpperCase property is fully deprecated and removed. The legacy\n\t\t// property takes precedence if it exists.\n\t\tif (this.contentUpperCase !== null) this.uppercase = this.contentUpperCase;\n\n\t\tthis.contentChanged();\n\t\tthis.backgroundOpacityChanged();\n\t\tButton.prototype.initComponents.apply(this, arguments);\n\t},\n\n\t/**\n\t* Adds `pressed` CSS class.\n\t*\n\t* @private\n\t*/\n\tdepress: function (inSender, inEvent) {\n\t\tif (inEvent.keyCode === 13) {\n\t\t\tthis.addClass('pressed');\n\t\t}\n\t},\n\n\t/**\n\t* Bubbles `requestScrollIntoView` event.\n\t*\n\t* @fires module:moonstone/Scroller~Scroller#onRequestScrollIntoView\n\t* @private\n\t*/\n\tspotFocused: function (inSender, inEvent) {\n\t\tif (inEvent.originator === this) {\n\t\t\tthis.bubble('onRequestScrollIntoView');\n\t\t}\n\t},\n\n\t/**\n\t* Removes `pressed` CSS class.\n\t*\n\t* @private\n\t*/\n\tundepress: function () {\n\t\tthis.removeClass('pressed');\n\t},\n\n\t/**\n\t* If `this.small` is `true`, `taparea` dimensions are increased.\n\t*\n\t* @private\n\t*/\n\tsmallChanged: function () {\n\t\tif (this.small) {\n\t\t\tthis.addClass('small');\n\t\t\tthis.addClass('moon-small-button-text');\n\t\t} else {\n\t\t\tthis.removeClass('small');\n\t\t\tthis.removeClass('moon-small-button-text');\n\t\t}\n\t},\n\n\t/**\n\t* Override to handle potential child components.\n\t*\n\t* @private\n\t*/\n\tcontentChanged: function () {\n\t\tvar content = this.getContent();\n\t\tif (this.$.client) {\n\t\t\tthis.$.client.setContent( this.get('uppercase') ? util.toUpperCase(content) : content );\n\t\t} else {\n\t\t\tButton.prototype.contentChanged.apply(this, arguments);\n\t\t}\n\t},\n\n\t/**\n\t* @private\n\t*/\n\tuppercaseChanged: function () {\n\t\t// FIXME: Backwards-compatibility for deprecated property - can be removed when\n\t\t// contentUpperCase is fully deprecated and removed.\n\t\tif (this.contentUpperCase != this.uppercase) this.contentUpperCase = this.uppercase;\n\t\tthis.contentChanged();\n\t},\n\n\t/**\n\t* @private\n\t*/\n\tcontentUpperCaseChanged: function () {\n\t\tif (this.uppercase != this.contentUpperCase) this.uppercase = this.contentUpperCase;\n\t\tthis.uppercaseChanged();\n\t},\n\n\t/**\n\t* @private\n\t*/\n\tminWidthChanged: function () {\n\t\tif (this.minWidth) {\n\t\t\tthis.addClass('min-width');\n\t\t} else {\n\t\t\tthis.removeClass('min-width');\n\t\t}\n\t},\n\n\t/**\n\t* @private\n\t*/\n\tshowingChanged: function () {\n\t\tButton.prototype.showingChanged.apply(this, arguments);\n\t\tif (!this.showing && this.hasClass('pressed')) {\n\t\t\tthis.undepress();\n\t\t}\n\t},\n\n\t/**\n\t* @private\n\t*/\n\tbackgroundOpacityChanged: function (old) {\n\t\tvar opacity = this.backgroundOpacity;\n\t\tif (old) this.removeClass(old);\n\t\tif (opacity == 'translucent' || opacity == 'transparent') {\n\t\t\tthis.addClass(opacity);\n\t\t}\n\t}\n});\n","require('moonstone');\n\n/**\n* {@link module:moonstone/Overlay} contains a set of mixins that support\n* providing a layer of controls contextually displayed over another control.\n*\n* {@link module:moonstone/Overlay~OverlaySupport} provides generic support for overlays.\n* With it, you can add arbitrary\n* {@link module:moonstone/Overlay~OverlaySupport#overlayComponents} and configure their\n* position and formatting.\n*\n* There are the supplementary mixins for common use cases:\n* ({@link module:moonstone/Overlay~SelectionOverlaySupport},\n* {@link module:moonstone/Overlay~TextOverlaySupport}, and\n* {@link module:moonstone/Overlay~MarqueeOverlaySupport}). These mixins\n* preconfigure the overlay with components and expose additional properties to\n* further configure the mixin. Unlike most mixins, these three do little on\n* their own and must be used in conjunction with\n* {@link module:moonstone/Overlay~OverlaySupport}.\n*\n* ```javascript\n* \tvar\n* \t\tkind = require('enyo/kind'),\n* \t\tControl = require('enyo/Control'),\n* \t\tOverlay = require('moonstone/Overlay');\n*\n* \t// A control with a default Selection overlay\n* \t{kind: Control, mixins: [Overlay.Support, Overlay.Selection]}\n*\n* \t// A control with a Selection overlay and customized position and components\n* \t{kind: Control, mixins: [Overlay.Support, Overlay.Selection],\n* \t\toverlayPosition: 'left', overlayComponents: [\n*\t\t\t\t{kind: Icon, icon: 'check', small: true}\n*\t\t\t]\n* \t}\n* ```\n*\n* @module moonstone/Overlay\n*/\n\nvar\n\tkind = require('enyo/kind'),\n\tutils = require('enyo/utils'),\n\tBinding = require('enyo/Binding');\n\nvar\n\tIcon = require('moonstone/Icon'),\n\tMarquee = require('moonstone/Marquee');\n\n/**\n* Maps the value of `overlayAlign` to the appropriate CSS class\n*\n* @param\t{String}\tvalue\tAlignment value\n* @return\t{String}\t\t\tCSS Class\n*\n* @private\n*/\nfunction mapAlign (value) {\n\treturn\tvalue == 'left' && 'align-left' ||\n\t\t\tvalue == 'right' && 'align-right' ||\n\t\t\tvalue == 'start' && (this.rtl ? 'align-right' : 'align-left') ||\n\t\t\tvalue == 'end' && (this.rtl ? 'align-left' : 'align-right') ||\n\t\t\t'';\n}\n\n/**\n* Maps the value of `overlayTransparent` to the appropriate CSS class\n*\n* @param\t{String}\tvalue\tTransparency value\n* @return\t{String}\t\t\t'transparent'\n*\n* @private\n*/\nfunction mapTransparent (value) {\n\treturn 'transparent';\n}\n\n/**\n* Maps the value of `overlayPosition` to the appropriate CSS class\n*\n* @param\t{String}\tvalue\tPosition value\n* @return\t{String}\t\t\tCSS Class\n*\n* @private\n*/\nfunction mapPosition (value) {\n\treturn value == 'centered' ? value : 'position-' + value;\n}\n\n/**\n* Does nothing but used to enable a single observer for property -> class changes\n*\n* @param\t{String}\tvalue\tCSS classes\n* @return\t{String}\t\t\tThe same CSS classes\n*\n* @private\n*/\nfunction mapClasses (value) {\n\treturn value;\n}\n\n/**\n* Maps the value of `overlayShowing` to the appropriate CSS class\n*\n* @param\t{String}\tvalue\tShowing value\n* @return\t{String}\t\t\tCSS Class\n*\n* @private\n*/\nfunction mapShowing (showing) {\n\treturn\t(showing === true || showing === false) && 'show' ||\n\t\t\tshowing == 'spotlight' && 'show-on-spotlight' ||\n\t\t\tshowing == 'hover' && 'show-on-hover' ||\n\t\t\t'';\n}\n\n/**\n* Bound to an overlay container, forwards a changed property value to the container's\n* {@link module:moonstone/Overlay~OverlayContainerSupport#overlayTarget}.\n*\n* @param  {Any}\t\twas\t\tPrevious property value\n* @param  {Any}\t\tis\t\tCurrent property value\n* @param  {String}\tprop\tProperty name\n*\n* @private\n*/\nfunction forwardPropertyChange (was, is, prop) {\n\tvar target = this.$[this.overlayTarget];\n\tif (target) {\n\t\t// Special handling for overlayComponents to ensure the component ownership is correct\n\t\tif (prop == 'overlayComponents') {\n\t\t\tis = updateOwnership(is, this.getInstanceOwner());\n\t\t}\n\t\ttarget.set(prop, is);\n\t}\n}\n\n/**\n* Iterates over `components` to update the `owner`. Note that `components` is not cloned and is\n* updated in place and returned.\n*\n* @param  {Object[]}\t\tcomponents\tComponent configs\n* @param  {module:enyo/Control~Control}\towner\t\tOwner of components\n* @return {Object[]}\t\t\t\t\tUpdated component configs\n*\n* @private\n*/\nfunction updateOwnership (components, owner) {\n\tvar control, i;\n\tif (components) {\n\t\tfor (i = components.length - 1; i >= 0; --i) {\n\t\t\tcontrol = components[i];\n\t\t\tcontrol.owner = control.owner || owner;\n\t\t}\n\t}\n\treturn components;\n}\n\n/**\n* {@link module:moonstone/Overlay~OverlaySupport} adds an overlay to show additional\n* controls over the control using the mixin. Display of the overlay is controlled\n* by {@link module:moonstone/Overlay~OverlaySupport#overlayShowing}, which supports\n* displaying the overlay manually, on spotlight, or on hover.\n*\n* ```javascript\n* \tvar\n* \t\tkind = require('enyo/kind'),\n* \t\tIcon = require('moonstone/Icon'),\n* \t\tImage = require('moonstone/Image'),\n* \t\tOverlay = require('moonstone/Overlay');\n*\n* \t{kind: Image, src: 'moonstone/src/assets/movie.png', mixins: [Overlay.Support],\n* \t\toverlayShowing: 'hover', overlayPosition: 'bottom', overlayAlign: 'right', overlayComponents: [\n*\t\t\t\t{kind: Icon, src: 'moonstone/src/assets/icon-recommended.png'},\n*\t\t\t\t{kind: Icon, icon: 'star'},\n*\t\t\t\t{kind: Icon, src: 'moonstone/src/assets/icon-new.png'}\n* \t\t]\n* \t}\n* ```\n*\n* @mixin OverlaySupport\n* @public\n*/\nmodule.exports.Support = {\n\n\t/**\n\t* @private\n\t*/\n\tname: 'moon.OverlaySupport',\n\n\t/**\n\t* Controls display of the overlay.\n\t*\n\t* `true`\t\tShowing\n\t* `false`\t\tNot showing\n\t* `'spotlight'`\tShowing when an ancestor control is spotted\n\t* `'hover'`\t\tShowing when its parent is hovered by the pointer\n\t*\n\t* @name overlayShowing\n\t* @type {String|Boolean}\n\t* @default undefined\n\t* @public\n\t*/\n\n\t/**\n\t* The overlay is absolutely positioned over the control on which it is applied. By default, it\n\t* will cover the entire area but can be configured using this property or by overriding the CSS\n\t* class `moon-overlay-container`.\n\t*\n\t* * `centered`\n\t*   Contents are vertically and horizontally centered\n\t* * `top`\n\t*   Anchored to the top of the container with the natural height of its contents\n\t* * `bottom`\n\t*   Anchored to the bottom of the container with the natural height of its contents\n\t* * `left`\n\t*   Anchored to the left of the container with the natural width of its contents\n\t* * `right`\n\t*   Anchored to the right of the container with the natural width of its contents\n\t*\n\t* @name overlayPosition\n\t* @type {String}\n\t* @default undefined\n\t* @public\n\t*/\n\n\t/**\n\t* Aligns the contents of the overlay.\n\t*\n\t* * `left`\n\t*   Controls are aligned to the left\n\t* * `right`\n\t*   Controls are aligned to the left\n\t* * `start`\n\t*   Same as `left` for left-to-right languages and `right` for right-to-left languages\n\t* * `end`\n\t*   Same as `right` for left-to-right languages and `left` for right-to-left languages\n\t*\n\t* @name overlayAlign\n\t* @type {String}\n\t* @default undefined\n\t* @public\n\t*/\n\n\t/**\n\t* By default, the background of the overlay is black at 50% opacity. Setting this property to\n\t* `true` makes it transparent.\n\t*\n\t* @name overlayTransparent\n\t* @type {Boolean}\n\t* @default false\n\t* @public\n\t*/\n\n\t/**\n\t* Additional CSS classes that will be applied to the overlay container.\n\t*\n\t* @name overlayClasses\n\t* @type {String}\n\t* @default undefined\n\t* @public\n\t*/\n\n\t/**\n\t* @private\n\t*/\n\tcreate: kind.inherit(function (sup) {\n\t\treturn function () {\n\t\t\tsup.apply(this, arguments);\n\t\t\tthis.addClass('moon-overlay');\n\t\t\tthis.overlayShowing = utils.exists(this.overlayShowing) ? this.overlayShowing : false;\n\n\t\t\tthis.overlayComponentsChanged();\n\n\t\t\t// Property observers that map property changes to CSS classes\n\t\t\tthis.observe('overlayClasses', this.bindSafely(this.overlayPropertyToClass, mapClasses));\n\t\t\tthis.observe('overlayPosition', this.bindSafely(this.overlayPropertyToClass, mapPosition));\n\t\t\tthis.observe('overlayAlign', this.bindSafely(this.overlayPropertyToClass, mapAlign));\n\t\t\tthis.observe('overlayTransparent', this.bindSafely(this.overlayPropertyToClass, mapTransparent));\n\t\t\tthis.observe('overlayShowing', this.bindSafely(this.overlayPropertyToClass, mapShowing));\n\t\t};\n\t}),\n\n\t/**\n\t* @private\n\t*/\n\toverlayComponentsChanged: function () {\n\t\tif (!this.overlayComponents) {\n\t\t\tif (this.$.overlayContainer) this.$.overlayContainer.destroy();\n\t\t\treturn;\n\t\t}\n\n\t\tif (!this.$.overlayContainer) {\n\t\t\tvar classes = ['moon-overlay-container'];\n\t\t\tif (this.overlayClasses) classes.push(this.overlayClasses);\n\t\t\tif (this.overlayPosition) classes.push(mapPosition(this.overlayPosition));\n\t\t\tif (this.overlayAlign) classes.push(mapAlign(this.overlayAlign));\n\t\t\tif (this.overlayTransparent) classes.push(mapTransparent(this.overlayTransparent));\n\t\t\tif (this.overlayShowing) classes.push(mapShowing(this.overlayShowing));\n\n\t\t\tthis.createComponent({name: 'overlayContainer', classes: classes.join(' ')});\n\t\t}\n\n\t\t// wrapper should be owned by this but client controls should be owned by the instance owner\n\t\tthis.$.overlayContainer.createComponent({\n\t\t\tclasses: 'moon-overlay-component',\n\t\t\tcomponents: updateOwnership(this.overlayComponents, this.getInstanceOwner()),\n\t\t\towner: this\n\t\t});\n\t},\n\n\t/**\n\t* Observer that maps a property value to a CSS class and adds or removes it as necessary\n\t*\n\t* @private\n\t*/\n\toverlayPropertyToClass: function (map, was, is) {\n\t\tvar c = this.$.overlayContainer;\n\t\tif (c) {\n\t\t\tif (was) c.removeClass(map.call(this, was));\n\t\t\tif (is) c.addClass(map.call(this, is));\n\t\t}\n\t}\n};\n\n/**\n* Binding that expects an array of component configs which will be updated during transform to be\n* owned by the binding owner's instance owner.\n*\n* @class OverlayComponentsBinding\n* @public\n*/\nmodule.exports.ComponentsBinding = kind({\n\n\t/**\n\t* @private\n\t*/\n\tname: 'moon.OverlayComponentsBinding',\n\n\t/**\n\t* @private\n\t*/\n\tkind: Binding,\n\n\t/**\n\t* @private\n\t*/\n\ttransform: function (overlayComponents) {\n\t\treturn updateOwnership(overlayComponents, this.getInstanceOwner());\n\t}\n});\n\n/**\n* Adds observers for the known overlay properties which forward the property changes to the\n* contained control with {@link module:moonstone/Overlay~OverlaySupport} identified by\n* {@link module:moonstone/Overlay~OverlayContainerSupport#overlayTarget}\n*\n* @mixin OverlayContainerSupport\n* @public\n*/\nmodule.exports.Container = {\n\n\t/**\n\t* @private\n\t*/\n\tname: 'moon.OverlayContainerSupport',\n\n\t/**\n\t* Name of the contained control with {@link module:moonstone/Overlay~OverlaySupport}\n\t*\n\t* @name overlayTarget\n\t* @type {String}\n\t* @default undefined\n\t* @public\n\t*/\n\n\t/**\n\t* List of overlay properties to forward to this container's\n\t* {@link module:moonstone/Overlay~OverlayContainerSupport#overlayTarget}\n\t*\n\t* @private\n\t*/\n\toverlayPropertyBindings: [\n\t\t'overlayComponents',\n\t\t'overlayShowing',\n\t\t'overlayClasses',\n\t\t'overlayIcon',\n\t\t'overlayTitle',\n\t\t'overlaySubtitle',\n\t\t'overlayPosition',\n\t\t'overlayAlign',\n\t\t'overlayTransparent'\n\t],\n\n\t/**\n\t* @private\n\t*/\n\tcreate: kind.inherit(function (sup) {\n\t\treturn function () {\n\t\t\tvar i, prop;\n\t\t\tsup.apply(this, arguments);\n\n\t\t\tvar fn = this.bindSafely(forwardPropertyChange);\n\t\t\tfor (i = this.overlayPropertyBindings.length - 1; i >= 0; --i) {\n\t\t\t\tprop = this.overlayPropertyBindings[i];\n\t\t\t\tthis.observe(prop, fn);\n\t\t\t\tif (utils.exists(this[prop])) fn(null, this[prop], prop);\n\t\t\t}\n\t\t};\n\t})\n};\n\n/**\n* Sets the default configuration and components for selection overlay. Requires that the control to\n* which it is applied also apply {@link module:moonstone/Overlay~OverlaySupport} or contain a control that\n* applies {@link module:moonstone/Overlay~OverlayContainerSupport}.\n*\n* SelectionOverlaySupport adds the styling for a centered icon that can be shown when the `selected`\n* class is applied to the overlaid control.\n*\n* ```javascript\n* \tvar\n* \t\tkind = require('enyo/kind'),\n* \t\tIcon = require('moonstone/Icon'),\n* \t\tImage = require('moonstone/Image'),\n* \t\tOverlay = require('moonstone/Overlay');\n*\n* \t{kind: Image, src: 'moonstone/src/assets/movie.png', mixins: [Overlay.Support, Overlay.Selection],\n* \t\toverlayShowing: 'spotlight', overlayComponents: [\n*\t\t\t\t{kind: Icon, icon: 'check'}\n* \t\t]\n* \t}\n* ```\n*\n* @mixin SelectionOverlaySupport\n* @public\n*/\nmodule.exports.Selection = {\n\n\t/**\n\t* @private\n\t*/\n\tname: 'moon.SelectionOverlaySupport',\n\n\t/**\n\t* @private\n\t*/\n\toverlayClasses: 'moon-overlay-selection',\n\n\t/**\n\t* @private\n\t*/\n\t_selectionOverlay_Handlers: {\n\t\tonSpotlightFocused: '_selectionOverlay_spotlightFocused'\n\t},\n\n\t/**\n\t* @private\n\t*/\n\toverlayTransparent: true,\n\n\t/**\n\t* @private\n\t*/\n\toverlayPosition: 'centered',\n\n\t/**\n\t* Icon to be displayed when selected. May either be a URL to an image or the valid name of a\n\t* {@link module:moonstone/Icon~Icon#icon}.\n\t*\n\t* @name overlayIcon\n\t* @type {String}\n\t* @default undefined\n\t* @public\n\t*/\n\toverlayIcon: 'check',\n\n\t/**\n\t* @private\n\t*/\n\tbindings: [\n\t\t// to reduce API surface area, we'll only expose overlayIcon and map that to both src and\n\t\t// icon ensuring that only 1 is valued based on the presence of a `.` to indicate a URL\n\t\t{from: 'overlayIcon', to: '$.overlayIcon.icon', transform: function (icon) {\n\t\t\treturn (!icon || icon.indexOf('.') >= 0) ? null : icon;\n\t\t}},\n\t\t{from: 'overlayIcon', to: '$.overlayIcon.src', transform: function (icon) {\n\t\t\treturn (!icon || icon.indexOf('.') == -1) ? null : icon;\n\t\t}}\n\t],\n\n\t/**\n\t* @private\n\t*/\n\tcreate: kind.inherit(function (sup) {\n\t\treturn function () {\n\t\t\tthis.overlayComponents = this.overlayComponents || [\n\t\t\t\t{name: 'overlayIcon', kind: Icon, small: false, owner: this}\n\t\t\t];\n\t\t\tsup.apply(this, arguments);\n\t\t};\n\t}),\n\n\t// Accessibility\n\n\t/**\n\t* @private\n\t*/\n\tdispatchEvent: kind.inherit(function (sup) {\n\t\treturn function (sEventName, oEvent, oSender) {\n\t\t\tif (oEvent && !oEvent.delegate) {\n\t\t\t\tvar handler = this._selectionOverlay_Handlers[sEventName];\n\t\t\t\tif (handler) {\n\t\t\t\t\tthis[handler](oSender, oEvent);\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn sup.apply(this, arguments);\n\t\t};\n\t}),\n\n\t/**\n\t* @private\n\t*/\n\t_selectionOverlay_spotlightFocused: function() {\n\t\tif (this.$.overlayIcon && this.$.overlayIcon.getAbsoluteShowing()) {\n\t\t\tthis.set('accessibilityRole', 'checkbox');\n\t\t} else {\n\t\t\tthis.set('accessibilityRole', null);\n\t\t}\n\t},\n\n\t/**\n\t* @private\n\t*/\n\tariaObservers: [\n\t\t{from: 'selected', to: 'aria-checked'}\n\t]\n};\n\n/**\n* Sets the default configuration and components for fixed text overlay. Requires\n* that the control to which it is applied also apply {@link module:moonstone/Overlay~OverlaySupport}\n* or contain a control that does and applies {@link module:moonstone/Overlay~OverlayContainerSupport}.\n*\n* TextOverlaySupport styles controls with the `moon-overlay-text-title` and\n* `moon-overlay-text-subtitle` classes\n*\n* ```javascript\n* \tvar\n* \t\tkind = require('enyo/kind'),\n* \t\tImage = require('moonstone/Image'),\n* \t\tMarquee = require('moonstone/Marquee'),\n* \t\tOverlay = require('moonstone/Overlay);\n*\n* \t{kind: Image, src: 'moonstone/src/assets/movie.png', mixins: [Overlay.Support, Overlay.Selection],\n* \t\toverlayShowing: 'spotlight', overlayComponents: [\n*\t\t\t\t{kind: Marquee.Text, content: 'Title', classes: 'moon-overlay-text-title'},\n*\t\t\t\t{kind: Marquee.Text, content: '12', classes: 'moon-overlay-text-subtitle'}\n* \t\t]\n* \t}\n* ```\n*\n* @mixin TextOverlaySupport\n* @public\n*/\nmodule.exports.Text = {\n\n\t/**\n\t* @private\n\t*/\n\tname: 'moon.TextOverlaySupport',\n\n\t/**\n\t* @private\n\t*/\n\toverlayClasses: 'moon-overlay-text',\n\n\t/**\n\t* @private\n\t*/\n\toverlayPosition: 'centered',\n\n\t/**\n\t* Text to be displayed on top of the overlay with the `moon-overlay-text-title` class applied\n\t*\n\t* @name overlayTitle\n\t* @type {String}\n\t* @default undefined\n\t* @public\n\t*/\n\n\t/**\n\t* Text to be displayed on bottom of the overlay with the `moon-overlay-text-subtitle` class\n\t* applied\n\t*\n\t* @name overlaySubtitle\n\t* @type {String}\n\t* @default undefined\n\t* @public\n\t*/\n\n\t/**\n\t* @private\n\t*/\n\tbindings: [\n\t\t{from: 'overlayTitle', to: '$.overlayTitle.content'},\n\t\t{from: 'overlaySubtitle', to: '$.overlaySubtitle.content'}\n\t],\n\n\t/**\n\t* @private\n\t*/\n\tcreate: kind.inherit(function (sup) {\n\t\treturn function () {\n\t\t\tthis.overlayComponents = this.overlayComponents || [\n\t\t\t\t{name: 'overlayTitle', classes: 'moon-overlay-text-title', owner: this},\n\t\t\t\t{name: 'overlaySubtitle', classes: 'moon-overlay-text-subtitle', owner: this}\n\t\t\t];\n\t\t\tsup.apply(this, arguments);\n\t\t};\n\t})\n};\n\n\n/**\n* Sets the default configuration and components for marqueed text overlay.\n* Requires that the control to which it is applied also apply\n* {@link module:moonstone/Overlay~OverlaySupport} or contain a control that does\n* and applies {@link module:moonstone/Overlay~OverlayContainerSupport}.\n*\n* @mixin MarqueeOverlaySupport\n* @public\n*/\nmodule.exports.Marquee = {\n\n\t/**\n\t* @private\n\t*/\n\tname: 'moon.MarqueeOverlaySupport',\n\n\t/**\n\t* @private\n\t*/\n\toverlayClasses: 'moon-overlay-text',\n\n\t/**\n\t* @private\n\t*/\n\toverlayPosition: 'centered',\n\n\t/**\n\t* Text to be displayed on top of the overlay with the `moon-overlay-text-title` class applied\n\t*\n\t* @name overlayTitle\n\t* @type {String}\n\t* @default undefined\n\t* @public\n\t*/\n\n\t/**\n\t* Text to be displayed on bottom of the overlay with the `moon-overlay-text-subtitle` class\n\t* applied\n\t*\n\t* @name overlaySubtitle\n\t* @type {String}\n\t* @default undefined\n\t* @public\n\t*/\n\n\t/**\n\t* @private\n\t*/\n\tbindings: [\n\t\t{from: 'overlayTitle', to: '$.overlayTitle.content'},\n\t\t{from: 'overlaySubtitle', to: '$.overlaySubtitle.content'}\n\t],\n\n\t/**\n\t* @private\n\t*/\n\tcreate: kind.inherit(function (sup) {\n\t\treturn function () {\n\t\t\tthis.overlayComponents = this.overlayComponents || [\n\t\t\t\t{name: 'overlayTitle', kind: Marquee.Text, centered: true, classes: 'moon-overlay-text-title', owner: this},\n\t\t\t\t{name: 'overlaySubtitle', kind: Marquee.Text, centered: true, classes: 'moon-overlay-text-subtitle', owner: this}\n\t\t\t];\n\t\t\tsup.apply(this, arguments);\n\t\t};\n\t})\n};\n","require('moonstone');\n\n/**\n* Contains the declaration for the {@link module:moonstone/Spinner~Spinner} kind.\n* @module moonstone/Spinner\n*/\n\nvar\n\tkind = require('enyo/kind'),\n\tutil = require('enyo/utils'),\n\tControl = require('enyo/Control');\n\nvar\n\tMarquee = require('../Marquee'),\n\tMarqueeText = Marquee.Text,\n\tMarqueeSupport = Marquee.Support;\n\n/**\n* {@link module:moonstone/Spinner~Spinner} is a [control]{@link module:enyo/Control~Control}\n* that shows a spinning animation to indicate that activity is taking place. By\n* default, the spinner is light-colored and suitable for displaying against a\n* dark background. To get a dark spinner (to be shown on a lighter background),\n* apply the `moon-light` CSS class:\n*\n* ```javascript\n* \tvar\n* \t\tkind = require('enyo/kind'),\n* \t\tSpinner = require('moonstone/Spinner');\n*\n* \t// Normal\n* \t{kind: Spinner}\n* \t// Light\n* \t{kind: Spinner, classes: 'moon-light'}\n* \t// Normal with a message\n* \t{kind: Spinner, content: 'Loading...'}\n* \t// Transparent background\n* \t{kind: Spinner, transparent: true}\n* ```\n*\n* Typically, a spinner is shown to indicate activity and hidden to indicate that the activity\n* has ended. The animation automatically starts when the spinner is shown. If you wish, you\n* may control the animation directly by calling the [start()]{@link module:moonstone/Spinner~Spinner#start},\n* [stop()]{@link module:moonstone/Spinner~Spinner#stop}, and [toggle()]{@link module:moonstone/Spinner~Spinner#toggle} methods.\n*\n* `moonstone/Spinner` supports both `content` text and a `components` block. Note that you\n* may only use one of these at a time. Using a `components` block may be desirable if,\n* for example, the text in the content section needs [marquee]{@link module:moonstone/Marquee~MarqueeSupport}\n* functionality or you'd like to include an [icon]{@link module:moonstone/Icon~Icon} in the message.\n*\n* @class Spinner\n* @extends module:enyo/Control~Control\n* @ui\n* @public\n*/\nmodule.exports = kind(\n\t/** @lends module:moonstone/Spinner~Spinner.prototype */ {\n\n\t/**\n\t* @private\n\t*/\n\tname: 'moon.Spinner',\n\n\t/**\n\t* @private\n\t*/\n\tkind: Control,\n\n\t/**\n\t* @private\n\t*/\n\tclasses: 'moon-spinner',\n\n\t/**\n\t* Determines whether spinner's background is transparent.\n\t*\n\t* @type {Boolean}\n\t* @default false\n\t* @public\n\t*/\n\ttransparent: false,\n\n\t/**\n\t* Sets the spinner to be horizontally centered, relative to its containing control. Use in\n\t* combination with [moon/Spinner#center]{@link module:moonstone/Spinner~Spinner#middle} to center this spinner\n\t* both horizontally and vertically, or just horizontally.\n\t*\n\t* @type {Boolean}\n\t* @default false\n\t* @public\n\t*/\n\tcenter: false,\n\n\t/**\n\t* When `true`, sets the spinner to be vertically centered inside its container. This option\n\t* has no effect if [moon/Spinner#center]{@link module:moonstone/Spinner~Spinner#center} is `false`. Setting this\n\t* to false allows the spinner to only be horizontally centered, and not vertically centered.\n\t*\n\t* @type {Boolean}\n\t* @default true\n\t* @public\n\t*/\n\tmiddle: true,\n\n\t/**\n\t* @private\n\t*/\n\tcomponents: [\n\t\t{name: 'decorator', kind: Control, classes: 'moon-spinner-ball-decorator spin-ball-animation', components: [\n\t\t\t{kind: Control, classes: 'moon-spinner-ball moon-spinner-ball1'},\n\t\t\t{kind: Control, classes: 'moon-spinner-ball moon-spinner-ball2'},\n\t\t\t{kind: Control, classes: 'moon-spinner-ball moon-spinner-ball3'}\n\t\t]}\n\t],\n\n\t/**\n\t* @private\n\t*/\n\tspinnerTools: [\n\t\t{name: 'client', kind: Control, classes: 'moon-spinner-client'}\n\t],\n\n\t/**\n\t* @private\n\t*/\n\tinitComponents: function() {\n\t\tControl.prototype.initComponents.apply(this, arguments);\n\t\tthis.createTools();\n\t},\n\n\t/**\n\t* @private\n\t*/\n\tcreateTools: function() {\n\t\t// This allows for the spinner instances with child components to not have\n\t\t// MarqueeText kind on the client container.\n\t\tvar tools = util.clone(this.spinnerTools);\n\t\tif (!(this.components && this.components.length > 0)) {\n\t\t\t// If there are no components in the spinner, convert its client area to a MarqueeText kind\n\t\t\tutil.mixin(tools[0], {\n\t\t\t\tkind: MarqueeText,\n\t\t\t\tmixins: [MarqueeSupport],\n\t\t\t\tmarqueeOnSpotlight: false,\n\t\t\t\tmarqueeOnHover: true,\n\t\t\t\tmarqueeOnRender: true,\n\t\t\t\tmarqueeOnRenderDelay: 1000\n\t\t\t});\n\t\t}\n\t\tthis.createChrome(tools);\n\t},\n\n\t/**\n\t* @private\n\t*/\n\tcreate: function() {\n\t\tControl.prototype.create.apply(this, arguments);\n\t\tthis.contentChanged();\n\t\tthis.transparentChanged();\n\t\tthis.centerChanged();\n\t\tthis.middleChanged();\n\t\tthis.addClass('running');\n\t},\n\n\t/**\n\t* Hides the animating spinner.\n\t*\n\t* @public\n\t*/\n\tstop: function() {\n\t\tthis.set('showing', false);\n\t},\n\n\t/**\n\t* Shows the spinner with animation.\n\t*\n\t* @public\n\t*/\n\tstart: function() {\n\t\tthis.set('showing', true);\n\t},\n\n\t/**\n\t* Toggles the spinner's visibility state.\n\t*\n\t* @public\n\t*/\n\ttoggle: function() {\n\t\tthis.set('showing', !this.get('showing'));\n\t},\n\n\t/**\n\t* @private\n\t*/\n\thasContent: function() {\n\t\t// true if this.content is set to something OR if there are more than zero components\n\t\treturn (!!this.content || (this.components && this.components.length > 0));\n\t},\n\n\t/**\n\t* @private\n\t*/\n\tcontentChanged: function(old) {\n\t\tControl.prototype.contentChanged.apply(this, arguments);\n\t\tif (this.content || old) {\n\t\t\tthis.$.client.set('content', this.content);\n\t\t}\n\t\tthis.$.client.set('showing', !!this.content);\n\t\tthis.addRemoveClass('content', this.hasContent());\n\t},\n\n\t/**\n\t* @private\n\t*/\n\tcenterChanged: function(old) {\n\t\tthis.addRemoveClass('center',this.get('center'));\n\t},\n\n\t/**\n\t* @private\n\t*/\n\tmiddleChanged: function(old) {\n\t\tthis.addRemoveClass('middle',this.get('middle'));\n\t},\n\n\t/**\n\t* @private\n\t*/\n\ttransparentChanged: function() {\n\t\tthis.addRemoveClass('moon-spinner-transparent-background', !!this.get('transparent'));\n\t},\n\n\t// Accessibility\n\n\t/**\n\t* @default true\n\t* @type {Boolean}\n\t* @see enyo/AccessibilitySupport~AccessibilitySupport#accessibilityAlert\n\t* @public\n\t*/\n\taccessibilityAlert: true,\n\n\t/**\n\t* @default off\n\t* @type {String}\n\t* @see enyo/AccessibilitySupport~AccessibilitySupport#accessibilityLive\n\t* @public\n\t*/\n\taccessibilityLive: 'off'\n});\n","/**\n* Contains the declaration for the {@link module:moonstone/ChannelInfo~ChannelInfo} and\n* {@link module:moonstone/ChannelInfo~ChannelInfoBadge} kinds.\n* @module moonstone/ChannelInfo\n*/\n\nrequire('moonstone');\n\nvar\n\tkind = require('enyo/kind'),\n\tutil = require('enyo/utils'),\n\tControl = require('enyo/Control');\n\nvar\n\tMarquee = require('moonstone/Marquee'),\n\tMarqueeText = Marquee.Text,\n\tMarqueeSupport = Marquee.Support;\n\n\n/**\n* {@link module:moonstone/ChannelInfo~ChannelInfoBadge} is a simple kind used to display a badge\n* containing channel information. It is the default kind for components added\n* to {@link module:moonstone/ChannelInfo~ChannelInfo}.\n*\n* @class ChannelInfoBadge\n* @extends module:enyo/Control~Control\n* @ui\n* @public\n*/\nvar ChannelInfoBadge = kind(\n\t/** @lends module:moonstone/ChannelInfo~ChannelInfoBadge.prototype */ {\n\n\t/**\n\t* @private\n\t*/\n\tname: 'moon.ChannelInfoBadge',\n\n\t/**\n\t* @private\n\t*/\n\tkind: Control,\n\n\t/**\n\t* @private\n\t*/\n\tclasses: 'moon-video-badge-text channel-info-text-icon'\n});\n\n/**\n* {@link module:moonstone/ChannelInfo~ChannelInfo} is a control that displays channel information.  It is\n* designed to be used within the [infoComponents]{@link module:moonstone/VideoPlayer~VideoPlayer#infoComponents}\n* block of a {@link module:moonstone/VideoPlayer~VideoPlayer}.\n*\n* Example:\n* ```\n* var ChannelInfo = require('moonstone/ChannelInfo');\n*\n* {\n*\tkind: ChannelInfo,\n*\tno: 36,\n*\tname: 'AMC',\n*\tcomponents: [\n*\t\t{content: '3D'},\n*\t\t{content: 'Live'},\n*\t\t{content: 'REC 08:22', classes: 'redicon'}\n*\t]\n* }\n* ```\n*\n* @class ChannelInfo\n* @extends module:enyo/Control~Control\n* @mixes module:moonstone/MarqueeSupport~MarqueeSupport\n* @ui\n* @public\n*/\nmodule.exports = kind(\n\t/** @lends module:moonstone/ChannelInfo~ChannelInfo.prototype */ {\n\n\t/**\n\t* @private\n\t*/\n\tname: 'moon.ChannelInfo',\n\n\t/**\n\t* @private\n\t*/\n\tkind: Control,\n\n\t/**\n\t* @private\n\t*/\n\tclasses: 'moon-video-player-channel-info',\n\n\t/**\n\t* @private\n\t*/\n\tmixins: [MarqueeSupport],\n\n\t/**\n\t* @private\n\t*/\n\tmarqueeOnSpotlight: false,\n\n\t/**\n\t* @private\n\t*/\n\tmarqueeOnHover: true,\n\n\t/**\n\t* @private\n\t* @lends module:moonstone/ChannelInfo~ChannelInfo.prototype\n\t*/\n\tpublished: {\n\n\t\t/**\n\t\t* The channel number.\n\t\t*\n\t\t* @type {String}\n\t\t* @default ''\n\t\t* @public\n\t\t*/\n\t\tchannelNo: '',\n\n\t\t/**\n\t\t* The name of the channel.\n\t\t*\n\t\t* @type {String}\n\t\t* @default ''\n\t\t* @public\n\t\t*/\n\t\tchannelName: '',\n\n\t\t/**\n\t\t* A description of the channel.\n\t\t*\n\t\t* @type {String}\n\t\t* @default ''\n\t\t* @public\n\t\t*/\n\t\tchannelDesc: '',\n\n\t\t/**\n\t\t* A more detailed description of the channel.\n\t\t*\n\t\t* @type {String}\n\t\t* @default ''\n\t\t* @public\n\t\t*/\n\t\tchannelMoreDesc: '',\n\n\t\t/**\n\t\t* When `true`, [channelNo]{@link module:moonstone/ChannelInfo~ChannelInfo#channelNo} will have locale-safe\n\t\t* uppercasing applied.\n\t\t*\n\t\t* @type {Boolean}\n\t\t* @default true\n\t\t* @public\n\t\t*/\n\t\tuppercaseChannelNo: true,\n\n\t\t/**\n\t\t* @deprecated Replaced by [uppercaseChannelNo]{@link module:moonstone/ChannelInfo~ChannelInfo#uppercaseChannelNo}.\n\t\t*\n\t\t* Formerly defaulted to `true`, now defaults to `null` and will only have\n\t\t* an effect when explicitly set (for complete backward compatibility).\n\t\t*\n\t\t* @type {Boolean}\n\t\t* @default null\n\t\t* @public\n\t\t*/\n\t\tchannelNoUpperCase: null\n\t},\n\n\t/**\n\t* @private\n\t*/\n\tdefaultKind: ChannelInfoBadge,\n\n\t/**\n\t* @private\n\t*/\n\tcomponents: [\n\t\t{kind: MarqueeText, name: 'channelNo', classes: 'channel-info-number moon-header-font'},\n\t\t{kind: MarqueeText, name: 'channelName', classes: 'channel-info-text'},\n\t\t{kind: MarqueeText, name: 'channelDesc', classes: 'channel-info-text'},\n\t\t{kind: MarqueeText, name: 'channelMoreDesc', classes: 'channel-info-text'},\n\t\t{kind: Control, name: 'client', classes: 'channel-info-badges'}\n\t],\n\n\t/**\n\t* @private\n\t*/\n\tbindings: [\n\t\t{from: 'channelName', to: '$.channelName.content'},\n\t\t{from: 'channelDesc', to: '$.channelDesc.content'},\n\t\t{from: 'channelMoreDesc', to: '$.channelMoreDesc.content'}\n\t],\n\n\t/**\n\t* @private\n\t*/\n\tcreate: function () {\n\t\tControl.prototype.create.apply(this, arguments);\n\n\t\t// FIXME: Backwards-compatibility for deprecated property - can be removed when\n\t\t// the channelNoUpperCase property is fully deprecated and removed. The legacy\n\t\t// property takes precedence if it exists.\n\t\tif (this.channelNoUpperCase !== null) this.uppercaseChannelNo = this.channelNoUpperCase;\n\n\t\tthis.channelNoChanged();\n\t},\n\n\t/**\n\t* @private\n\t*/\n\tchannelNoChanged: function () {\n\t\tvar channelNo = this.getChannelNo();\n\t\tthis.$.channelNo.setContent(this.get('uppercaseChannelNo') ? util.toUpperCase(channelNo) : channelNo);\n\t},\n\n\t/**\n\t* @private\n\t*/\n\tuppercaseChannelNoChanged: function () {\n\t\t// FIXME: Backwards-compatibility for deprecated property - can be removed when\n\t\t// channelNoUpperCase is fully deprecated and removed.\n\t\tif (this.channelNoUpperCase != this.uppercaseChannelNo) this.channelNoUpperCase = this.uppercaseChannelNo;\n\t\tthis.channelNoChanged();\n\t},\n\n\t/**\n\t* @private\n\t*/\n\tchannelNoUpperCaseChanged: function () {\n\t\tif (this.uppercaseChannelNo != this.channelNoUpperCase) this.uppercaseChannelNo = this.channelNoUpperCase;\n\t\tthis.uppercaseChannelNoChanged();\n\t}\n});\n\n/**\n* The {@link module:moonstone/ChannelInfo~ChannelInfoBadge} definition\n*/\nmodule.exports.ChannelInfoBadge = ChannelInfoBadge;\n","require('moonstone');\n\n/**\n* Contains the declaration for the {@link module:moonstone/Item~Item} kind.\n* @module moonstone/Item\n*/\n\nvar\n\tkind = require('enyo/kind'),\n\tControl = require('enyo/Control');\n\nvar\n\tMarquee = require('../Marquee'),\n\tMarqueeSupport = Marquee.Support,\n\tMarqueeItem = Marquee.Item;\n\n/**\n* {@link module:moonstone/Item~Item} is a focusable Moonstone-styled control that can display\n* simple text or a set of controls.\n*\n* @class Item\n* @extends module:enyo/Control~Control\n* @mixes module:moonstone/MarqueeSupport~MarqueeSupport\n* @mixes module:moonstone/MarqueeItem~MarqueeItem\n* @ui\n* @public\n*/\nmodule.exports = kind(\n\t/** @lends module:moonstone/Item~Item.prototype */ {\n\n\t/**\n\t* @private\n\t*/\n\tname: 'moon.Item',\n\n\t/**\n\t* @private\n\t*/\n\tkind: Control,\n\n\t/**\n\t* @private\n\t*/\n\tclasses: 'moon-item',\n\n\t/**\n\t* @private\n\t*/\n\tmixins: [MarqueeSupport, MarqueeItem],\n\n\t/**\n\t* @private\n\t*/\n\tspotlight: true,\n\n\t/**\n\t* @private\n\t*/\n\thandlers: {\n\t\tonSpotlightFocused: 'spotlightFocused'\n\t},\n\n\t/**\n\t* @private\n\t* @lends module:moonstone/Item~Item.prototype\n\t*/\n\tpublished: {\n\n\t\t/**\n\t\t* If `true`, the control is shown as disabled and does not generate tap events.\n\t\t*\n\t\t* @type {Boolean}\n\t\t* @default false\n\t\t* @public\n\t\t*/\n\t\tdisabled: false\n\t},\n\n\t/**\n\t* @private\n\t*/\n\tcreate: function () {\n\t\tControl.prototype.create.apply(this, arguments);\n\t\tthis.disabledChanged();\n\t\tif (this.children.length) {\n\t\t\tthis.addClass('allow-wrap');\n\t\t}\n\t},\n\n\t/**\n\t* @private\n\t*/\n\tdisabledChanged: function (inOld) {\n\t\tthis.addRemoveClass('disabled', this.disabled);\n\t},\n\n\t/**\n\t* @fires module:moonstone/Scroller~Scroller#onRequestScrollIntoView\n\t* @private\n\t*/\n\tspotlightFocused: function (inSender, inEvent) {\n\t\tif (inEvent.originator === this) {\n\t\t\tthis.bubble('onRequestScrollIntoView');\n\t\t}\n\t},\n\n\t/**\n\t* @private\n\t*/\n\ttap: function () {\n\t\treturn this.disabled;\n\t}\n});\n","/**\n* Contains the declaration for the {@link module:moonstone/VideoInfoHeader~VideoInfoHeader} kind.\n* @module moonstone/VideoInfoHeader\n*/\n\nrequire('moonstone');\n\nvar\n\tkind = require('enyo/kind'),\n\tutil = require('enyo/utils'),\n\tri = require('enyo/resolution'),\n\tControl = require('enyo/Control'),\n\tImg = require('enyo/Image');\n\nvar\n\tMarquee = require('moonstone/Marquee'),\n\tMarqueeText = Marquee.Text,\n\tMarqueeSupport = Marquee.Support;\n\n/**\n* {@link module:moonstone/VideoInfoHeader~VideoInfoHeader} is a [control]{@link module:enyo/Control~Control} that displays\n* various information about a video. It is designed to be used within the\n* [infoComponents]{@link module:moonstone/VideoPlayer~VideoPlayer#infoComponents} block of a {@link module:moonstone/VideoPlayer~VideoPlayer}.\n*\n* Example:\n* ```javascript\n* var\n*\tVideoInfoHeader = require('moonstone/VideoInfoHeader');\n*\n* {\n*\t\tkind: VideoInfoHeader,\n*\t\ttitle: 'Breaking Bad - Live Free Or Die',\n*\tdescription: 'As Walt deals with the aftermath of the Casa Tranquila explosion, '\n*\t\t\t+ 'Hank works to wrap up his investigation of Gus\\' empire.',\n*\tcomponents: [\n*\t\t\t{content: '3D'},\n*\t\t\t{content: 'Live'}\n*\t]\n* }\n* ```\n*\n* @class VideoInfoHeader\n* @extends module:enyo/Control~Control\n* @mixes module:moonstone/MarqueeSupport~MarqueeSupport\n* @ui\n* @public\n*/\nmodule.exports = kind(\n\t/** @lends module:moonstone/VideoInfoHeader~VideoInfoHeader.prototype */ {\n\n\t/**\n\t* @private\n\t*/\n\tname: 'moon.VideoInfoHeader',\n\n\t/**\n\t* @private\n\t*/\n\tkind: Control,\n\n\t/**\n\t* @private\n\t*/\n\tclasses: 'moon-video-player-info-header',\n\n\t/**\n\t* @private\n\t*/\n\tmixins: [MarqueeSupport],\n\n\t/**\n\t* @private\n\t*/\n\tmarqueeOnSpotlight: false,\n\n\t/**\n\t* @private\n\t*/\n\tmarqueeOnRender: true,\n\n\t/**\n\t* @private\n\t* @lends module:moonstone/VideoInfoHeader~VideoInfoHeader.prototype\n\t*/\n\tpublished: {\n\n\t\t/**\n\t\t* Title of the `VideoInfoHeader`.\n\t\t*\n\t\t* @type {String}\n\t\t* @default ''\n\t\t* @public\n\t\t*/\n\t\ttitle: '',\n\n\t\t/**\n\t\t* Main content of the `VideoInfoHeader`.\n\t\t*\n\t\t* @type {String}\n\t\t* @default ''\n\t\t* @public\n\t\t*/\n\t\tdescription: '',\n\n\t\t/**\n\t\t* When `true`, the title text will have locale-safe uppercasing applied.\n\t\t*\n\t\t* @type {Boolean}\n\t\t* @default true\n\t\t* @public\n\t\t*/\n\t\tuppercase: true,\n\n\t\t/**\n\t\t* @deprecated Replaced by [uppercase]{@link module:moonstone/VideoInfoHeader~VideoInfoHeader#uppercase}.\n\t\t*\n\t\t* Formerly defaulted to `true`, now defaults to `null` and will only have\n\t\t* an effect when explicitly set (for complete backward compatibility).\n\t\t*\n\t\t* @type {Boolean}\n\t\t* @default null\n\t\t* @public\n\t\t*/\n\t\ttitleUpperCase: null,\n\n\t\t/**\n\t\t* URL of image file.\n\t\t*\n\t\t* @type {String}\n\t\t* @default null\n\t\t* @public\n\t\t*/\n\t\tsrc: null\n\t},\n\n\t/**\n\t* @private\n\t*/\n\tcomponents: [\n\t\t{name: 'videoInfoText', classes: 'info-header-text', components :[\n\t\t\t{kind: MarqueeText, name: 'title', classes: 'info-header-title'},\n\t\t\t{name: 'description', classes: 'info-header-description'}\n\t\t]}\n\t],\n\n\t/**\n\t* @private\n\t*/\n\tbindings: [\n\t\t{from: 'description', to: '$.description.content'}\n\t],\n\n\t/**\n\t* @private\n\t*/\n\tcreate: function() {\n\t\tControl.prototype.create.apply(this, arguments);\n\n\t\t// FIXME: Backwards-compatibility for deprecated property - can be removed when\n\t\t// the contentUpperCase property is fully deprecated and removed. The legacy\n\t\t// property takes precedence if it exists.\n\t\tif (this.titleUpperCase !== null) { this.uppercase = this.titleUpperCase; }\n\t\tthis.srcChanged();\n\t\tthis.titleChanged();\n\t},\n\n\t/**\n\t* @private\n\t*/\n\ttitleChanged: function() {\n\t\tthis.$.title.set('content', this.get('uppercase') ? util.toUpperCase(this.get('title')) : this.get('title') );\n\t},\n\n\t/**\n\t* @private\n\t*/\n\tuppercaseChanged: function() {\n\t\t// FIXME: Backwards-compatibility for deprecated property - can be removed when\n\t\t// titleUpperCase is fully deprecated and removed.\n\t\tif (this.titleUpperCase != this.uppercase) { this.titleUpperCase = this.uppercase; }\n\t\tthis.titleChanged();\n\t},\n\n\t/**\n\t* @private\n\t*/\n\ttitleUpperCaseChanged: function() {\n\t\tif (this.uppercase != this.titleUpperCase) { this.uppercase = this.titleUpperCase; }\n\t\tthis.uppercaseChanged();\n\t},\n\n\t/**\n\t* @private\n\t*/\n\tsrcChanged: function() {\n\t\tvar img = this.$.videoInfoImage;\n\n\t\tif (this.src) {\n\t\t\tif (img) {\n\t\t\t\timg.set('src', this.src);\n\t\t\t} else {\n\t\t\t\timg = this.createComponent({\n\t\t\t\t\tname: 'videoInfoImage',\n\t\t\t\t\tkind: Img,\n\t\t\t\t\tclasses: 'info-header-image',\n\t\t\t\t\tsrc: this.src,\n\t\t\t\t\tsizing: 'contain',\n\t\t\t\t\tstyle: util.format('width: %.px; height: %.px', ri.scale(96), ri.scale(96)),\n\t\t\t\t\taddBefore: this.$.videoInfoText\n\t\t\t\t});\n\t\t\t\tif (this.generated) {\n\t\t\t\t\timg.render();\n\t\t\t\t}\n\t\t\t}\n\t\t} else if (img) {\n\t\t\timg.destroy();\n\t\t}\n\t}\n});\n","require('moonstone');\n\n/**\n* Contains the declaration for the {@link module:moonstone/Divider~Divider} kind.\n* @module moonstone/Divider\n*/\n\nvar\n\tkind = require('enyo/kind'),\n\tutils = require('enyo/utils'),\n\tControl = require('enyo/Control');\n\nvar\n\tMarquee = require('../Marquee'),\n\tMarqueeItem = Marquee.Item,\n\tMarqueeSupport = Marquee.Support;\n\n/**\n* {@link module:moonstone/Divider~Divider} is a simply styled component that may be used as a separator\n* between groups of components.\n*\n* @class Divider\n* @mixes module:moonstone/MarqueeSupport~MarqueeSupport\n* @mixes module:moonstone/MarqueeItem~MarqueeItem\n* @ui\n* @public\n*/\nmodule.exports = kind(\n\t/** @lends module:moonstone/Divider~Divider.prototype */ {\n\n\t/**\n\t* @private\n\t*/\n\tname: 'moon.Divider',\n\n\t/**\n\t* @private\n\t*/\n\tkind: Control,\n\n\t/**\n\t* @private\n\t*/\n\tclasses: 'moon-divider moon-divider-text',\n\n\t/**\n\t* @private\n\t*/\n\tmixins: [MarqueeSupport, MarqueeItem],\n\n\t/**\n\t* @private\n\t*/\n\tmarqueeOnSpotlight: false,\n\n\t/**\n\t* @private\n\t*/\n\tmarqueeOnRender: true,\n\n\t/**\n\t* @private\n\t*/\n\tcontentChanged: function () {\n\t\tthis.content = this.content.split(' ').map(utils.cap).join(' ');\n\t\tControl.prototype.contentChanged.apply(this, arguments);\n\t}\n});\n","require('moonstone');\n\n/**\n* Contains the declaration for the {@link module:moonstone/Header~Header} kind.\n* @module moonstone/Header\n*/\n\nvar\n\tkind = require('enyo/kind'),\n\tdom = require('enyo/dom'),\n\tri = require('enyo/resolution'),\n\tutil = require('enyo/utils'),\n\tControl = require('enyo/Control');\n\nvar\n\tInput = require('../Input'),\n\tInputDecorator = require('../InputDecorator'),\n\tStyleAnimator = require('../StyleAnimator'),\n\tMarquee = require('../Marquee'),\n\tMarqueeSupport = Marquee.Support,\n\tMarqueeText = Marquee.Text;\n\nvar _delayedMeasurementFinished;\n\n/**\n* Custom input event to allow apps to distinguish header inputs from regular inputs.\n*\n* @event module:moonstone/Header~Header#onInputHeaderInput\n* @type {Object}\n* @property {Object} originalEvent - The original event fired from the input. See\n*\t{@link module:enyo/Input~Input#oninput} for more event information.\n* @public\n*/\n\n/**\n* Custom input change event to allow apps to distinguish header input changes from\n* regular input changes.\n*\n* @event module:moonstone/Header~Header#onInputHeaderChange\n* @type {Object}\n* @property {Object} originalEvent - The original event fired from the input. See\n*\t{@link module:enyo/Input~Input#onchange} for more event information.\n* @public\n*/\n\n/**\n* {@link module:moonstone/Header~Header} is a Moonstone-styled control with a large title and an area for\n* additional controls.\n*\n* @class Header\n* @extends module:enyo/Control~Control\n* @mixes module:moonstone/MarqueeSupport~MarqueeSupport\n* @ui\n* @public\n*/\nmodule.exports = kind(\n\t/** @lends module:moonstone/Header~Header.prototype */ {\n\n\t/**\n\t* @private\n\t*/\n\tname: 'moon.Header',\n\n\t/**\n\t* @private\n\t*/\n\tkind: Control,\n\n\t/**\n\t* @private\n\t*/\n\tclasses: 'moon-header',\n\n\t/**\n\t* @private\n\t* @lends module:moonstone/Header~Header.prototype\n\t*/\n\tpublished: {\n\n\t\t/**\n\t\t* Title of the header.\n\t\t*\n\t\t* @type {String}\n\t\t* @default ''\n\t\t* @public\n\t\t*/\n\t\ttitle: '',\n\n\t\t/**\n\t\t* Text above the header.\n\t\t*\n\t\t* @type {String}\n\t\t* @default ''\n\t\t* @public\n\t\t*/\n\t\ttitleAbove: '',\n\n\t\t/**\n\t\t* Text below the header.\n\t\t*\n\t\t* @type {String}\n\t\t* @default ''\n\t\t* @public\n\t\t*/\n\t\ttitleBelow: '',\n\n\t\t/**\n\t\t* Sub-text below the header.\n\t\t*\n\t\t* @type {String}\n\t\t* @default ''\n\t\t* @public\n\t\t*/\n\t\tsubTitleBelow: '',\n\n\t\t/**\n\t\t* Size of the header, for styling purposes. Will be one of `'large'` (the default),\n\t\t* `'medium'`, or `'small'`. If `'large'`, the `moon-header` CSS class will be applied\n\t\t* to this header; if `'medium'`, the `moon-medium-header` class will be applied; if\n\t\t* `'small'`, the `moon-small-header` class will be applied.\n\t\t*\n\t\t* @type {String}\n\t\t* @default 'large'\n\t\t* @public\n\t\t*/\n\t\ttype: 'large',\n\n\t\t/**\n\t\t* If `true`, the `moon-medium-header` CSS class will be applied to this header.\n\t\t*\n\t\t* Note that this property will be deprecated soon. For now, it is being left in\n\t\t* for backward compatibility. Until it is removed, `small: true` refers to the\n\t\t* historical header size, which is now equivalent to `type: 'medium'`.\n\t\t*\n\t\t* @type {Boolean}\n\t\t* @default false\n\t\t* @public\n\t\t*/\n\t\tsmall: false,\n\n\t\t/**\n\t\t* URL(s) of background image(s).\n\t\t* This may be a string referring a single background image, or an array of strings\n\t\t* referring to multiple background images. To support multiple background images at\n\t\t* multiple resolutions, this property accepts data in several formats:\n\t\t*\n\t\t* 1. A string `src` value\n\t\t* 2. An array of string `src` values\n\t\t* 3. A [multi-resolution hash]{@link module:enyo/resolution#selectSrc~src}\n\t\t* 4. An array of [multi-resolution hashes]{@link module:enyo/resolution#selectSrc~src}\n\t\t*\n\t\t* @type {(String|String[]|module:enyo/resolution#selectSrc~src|module:enyo/resolution#selectSrc~src[])}\n\t\t* @default null\n\t\t* @public\n\t\t*/\n\t\tbackgroundSrc: null,\n\n\t\t/**\n\t\t* Position of background image, defined as a string of the form\n\t\t* `'<vertical> <horizontal>'`, with a space separating the `<vertical>`\n\t\t* and `<horizontal>` values (e.g., `'top right'`). If no second property\n\t\t* is specified, the `<horizontal>` value will default to `'right'`. As\n\t\t* with [backgroundSrc]{@link module:moonstone/Header~Header#backgroundSrc}, an array of strings\n\t\t* may be supplied to position multiple background images. The order of items\n\t\t* should be the same as in `backgroundSrc`.\n\t\t*\n\t\t* @type {(String|String[])}\n\t\t* @default 'top right'\n\t\t* @public\n\t\t*/\n\t\tbackgroundPosition: 'top right',\n\n\t\t/**\n\t\t* When using a full-bleed background image, set this property to `true` to indent\n\t\t* the header text/controls and remove the header lines.\n\t\t*\n\t\t* @type {Boolean}\n\t\t* @default false\n\t\t* @public\n\t\t*/\n\t\tfullBleedBackground: false,\n\n\t\t/**\n\t\t* If `true`, title will be an input.\n\t\t*\n\t\t* @type {Boolean}\n\t\t* @default false\n\t\t* @public\n\t\t*/\n\t\tinputMode: false,\n\n\t\t/**\n\t\t* When `true`, input will be blurred on Enter keypress, if it was previously\n\t\t* focused.\n\t\t*\n\t\t* @type {Boolean}\n\t\t* @default false\n\t\t* @public\n\t\t*/\n\t\tdismissOnEnter: false,\n\n\t\t/**\n\t\t* Text to display when the input is empty.\n\t\t*\n\t\t* @type {String}\n\t\t* @default ''\n\t\t* @public\n\t\t*/\n\t\tplaceholder: '',\n\n\t\t/**\n\t\t* The value of the input.\n\t\t*\n\t\t* @type {String}\n\t\t* @default ''\n\t\t* @public\n\t\t*/\n\t\tvalue: '',\n\n\t\t/**\n\t\t* When `true`, the title text will have locale-safe uppercasing applied.\n\t\t*\n\t\t* @type {Boolean}\n\t\t* @default true\n\t\t* @public\n\t\t*/\n\t\tuppercase: true,\n\n\t\t/**\n\t\t* @deprecated Replaced by [uppercase]{@link module:moonstone/Header~Header#uppercase}.\n\t\t*\n\t\t* Formerly defaulted to `true`, now defaults to `null` and will only have\n\t\t* an effect when explicitly set (for complete backward compatibility).\n\t\t*\n\t\t* @type {Boolean}\n\t\t* @default null\n\t\t* @public\n\t\t*/\n\t\ttitleUpperCase: null\n\t},\n\n\t/**\n\t* @private\n\t*/\n\tmixins: [MarqueeSupport],\n\n\t/**\n\t* @private\n\t*/\n\tmarqueeOnSpotlight: false,\n\n\t/**\n\t* @private\n\t*/\n\tmarqueeOnHover: true,\n\n\t/**\n\t* @private\n\t*/\n\tmarqueeOnRender: true,\n\n\t/**\n\t* @private\n\t*/\n\tmarqueeOnRenderDelay: 10000,\n\n\t/**\n\t* Described in .moon-header class\n\t*\n\t* @private\n\t*/\n\tstandardHeight: 360,\n\n\t/**\n\t* @private\n\t*/\n\thandlers: {\n\t\toninput: 'handleInput',\n\t\tonchange: 'handleChange'\n\t},\n\n\t/**\n\t* @private\n\t*/\n\tevents: {\n\n\t\t/**\n\t\t* Custom input event to allow apps to distinguish header inputs from regular inputs.\n\t\t*/\n\t\tonInputHeaderInput: '',\n\n\t\t/**\n\t\t* Custom input change event to allow apps to distinguish header input changes from\n\t\t* regular input changes.\n\t\t*/\n\t\tonInputHeaderChange: ''\n\t},\n\n\t/**\n\t* @private\n\t*/\n\tcomponents: [\n\t\t{name: 'titleAbove', kind: Control, classes: 'moon-super-header-text moon-header-title-above'},\n\t\t{name: 'titleWrapper', kind: Control, classes: 'moon-header-title-wrapper', components: [\n\t\t\t{name: 'title', kind: MarqueeText, classes: 'moon-header-text moon-header-title', canGenerate: false},\n\t\t\t{name: 'inputDecorator', kind: InputDecorator, classes: 'moon-input-header-input-decorator',canGenerate: false, components: [\n\t\t\t\t{name: 'titleInput', kind: Input, classes: 'moon-header-text moon-header-title'}\n\t\t\t]}\n\t\t]},\n\t\t{name: 'titleBelow', kind: MarqueeText, classes: 'moon-sub-header-text moon-header-title-below'},\n\t\t{name: 'subTitleBelow', kind: MarqueeText, classes: 'moon-sub-header-text moon-header-sub-title-below'},\n\t\t{name: 'client', kind: Control, classes: 'moon-hspacing moon-header-client'},\n\t\t{name: 'animator', kind: StyleAnimator, onComplete: 'animationComplete'}\n\t],\n\n\t/**\n\t* @private\n\t*/\n\tbindings: [\n\t\t{from: '.value', to: '.$.titleInput.value', oneWay: false},\n\t\t{from: '.dismissOnEnter', to: '.$.titleInput.dismissOnEnter'}\n\t],\n\n\t/**\n\t* @private\n\t*/\n\tcreate: function () {\n\t\tthis.inherited(arguments);\n\n\t\t// FIXME: Backwards-compatibility for deprecated property - can be removed when\n\t\t// the titleUpperCase property is fully deprecated and removed. The legacy\n\t\t// property takes precedence if it exists.\n\t\tif (this.titleUpperCase !== null) this.uppercase = this.titleUpperCase;\n\n\t\t// Note: This smallchanged() line will be deprecated soon. For backward compatiblity, I leave it for a\n\t\t// while.\n\t\tthis.smallChanged();\n\t\tthis.typeChanged();\n\t\tthis.titleChanged();\n\t\tthis.titleAboveChanged();\n\t\tthis.titleBelowChanged();\n\t\tthis.subTitleBelowChanged();\n\t\tthis.allowHtmlChanged();\n\t\tthis.backgroundSrcChanged();\n\t\tthis.backgroundPositionChanged();\n\t\tthis.inputModeChanged();\n\t\tthis.placeholderChanged();\n\t\tthis.fullBleedBackgroundChanged();\n\t},\n\n\trendered: function() {\n\t\tthis.inherited(arguments);\n\t\t// At the first render, the fonts may not have finished loading yet. We delay the first\n\t\t// time using an async method, and set a flag so we know the deed is done at subsequent calls.\n\t\tif (_delayedMeasurementFinished) {\n\t\t\tthis.adjustTitleWidth();\n\t\t} else {\n\t\t\tutil.asyncMethod(this, function () {\n\t\t\t\tthis.adjustTitleWidth();\n\t\t\t\t_delayedMeasurementFinished = true;\n\t\t\t});\n\t\t}\n\t},\n\n\t/**\n\t* @private\n\t*/\n\tallowHtmlChanged: function () {\n\t\tthis.$.title.setAllowHtml( this.get('type') == 'small' ? true : this.allowHtml );\n\t\tthis.$.titleBelow.setAllowHtml(this.allowHtml);\n\t\tthis.$.subTitleBelow.setAllowHtml(this.allowHtml);\n\t},\n\n\t/**\n\t* @private\n\t*/\n\tbackgroundSrcChanged: function () {\n\t\tvar bgs = (util.isArray(this.backgroundSrc)) ? this.backgroundSrc : [this.backgroundSrc];\n\t\tbgs = util.map(bgs, this.bindSafely(function (inBackgroundSource) {\n\t\t\t\treturn inBackgroundSource ? 'url(' + ri.selectSrc(inBackgroundSource) + ')' : null;\n\t\t\t}));\n\t\tthis.applyStyle('background-image', (bgs.length) ? bgs.join(', ') : null);\n\t},\n\n\t/**\n\t* @private\n\t*/\n\tbackgroundPositionChanged: function () {\n\t\tvar bgp = this.backgroundPosition;\n\t\tif (util.isArray(bgp)) {\n\t\t\tbgp = (bgp.length) ? bgp.join(', ') : null;\n\t\t}\n\t\t// If `this.backgroundPosition` is set explicitly to inherit or initial, apply that\n\t\t// instead of assuming a position.\n\t\tif (bgp == 'inherit' || bgp == 'initial') {\n\t\t\tthis.applyStyle('background-position', bgp);\n\t\t\treturn;\n\t\t}\n\t\tvar posArray = bgp && bgp.split(' ') || [],\n\t\t\tposStr = (posArray.length === 0) ? 'top right'\n\t\t\t\t\t: (posArray.length === 1) ? posArray[0] + ' right' : bgp;\n\t\tthis.applyStyle('background-position', posStr);\n\t},\n\n\t/**\n\t* @private\n\t*/\n\tfullBleedBackgroundChanged: function () {\n\t\tthis.addRemoveClass('full-bleed', this.fullBleedBackground);\n\t},\n\n\t/**\n\t* Collapses the drawer, hiding its contents.\n\t*\n\t* @public\n\t*/\n\tcollapseToSmall: function () {\n\t\tif (this.collapsed) {\n\t\t\treturn;\n\t\t}\n\n\t\tvar myStyle = dom.getComputedStyle(this.hasNode());\n\t\tvar titleWrapperStyle = dom.getComputedStyle(this.$.titleWrapper.hasNode());\n\t\tvar titleBelowStyle = dom.getComputedStyle(this.$.titleBelow.hasNode());\n\t\tvar subTitleBelowStyle = dom.getComputedStyle(this.$.subTitleBelow.hasNode());\n\t\tvar titleAboveStyle = dom.getComputedStyle(this.$.titleAbove.hasNode());\n\n\t\t// TODO - animator should track initial positions so we don't have to store these if we\n\t\t// want to reverse the animation\n\t\tthis.smallAnimProps = {\n\t\t\t'height': myStyle['height']\n\t\t};\n\t\tthis.$.titleWrapper.smallAnimProps = {\n\t\t\t'padding-left': titleWrapperStyle['padding-left'],\n\t\t\t'top': titleWrapperStyle['top']\n\t\t};\n\t\tthis.$.title.smallAnimProps = {};\n\t\tthis.$.titleAbove.smallAnimProps = {\n\t\t\t'height': titleAboveStyle['height'],\n\t\t\t'opacity': titleAboveStyle['opacity']\n\t\t};\n\t\tthis.$.titleBelow.smallAnimProps = {\n\t\t\t'top': titleBelowStyle['top']\n\t\t};\n\t\tthis.$.subTitleBelow.smallAnimProps = {\n\t\t\t'top': subTitleBelowStyle['top']\n\t\t};\n\n\t\tthis.$.animator.newAnimation({\n\t\t\tname: 'collapseToSmall',\n\t\t\tduration: 200,\n\t\t\ttimingFunction: 'linear',\n\t\t\tkeyframes: {\n\t\t\t\t0: [{\n\t\t\t\t\tcontrol: this,\n\t\t\t\t\tproperties: {\n\t\t\t\t\t\t'height': 'current'\n\t\t\t\t\t}\n\t\t\t\t}, {\n\t\t\t\t\tcontrol: this.$.titleWrapper,\n\t\t\t\t\tproperties: {\n\t\t\t\t\t\t'padding-left': 'current',\n\t\t\t\t\t\t'top': 'current'\n\t\t\t\t\t}\n\t\t\t\t}, {\n\t\t\t\t\tcontrol: this.$.titleAbove,\n\t\t\t\t\tproperties: {\n\t\t\t\t\t\t'height': 'current',\n\t\t\t\t\t\t'opacity': 'current',\n\t\t\t\t\t\t'margin-top': 'current'\n\t\t\t\t\t}\n\t\t\t\t}, {\n\t\t\t\t\tcontrol: this.$.title,\n\t\t\t\t\tproperties: {}\n\t\t\t\t}, {\n\t\t\t\t\tcontrol: this.$.titleBelow,\n\t\t\t\t\tproperties: {\n\t\t\t\t\t\t'top': 'current'\n\t\t\t\t\t}\n\t\t\t\t}, {\n\t\t\t\t\tcontrol: this.$.subTitleBelow,\n\t\t\t\t\tproperties: {\n\t\t\t\t\t\t'top': 'current'\n\t\t\t\t\t}\n\t\t\t\t}],\n\t\t\t\t70: [],\n\t\t\t\t100: [{\n\t\t\t\t\tcontrol: this,\n\t\t\t\t\tproperties: {\n\t\t\t\t\t\t'height': dom.unit(ri.scale(260), 'rem')\n\t\t\t\t\t}\n\t\t\t\t}, {\n\t\t\t\t\tcontrol: this.$.titleWrapper,\n\t\t\t\t\tproperties: {}\n\t\t\t\t}, {\n\t\t\t\t\tcontrol: this.$.titleAbove,\n\t\t\t\t\tproperties: {\n\t\t\t\t\t\t'height': 0,\n\t\t\t\t\t\t'opacity': 0,\n\t\t\t\t\t\t'margin-top': 0\n\t\t\t\t\t}\n\t\t\t\t}, {\n\t\t\t\t\tcontrol: this.$.title,\n\t\t\t\t\tproperties: {}\n\t\t\t\t}, {\n\t\t\t\t\tcontrol: this.$.titleBelow,\n\t\t\t\t\tproperties: {}\n\t\t\t\t}, {\n\t\t\t\t\tcontrol: this.$.subTitleBelow,\n\t\t\t\t\tproperties: {}\n\t\t\t\t}]\n\n\t\t\t}\n\t\t});\n\t\tthis.$.animator.play('collapseToSmall');\n\t\tthis.collapsed = true;\n\t},\n\n\t/**\n\t* Expands the drawer, showing its contents.\n\t*\n\t* @public\n\t*/\n\texpandToLarge: function () {\n\t\tif (!this.collapsed) {\n\t\t\treturn;\n\t\t}\n\n\t\tthis.$.animator.newAnimation({\n\t\t\tname: 'expandToLarge',\n\t\t\tduration: 200,\n\t\t\ttimingFunction: 'linear',\n\t\t\tkeyframes: {\n\t\t\t\t0: [{\n\t\t\t\t\tcontrol: this,\n\t\t\t\t\tproperties: {\n\t\t\t\t\t\t'height': 'current'\n\t\t\t\t\t}\n\t\t\t\t}, {\n\t\t\t\t\tcontrol: this.$.titleWrapper,\n\t\t\t\t\tproperties: {\n\t\t\t\t\t\t'padding-left': 'current',\n\t\t\t\t\t\t'top': 'current'\n\t\t\t\t\t}\n\t\t\t\t}, {\n\t\t\t\t\tcontrol: this.$.titleAbove,\n\t\t\t\t\tproperties: {\n\t\t\t\t\t\t'height': 'current',\n\t\t\t\t\t\t'opacity': 'current',\n\t\t\t\t\t\t'margin-top': 'current'\n\t\t\t\t\t}\n\t\t\t\t}, {\n\t\t\t\t\tcontrol: this.$.title,\n\t\t\t\t\tproperties: {}\n\t\t\t\t}, {\n\t\t\t\t\tcontrol: this.$.titleBelow,\n\t\t\t\t\tproperties: {\n\t\t\t\t\t\t'top': 'current'\n\t\t\t\t\t}\n\t\t\t\t}, {\n\t\t\t\t\tcontrol: this.$.subTitleBelow,\n\t\t\t\t\tproperties: {\n\t\t\t\t\t\t'top': 'current'\n\t\t\t\t\t}\n\t\t\t\t}],\n\t\t\t\t30: [],\n\t\t\t\t100: [{\n\t\t\t\t\tcontrol: this,\n\t\t\t\t\tproperties: {\n\t\t\t\t\t\t'height': this.smallAnimProps.height\n\t\t\t\t\t}\n\t\t\t\t}, {\n\t\t\t\t\tcontrol: this.$.titleWrapper,\n\t\t\t\t\tproperties: {\n\t\t\t\t\t\t'padding-left': this.$.titleWrapper.smallAnimProps['padding-left'],\n\t\t\t\t\t\t'top': this.$.titleWrapper.smallAnimProps['top']\n\t\t\t\t\t}\n\t\t\t\t}, {\n\t\t\t\t\tcontrol: this.$.titleAbove,\n\t\t\t\t\tproperties: {\n\t\t\t\t\t\t'height': this.$.titleAbove.smallAnimProps['height'],\n\t\t\t\t\t\t'opacity': this.$.titleAbove.smallAnimProps['opacity'],\n\t\t\t\t\t\t'margin-top': this.$.titleAbove.smallAnimProps['margin-top']\n\t\t\t\t\t}\n\t\t\t\t}, {\n\t\t\t\t\tcontrol: this.$.title,\n\t\t\t\t\tproperties: {}\n\t\t\t\t}, {\n\t\t\t\t\tcontrol: this.$.titleBelow,\n\t\t\t\t\tproperties: {\n\t\t\t\t\t\t'top': this.$.titleBelow.smallAnimProps['top']\n\t\t\t\t\t}\n\t\t\t\t}, {\n\t\t\t\t\tcontrol: this.$.subTitleBelow,\n\t\t\t\t\tproperties: {\n\t\t\t\t\t\t'top': this.$.subTitleBelow.smallAnimProps['top']\n\t\t\t\t\t}\n\t\t\t\t}]\n\t\t\t}\n\t\t});\n\t\tthis.$.animator.play('expandToLarge');\n\t\tthis.collapsed = false;\n\t},\n\n\t/**\n\t* @private\n\t*/\n\ttypeChanged: function () {\n\t\tthis.addRemoveClass('moon-large-header', this.get('type') == 'large');\n\t\tthis.addRemoveClass('moon-medium-header', this.get('type') == 'medium');\n\t\tthis.addRemoveClass('moon-small-header', this.get('type') == 'small');\n\t\tthis.contentChanged();\n\t\tif (this.generated) this.adjustTitleWidth();\n\t},\n\n\t/**\n\t* @private\n\t*/\n\tvalueChanged: function () {\n\t\tthis.$.titleInput.detectTextDirectionality((this.$.titleInput.value || this.$.titleInput.value === 0 || this.$.titleInput.value === '0') ? this.$.titleInput.value : this.$.titleInput.get('placeholder'));\n\t},\n\n\t/**\n\t* @private\n\t*/\n\tadjustTitleWidth: function() {\n\t\tvar type = this.get('type'),\n\t\t\t// Measure client area's width + 40px of spacing\n\t\t\tclient = this.$.client ? this.$.client.hasNode() : null,\n\t\t\tclientWidth = client ? client.offsetWidth : null,\n\t\t\tclientStyle = client ? (client.currentStyle || dom.getComputedStyle(client)) : null,\t\t// Originally by YuC @ http://stackoverflow.com/questions/349257/detecting-true-border-padding-and-margin-from-javascript\n\t\t\tclientMargin = client ? (parseInt(clientStyle.marginLeft, 10) + parseInt(clientStyle.marginRight, 10)) : null,\n\t\t\tclientSpaceSmall = dom.unit(clientWidth + clientMargin + ri.scale(36), 'rem'),\n\t\t\tclientSpace = dom.unit(clientWidth + ri.scale(36), 'rem'),\n\t\t\trtl = this.rtl;\n\n\t\tif (client) {\n\t\t\t// Set the margin on the correct side for the correct control, otherwise set it to nothing\n\t\t\tthis.$.title.applyStyle('margin-right', (type == 'small' && !rtl && clientWidth) ? clientSpaceSmall : null);\n\t\t\tthis.$.title.applyStyle('margin-left', (type == 'small' && rtl && clientWidth) ? clientSpaceSmall : null);\n\n\t\t\tthis.$.titleBelow.applyStyle('margin-right', (type == 'medium' && !rtl && clientWidth) ? clientSpace : null);\n\t\t\tthis.$.titleBelow.applyStyle('margin-left', (type == 'medium' && rtl && clientWidth) ? clientSpace : null);\n\n\t\t\tthis.$.subTitleBelow.applyStyle('margin-right', (type == 'medium' && !rtl && clientWidth) ? clientSpace : null);\n\t\t\tthis.$.subTitleBelow.applyStyle('margin-left', (type == 'medium' && rtl && clientWidth) ? clientSpace : null);\n\t\t}\n\t},\n\n\t/**\n\t* Note that this method will be deprecated soon. For now, it is being left in for\n\t* backward compatibility.\n\t*\n\t* @private\n\t*/\n\tsmallChanged: function () {\n\t\tthis.addRemoveClass('moon-medium-header', this.get('small'));\n\t},\n\n\t/**\n\t* @private\n\t*/\n\tcontentChanged: function () {\n\t\tvar title = this.get('uppercase')\n\t\t\t\t\t? util.toUpperCase(this.get('title') || this.get('content'))\n\t\t\t\t\t: (this.get('title') || this.get('content')),\n\t\t\tsubtitle = this.get('titleBelow');\n\t\tif ((this.get('type') == 'small') && subtitle) {\n\t\t\tthis.$.title.set('allowHtml', true);\n\t\t\tif (!this.allowHtml) {\n\t\t\t\ttitle = dom.escape(title);\n\t\t\t\tsubtitle = dom.escape(subtitle);\n\t\t\t}\n\t\t\tthis.$.title.set('content', Control.prototype.rtl && !util.isRtl(subtitle + title) ?\n\t\t\t\t'<span class=\"moon-sub-header-text moon-header-sub-title\">' + subtitle + '</span>' + '   ' + title :\n\t\t\t\ttitle + '   ' + '<span class=\"moon-sub-header-text moon-header-sub-title\">' + subtitle + '</span>');\n\t\t} else {\n\t\t\tthis.$.title.set('allowHtml', this.get('allowHtml') );\n\t\t\tthis.$.title.set('content', title);\n\t\t}\n\t\tthis.placeholderChanged();\n\t},\n\n\t/**\n\t* For backward-compatibility with original API.\n\t*\n\t* @private\n\t*/\n\ttitleChanged: function () {\n\t\tthis.contentChanged();\n\t},\n\n\t/**\n\t* @private\n\t*/\n\tplaceholderChanged: function () {\n\t\t// For backward-compatibility with original API\n\t\tthis.$.titleInput.set('placeholder', this.getTitleUpperCase()\n\t\t\t\t? util.toUpperCase(this.placeholder || this.title || this.content)\n\t\t\t\t: (this.placeholder || this.title || this.content) );\n\t\tthis.valueChanged();\n\t},\n\n\t/**\n\t* @private\n\t*/\n\tuppercaseChanged: function () {\n\t\t// FIXME: Backwards-compatibility for deprecated property - can be removed when\n\t\t// titleUpperCase is fully deprecated and removed.\n\t\tif (this.titleUpperCase != this.uppercase) this.titleUpperCase = this.uppercase;\n\t\tthis.titleChanged();\n\t},\n\n\t/**\n\t* @private\n\t*/\n\ttitleUpperCaseChanged: function () {\n\t\tif (this.uppercase != this.titleUpperCase) this.uppercase = this.titleUpperCase;\n\t\tthis.uppercaseChanged();\n\t},\n\n\t/**\n\t* @private\n\t*/\n\ttitleAboveChanged: function () {\n\t\tthis.$.titleAbove.addRemoveClass('no-border', this.titleAbove === '');\n\t\tthis.$.titleAbove.set('content', this.titleAbove);\n\t},\n\n\t/**\n\t* @private\n\t*/\n\ttitleBelowChanged: function () {\n\t\tthis.$.titleBelow.set('content', this.titleBelow || '');\n\t\tthis.contentChanged();\n\t},\n\n\t/**\n\t* @private\n\t*/\n\tsubTitleBelowChanged: function () {\n\t\tthis.$.subTitleBelow.set('content', this.subTitleBelow || '');\n\t},\n\n\t/**\n\t* Placeholder\n\t*\n\t* @private\n\t*/\n\t// animationComplete: function (inSender, inEvent) {\n\t\t// Do something?\n\t// },\n\n\t/**\n\t* @private\n\t*/\n\tinputModeChanged: function () {\n\t\tthis.$.title.canGenerate = !this.inputMode;\n\t\tthis.$.title.setShowing(!this.inputMode);\n\t\tthis.$.inputDecorator.canGenerate = this.inputMode;\n\t\tthis.$.inputDecorator.setShowing(this.inputMode);\n\n\t\tif (!this.inputMode) {\n\t\t\tif (!this.$.title.hasNode()) {\n\t\t\t\tthis.$.title.render();\n\t\t\t}\n\t\t\t// Reset marquees when coming back to static text\n\t\t\tif (this.generated) {\n\t\t\t\tthis.stopMarquee();\n\t\t\t\tthis.startMarquee();\n\t\t\t}\n\t\t}\n\t\tif (this.inputMode && !this.$.inputDecorator.hasNode()) {\n\t\t\tthis.$.inputDecorator.render();\n\t\t}\n\t\tthis.addRemoveClass('moon-input-header', this.inputMode);\n\t},\n\n\t/**\n\t* Handles `input` event, firing custom\n\t* [onInputHeaderInput]{@link module:moonstone/Header~Header#onInputHeaderInput} event.\n\t*\n\t* @fires module:moonstone/Header~Header#onInputHeaderInput\n\t* @private\n\t*/\n\thandleInput: function (inSender, inEvent) {\n\t\tthis.doInputHeaderInput({originalEvent: util.clone(inEvent, true)});\n\t},\n\n\t/**\n\t* Handles `change` event, firing custom\n\t* [onInputHeaderChange]{@link module:moonstone/Header~Header#onInputHeaderChange} event.\n\t*\n\t* @fires module:moonstone/Header~Header#onInputHeaderChange\n\t* @private\n\t*/\n\thandleChange: function (inSender, inEvent) {\n\t\tthis.doInputHeaderChange({originalEvent: util.clone(inEvent, true)});\n\t}\n});\n","/**\n* Contains the declaration for the {@link module:moonstone/ScrollControls~ScrollControls} kind.\n* @wip\n* @module moonstone/ScrollControls\n*/\nvar\n\tdom = require('enyo/dom'),\n\tkind = require('enyo/kind'),\n\tControl = require('enyo/Control'),\n\tNewScrollThumb = require('enyo/NewThumb'),\n\tSignals = require('enyo/Signals');\n\nvar\n\tSpotlight = require('spotlight');\n\nvar\n\tNewPagingControl = require('../NewPagingControl');\n\n/**\n* TODO: {@link module:moonstone/ScrollControls~ScrollControls} needs to be documented.\n*\n* @class ScrollControls\n* @wip\n* @ui\n* @public\n*/\nvar ScrollControls = module.exports = kind(\n\t/** @lends module:moonstone/ScrollControls~ScrollControls.prototype */ {\n\n\t/**\n\t* @private\n\t*/\n\tname: 'moon.ScrollControls',\n\n\t/**\n\t* @private\n\t*/\n\tkind: Control,\n\n\t/**\n\t* @private\n\t*/\n\ttag: null,\n\n\t/**\n\t* If `true`, paging controls are focusable (in 5-way mode).  Normally, this\n\t* is not required, since the scroller will automatically scroll to ensure\n\t* most focusable items are in view.  It is intended to be used when the\n\t* scroller contents have no spotlightable controls, such as the case of a\n\t* scroller with a long body of text.\n\t*\n\t* @type {Boolean}\n\t* @default false\n\t* @public\n\t*/\n\tspotlightPagingControls: true,\n\n\t/**\n\t* If `true`, measure the size of the scroll columns on initial render.\n\t* See {@link module:moonstone/ScrollControls~ScrollControls#measureScrollColumns} for details.\n\t*\n\t* @private\n\t*/\n\tmeasureScrollColumns: true,\n\n\n\t/**\n\t* @private\n\t*/\n\tcomponents: [\n\t\t{name: 'vColumn', classes: 'moon-scroller-v-column', components: [\n\t\t\t{name: 'pageUpControl', kind: NewPagingControl, disabled: true, ontap: 'pageUp', defaultSpotlightDisappear: 'pageDownControl', defaultSpotlightDown: 'pageDownControl', side: 'top', onSpotlightUp: 'spotPaging'},\n\t\t\t{name: 'vthumbContainer', classes: 'moon-scroller-thumb-container moon-scroller-vthumb-container', components: [\n\t\t\t\t{name: 'vthumb', kind: NewScrollThumb, classes: 'moon-scroller-vthumb hidden', axis: 'v', minSize: 20}\n\t\t\t]},\n\t\t\t{name: 'pageDownControl', kind: NewPagingControl, disabled: true, ontap: 'pageDown', defaultSpotlightDisappear: 'pageUpControl', defaultSpotlightUp: 'pageUpControl', side: 'bottom', onSpotlightDown: 'spotPaging'}\n\t\t]},\n\t\t{name: 'hColumn', classes: 'moon-scroller-h-column', components: [\n\t\t\t{name: 'pageLeftControl', kind: NewPagingControl, disabled: true, ontap: 'pageLeft', defaultSpotlightDisappear: 'pageRightControl', defaultSpotlightRight: 'pageRightControl', side: 'left', onSpotlightLeft: 'spotPaging'},\n\t\t\t{name: 'hthumbContainer', classes: 'moon-scroller-thumb-container moon-scroller-hthumb-container', components: [\n\t\t\t\t{name: 'hthumb', kind: NewScrollThumb, classes: 'moon-scroller-hthumb hidden', axis: 'h', minSize: 20}\n\t\t\t]},\n\t\t\t{name: 'pageRightControl', kind: NewPagingControl, disabled: true, ontap: 'pageRight', defaultSpotlightDisappear: 'pageLeftControl', defaultSpotlightLeft: 'pageLeftControl', side: 'right', onSpotlightRight: 'spotPaging'}\n\t\t]},\n\t\t{kind: Signals, onSpotlightModeChanged: 'spotlightModeChanged', isChrome: true}\n\t],\n\n\t/**\n\t* @private\n\t*/\n\tcreate: function() {\n\t\tControl.prototype.create.apply(this, arguments);\n\n\t\t// TODO: Figure out how not to use parent here and elsewhere -- should be able to get there from scroller\n\t\tthis.parent.addClass('moon-scroller-client-wrapper');\n\n\t\tthis._updateScrollability = this.bindSafely(this.updateScrollability);\n\t\tthis.scrollerChanged();\n\t},\n\n\tscrollerChanged: function(was) {\n\t\tif (was) {\n\t\t\twas.off('scrollabilityChanged', this._updateScrollability);\n\t\t}\n\t\tif (this.scroller) {\n\t\t\tthis.scroller.on('scrollabilityChanged', this._updateScrollability);\n\t\t\tthis.$.vthumb.set('scroller', this.scroller);\n\t\t\tthis.$.hthumb.set('scroller', this.scroller);\n\t\t\tthis.$.pageUpControl.set('scroller', this.scroller);\n\t\t\tthis.$.pageDownControl.set('scroller', this.scroller);\n\t\t\tthis.$.pageLeftControl.set('scroller', this.scroller);\n\t\t\tthis.$.pageRightControl.set('scroller', this.scroller);\n\t\t}\n\t},\n\n\tupdateScrollability: function() {\n\t\tvar s = this.scroller;\n\n\t\tthis.enableDisableHorizontalScrollControls(s.hEnabled);\n\t\tthis.enableDisableVerticalScrollControls(s.vEnabled);\n\t\tthis.showHideHorizontalScrollColumns(s.canScrollX);\n\t\tthis.showHideVerticalScrollColumns(s.canScrollY);\n\t\tthis.$.pageUpControl.set('disabled', !s.canScrollUp);\n\t\tthis.$.pageDownControl.set('disabled', !s.canScrollDown);\n\t\tthis.$.pageLeftControl.set('disabled', !s.canScrollLeft);\n\t\tthis.$.pageRightControl.set('disabled', !s.canScrollRight);\n\t},\n\n\tpageUp: function() {\n\t\tthis.scroller.pageUp();\n\t},\n\n\tpageDown: function() {\n\t\tthis.scroller.pageDown();\n\t},\n\n\tpageLeft: function() {\n\t\tthis.scroller.pageLeft();\n\t},\n\n\tpageRight: function() {\n\t\tthis.scroller.pageRight();\n\t},\n\n\t/**\n\t* Measures scroll columns as needed, then shows or hides page controls.\n\t*\n\t* @private\n\t*/\n\trendered: function() {\n\t\tvar measure = this.measureScrollColumns && !ScrollControls._scrollColumnsMeasured;\n\n\t\tif (measure) {\n\t\t\t// We temporarily add the v-scroll-enabled class so that\n\t\t\t// we can measure the width of the vertical scroll column\n\t\t\t// after rendering and store it as a static property -- see\n\t\t\t// _measureScrollColumns().\n\t\t\t//\n\t\t\t// The v-scroll-enabled class will automatically be removed\n\t\t\t// after we measure, when we call setupBounds() (which in\n\t\t\t// turn calls enableDisableScrollColumns()).\n\t\t\tthis.parent.addClass('v-scroll-enabled');\n\t\t}\n\n\t\tControl.prototype.rendered.apply(this, arguments);\n\t\t\n\t\tif (measure) {\n\t\t\tthis._measureScrollColumns();\n\t\t}\n\n\t\tthis.spotlightPagingControlsChanged();\n\t},\n\n\t/**\n\t* Moonstone's data grid list delegate uses scroll column metrics to calculate\n\t* available space for list controls. These metrics are derived via some LESS\n\t* calculations, so to avoid brittleness we choose to measure them from the DOM\n\t* rather than mirror the calculations in JavaScript.\n\t* \n\t* Upon request, we do the measurement here (the first time a scroller is rendered)\n\t* and cache the values in static properties, to avoid re-measuring each time we need\n\t* the metrics.\n\t* \n\t* @private\n\t*/\n\t_measureScrollColumns: function() {\n\t\tvar cs;\n\t\tcs = dom.getComputedStyle(this.parent.hasNode());\n\t\tScrollControls.vScrollColumnSize =\n\t\t\tparseInt(cs['padding-left'], 10) +\n\t\t\tparseInt(cs['padding-right'], 10);\n\t\tScrollControls.hScrollColumnSize = this.$.hColumn.hasNode().offsetHeight;\n\t\tScrollControls._scrollColumnsMeasured = true;\n\t},\n\n\t/**\n\t* @private\n\t*/\n\tspotlightPagingControlsChanged: function() {\n\t\tthis.updateHoverOnPagingControls(!this.spotlightPagingControls);\n\t\tthis.showHideScrollColumns(this.spotlightPagingControls);\n\t\t// if (this.generated) {\n\t\t// \tthis.setupBounds();\n\t\t// }\n\t},\n\n\t/**\n\t* @private\n\t*/\n\tupdateHoverOnPagingControls: function(hover) {\n\t\tthis.$.pageLeftControl.addRemoveClass('hover', hover);\n\t\tthis.$.pageRightControl.addRemoveClass('hover', hover);\n\t\tthis.$.pageUpControl.addRemoveClass('hover', hover);\n\t\tthis.$.pageDownControl.addRemoveClass('hover', hover);\n\t},\n\n\t/**\n\t* Decorate spotlight events from paging controls so user can 5-way out of container\n\t* \n\t* @private\n\t*/\n\tspotPaging: function (sender, event) {\n\t\tevent.requestLeaveContainer = true;\n\t},\n\n\t/**\n\t* @private\n\t*/\n\tspotlightModeChanged: function(sender, event) {\n\t\tvar activatePageControls = this.shouldShowPageControls();\n\t\tthis.showHideScrollColumns(activatePageControls);\n\t\tthis.updateHoverOnPagingControls(activatePageControls);\n\t},\n\n\t/**\n\t* Enables or disables vertical scroll column.\n\t*\n\t* @private\n\t*/\n\tenableDisableVerticalScrollControls: function(enabled) {\n\t\tvar hOffProp = this.rtl ? 'leftOffset' : 'rightOffset',\n\t\t\thOffVal = enabled ? ScrollControls.vScrollColumnSize : 0;\n\n\t\tthis.scroller.set(hOffProp, hOffVal);\n\t\tthis.parent.addRemoveClass('v-scroll-enabled', enabled);\n\t\tthis.$.vColumn.addRemoveClass('v-scroll-enabled', enabled);\n\t\tthis.$.hColumn.addRemoveClass('v-scroll-enabled', enabled);\n\t\tthis.$.pageUpControl.spotlight = enabled && this.spotlightPagingControls;\n\t\tthis.$.pageDownControl.spotlight = enabled && this.spotlightPagingControls;\n\t},\n\n\t/**\n\t* Enables or disables horizontal scroll column.\n\t*\n\t* @private\n\t*/\n\tenableDisableHorizontalScrollControls: function(enabled) {\n\t\tvar bOffVal = enabled ? ScrollControls.hScrollColumnSize : 0;\n\n\t\tthis.scroller.set('bottomOffset', bOffVal);\n\t\tthis.parent.addRemoveClass('h-scroll-enabled', enabled);\n\t\tthis.$.vColumn.addRemoveClass('h-scroll-enabled', enabled);\n\t\tthis.$.hColumn.addRemoveClass('h-scroll-enabled', enabled);\n\t\tthis.$.pageLeftControl.spotlight = enabled && this.spotlightPagingControls;\n\t\tthis.$.pageRightControl.spotlight = enabled && this.spotlightPagingControls;\n\t},\n\n\t/**\n\t* Shows or hides scroll columns.\n\t*\n\t* @private\n\t*/\n\tshowHideScrollColumns: function(show) {\n\t\tthis.showHideVerticalScrollColumns(show);\n\t\tthis.showHideHorizontalScrollColumns(show);\n\t},\n\n\t/**\n\t* Shows or hides vertical scroll columns.\n\t*\n\t* @private\n\t*/\n\tshowHideVerticalScrollColumns: function(show) {\n\t\tthis.$.vColumn.addRemoveClass('visible', show || this.spotlightPagingControls);\n\t},\n\n\t/**\n\t* Shows or hides horizontal scroll columns.\n\t*\n\t* @private\n\t*/\n\tshowHideHorizontalScrollColumns: function(show) {\n\t\tthis.$.hColumn.addRemoveClass('visible', show || this.spotlightPagingControls);\n\t},\n\n\t/**\n\t* Returns boolean indicating whether page controls should be shown at all for this scroller.\n\t*\n\t* @private\n\t*/\n\tshouldShowPageControls: function() {\n\t\treturn (Spotlight.getPointerMode() && this.hovering && !this.spotlightPagingControls);\n\t}\n});\n","require('moonstone');\n\n/**\n* Contains the declaration for the {@link module:moonstone/ScrollStrategy~ScrollStrategy} kind.\n* @module moonstone/ScrollStrategy\n*/\n\nvar\n\tkind = require('enyo/kind'),\n\tdispatcher = require('enyo/dispatcher'),\n\tdom = require('enyo/dom'),\n\tutil = require('enyo/utils'),\n\tplatform = require('enyo/platform'),\n\tControl = require('enyo/Control'),\n\tScrollStrategy = require('enyo/ScrollStrategy'),\n\tTouchScrollStrategy = require('enyo/TouchScrollStrategy'),\n\tScrollMath = require('enyo/ScrollMath'),\n\tSignals = require('enyo/Signals');\n\nvar\n\tSpotlight = require('spotlight');\n\nvar\n\tconfig = require('../options'),\n\tPagingControl = require('../PagingControl'),\n\tScrollThumb = require('../ScrollThumb');\n\nfunction calcNodeVisibility (nodePos, nodeSize, scrollPos, scrollSize) {\n\treturn (nodePos >= scrollPos && nodePos + nodeSize <= scrollPos + scrollSize)\n\t\t? 0\n\t\t: nodePos - scrollPos > 0\n\t\t\t? 1\n\t\t\t: nodePos - scrollPos < 0\n\t\t\t\t? -1\n\t\t\t\t: 0;\n}\n\n/**\n* {@link module:moonstone/ScrollStrategy~ScrollStrategy} inherits from {@link module:enyo/TouchScrollStrategy~TouchScrollStrategy}.\n* Its main purpose is to handle scroller paging for {@link module:moonstone/Scroller~Scroller} and\n* {@link module:moonstone/DataList~DataList}.\n*\n* @class ScrollStrategy\n* @extends module:enyo/TouchScrollStrategy~TouchScrollStrategy\n* @public\n*/\nvar MoonScrollStrategy = module.exports = kind(\n\t/** @lends module:moonstone/ScrollStrategy~ScrollStrategy.prototype */ {\n\n\t/**\n\t* @private\n\t*/\n\tname: 'moon.ScrollStrategy',\n\n\t/**\n\t* @private\n\t*/\n\tkind: TouchScrollStrategy,\n\n\t/**\n\t* @private\n\t* @lends module:moonstone/ScrollStrategy~ScrollStrategy.prototype\n\t*/\n\tpublished: {\n\n\t\t/**\n\t\t* The ratio of mousewheel \"delta\" units to pixels scrolled. Increase this value to\n\t\t* increase the distance scrolled by the scroll wheel. Note that mice/trackpads do not\n\t\t* emit the same delta units per \"notch\" or flick of the scroll wheel/trackpad; that\n\t\t* can vary based on intensity and momentum.\n\t\t*\n\t\t* @type {Number}\n\t\t* @default 2\n\t\t* @public\n\t\t*/\n\t\tscrollWheelMultiplier: 2,\n\n\t\t/**\n\t\t* The ratio of the maximum distance scrolled by each scroll wheel event to the\n\t\t* height/width of the viewport. Setting a value larger than `1` is not advised since,\n\t\t* in that scenario, a single scroll event could potentially move more than one\n\t\t* viewport's worth of content (depending on the delta received), resulting in skipped\n\t\t* content.\n\t\t*\n\t\t* @type {Number}\n\t\t* @default 0.2\n\t\t* @public\n\t\t*/\n\t\tscrollWheelPageMultiplier: 0.2,\n\n\t\t/**\n\t\t* The ratio of the distance scrolled per tap of the paging button to the height/width\n\t\t* of the viewport. Setting a value larger than `1` is not advised since, in that\n\t\t* scenario, a single paging button tap would move more than one viewport's worth of\n\t\t* content, resulting in skipped content.\n\t\t*\n\t\t* @type {Number}\n\t\t* @default 0.8\n\t\t* @public\n\t\t*/\n\t\tpaginationPageMultiplier: 0.8,\n\n\t\t/**\n\t\t* The ratio of continuous-scrolling \"delta\" units to pixels scrolled. Increase this\n\t\t* value to increase the distance scrolled when the pagination buttons are held.\n\t\t*\n\t\t* @type {Number}\n\t\t* @default 8\n\t\t* @public\n\t\t*/\n\t\tpaginationScrollMultiplier: 8,\n\n\t\t/**\n\t\t* If 'true', paging controls are hidden when content fit in scroller\n\t\t* even when spotlightPagingControls is true.\n\t\t*\n\t\t* @type {Boolean}\n\t\t* @default false\n\t\t* @public\n\t\t*/\n\t\thideScrollColumnsWhenFit: false\n\t},\n\n\t/**\n\t* If `true`, measure the size of the scroll columns on initial render.\n\t* See {@link module:moonstone/ScrollStrategy~ScrollStrategy#measureScrollColumns} for details.\n\t*\n\t* @private\n\t*/\n\tmeasureScrollColumns: false,\n\n\t// The scrollToBoundary configuration parameters below\n\t// are considered private for now, but have been factored\n\t// this way and are facaded by Scroller so that they can\n\t// be changed in one place and could be overridden in case\n\t// of emergency.\n\n\t/**\n\t* @private\n\t*/\n\tscrollToBoundaryDelay: 100,\n\n\t/**\n\t* @private\n\t*/\n\tscrollToBoundaryAnimate: true,\n\n\t/**\n\t* @private\n\t*/\n\thandlers: {\n\t\tonRequestScrollIntoView : 'requestScrollIntoView',\n\t\tonRequestSetupBounds\t: 'requestSetupBounds',\n\t\tonenter                 : 'enter',\n\t\tonleave                 : 'leave',\n\t\tonSpotlightFocused      : 'manageSpotlightFocus',\n\t\tonSpotlightBlur         : 'manageSpotlightFocus',\n\t\tonSpotlightFocus        : 'store5WayFocusInfo'\n\t},\n\n\t/**\n\t* @private\n\t*/\n\ttools: [\n\t\t{kind: ScrollMath, onScrollStart: 'scrollMathStart', onScroll: 'scrollMathScroll', onScrollStop: 'scrollMathStop', onStabilize: 'scrollMathStabilize'}\n\t],\n\n\t/**\n\t* @private\n\t*/\n\tcomponents: [\n\t\t{name: 'clientContainer', kind: Control, classes: 'moon-scroller-client-wrapper', components: [\n\t\t\t{name: 'viewport', kind: Control, classes:'moon-scroller-viewport', components: [\n\t\t\t\t{name: 'client', kind: Control, classes: 'enyo-touch-scroller enyo-touch-scroller-client matrix-scroll-client matrix3dsurface'}\n\t\t\t]}\n\t\t]},\n\t\t{name: 'vColumn', kind: Control, classes: 'moon-scroller-v-column', components: [\n\t\t\t{name: 'pageUpControl', kind: PagingControl, defaultSpotlightDisappear: 'pageDownControl', defaultSpotlightDown: 'pageDownControl', side: 'top', onPaginateScroll: 'paginateScroll', onPaginate: 'paginate', onSpotlightUp: 'spotPaging'},\n\t\t\t{name: 'vthumbContainer', kind: Control, classes: 'moon-scroller-thumb-container moon-scroller-vthumb-container', components: [\n\t\t\t\t{name: 'vthumb', kind: ScrollThumb, classes: 'moon-scroller-vthumb hidden', axis: 'v'}\n\t\t\t]},\n\t\t\t{name: 'pageDownControl', kind: PagingControl, defaultSpotlightDisappear: 'pageUpControl', defaultSpotlightUp: 'pageUpControl', side: 'bottom', onPaginateScroll: 'paginateScroll', onPaginate: 'paginate', onSpotlightDown: 'spotPaging'}\n\t\t]},\n\t\t{name: 'hColumn', kind: Control, classes: 'moon-scroller-h-column', components: [\n\t\t\t{name: 'pageLeftControl', kind: PagingControl, defaultSpotlightDisappear: 'pageRightControl', defaultSpotlightRight: 'pageRightControl', side: 'left', onPaginateScroll: 'paginateScroll', onPaginate: 'paginate', onSpotlightLeft: 'spotPaging'},\n\t\t\t{name: 'hthumbContainer', kind: Control, classes: 'moon-scroller-thumb-container moon-scroller-hthumb-container', components: [\n\t\t\t\t{name: 'hthumb', kind: ScrollThumb, classes: 'moon-scroller-hthumb hidden', axis: 'h'}\n\t\t\t]},\n\t\t\t{name: 'pageRightControl', kind: PagingControl, defaultSpotlightDisappear: 'pageLeftControl', defaultSpotlightLeft: 'pageLeftControl', side: 'right', onPaginateScroll: 'paginateScroll', onPaginate: 'paginate', onSpotlightRight: 'spotPaging'}\n\t\t]},\n\t\t{kind: Signals, onSpotlightModeChanged: 'spotlightModeChanged', isChrome: true}\n\t],\n\n\t/**\n\t* @private\n\t*/\n\tcreate: function() {\n\t\tTouchScrollStrategy.prototype.create.apply(this, arguments);\n\t\tthis.transform = dom.canTransform();\n\t\tthis.accel = dom.canAccelerate();\n\t\tthis.container.addClass('enyo-touch-strategy-container');\n\t\tthis.translation = this.accel ? 'matrix3d' : 'matrix';\n\t\tthis.showHideScrollColumns(this.spotlightPagingControls);\n\t},\n\n\t/**\n\t* Calls super-super-inherited (i.e., skips {@link module:enyo/TouchScrollStrategy~TouchScrollStrategy}'s) `rendered()`\n\t* function to avoid thumb flicker at render time. Then shows or hides page controls.\n\t*\n\t* @private\n\t*/\n\trendered: function() {\n\t\tvar measure = this.measureScrollColumns && !ScrollStrategy._scrollColumnsMeasured;\n\n\t\tif (measure) {\n\t\t\t// We temporarily add the v-scroll-enabled class so that\n\t\t\t// we can measure the width of the vertical scroll column\n\t\t\t// after rendering and store it as a static property -- see\n\t\t\t// _measureScrollColumns().\n\t\t\t//\n\t\t\t// The v-scroll-enabled class will automatically be removed\n\t\t\t// after we measure, when we call setupBounds() (which in\n\t\t\t// turn calls enableDisableScrollColumns()).\n\t\t\tthis.$.clientContainer.addClass('v-scroll-enabled');\n\t\t}\n\n\t\tScrollStrategy.prototype.rendered.apply(this, arguments);\n\n\t\tif (measure) {\n\t\t\tthis._measureScrollColumns();\n\t\t}\n\t\tthis.setupBounds();\n\t\tthis.spotlightPagingControlsChanged();\n\t},\n\n\t/**\n\t* Moonstone's data grid list delegate uses scroll column metrics to calculate\n\t* available space for list controls. These metrics are derived via some LESS\n\t* calculations, so to avoid brittleness we choose to measure them from the DOM\n\t* rather than mirror the calculations in JavaScript.\n\t*\n\t* Upon request, we do the measurement here (the first time a scroller is rendered)\n\t* and cache the values in static properties, to avoid re-measuring each time we need\n\t* the metrics.\n\t*\n\t* @private\n\t*/\n\t_measureScrollColumns: function() {\n\t\tvar cs;\n\t\tcs = dom.getComputedStyle(this.$.clientContainer.hasNode());\n\t\tMoonScrollStrategy.vScrollColumnSize =\n\t\t\tparseInt(cs['padding-left'], 10) +\n\t\t\tparseInt(cs['padding-right'], 10);\n\t\tMoonScrollStrategy.hScrollColumnSize = this.$.hColumn.hasNode().offsetHeight;\n\t\tMoonScrollStrategy._scrollColumnsMeasured = true;\n\t},\n\n\t/**\n\t* @private\n\t*/\n\thandleResize: function() {\n\t\tthis.resizing = true;\n\t\tthis.resetCachedValues();\n\t\tthis.setupBounds();\n\t\tthis.resizing = false;\n\t},\n\n\t/**\n\t* @private\n\t*/\n\tsetupBounds: function() {\n\t\tthis.calcBoundaries();\n\t\tthis.syncScrollMath();\n\t\tthis.enableDisableScrollColumns();\n\t\tthis.remeasure();\n\t\tthis.setThumbSizeRatio();\n\t\tthis.clampScrollPosition();\n\t},\n\n\t/**\n\t* Gets the left scroll position within the scroller.\n\t*\n\t* @returns {Number} The left scroll position.\n\t* @public\n\t*/\n\tgetScrollLeft: function() {\n\t\treturn this.scrollLeft;\n\t},\n\n\t/**\n\t* Gets the top scroll position within the scroller.\n\t*\n\t* @returns {Number} The top scroll position.\n\t* @public\n\t*/\n\tgetScrollTop: function() {\n\t\treturn this.scrollTop;\n\t},\n\n\t/**\n\t* Sets the left scroll position within the scroller.\n\t*\n\t* @param {Number} left - The desired scroll-left measurement (in pixels).\n\t* @public\n\t*/\n\tsetScrollLeft: function(left) {\n\t\tvar m = this.$.scrollMath,\n\t\t\tp = this.scrollLeft;\n\t\tm.setScrollX(-left);\n\t\tm.stabilize();\n\t\tif (p != -m.x) {\n\t\t\t// We won't get a native scroll event,\n\t\t\t// so need to make one ourselves\n\t\t\tm.doScroll();\n\t\t}\n\t},\n\n\t/**\n\t* Sets the top scroll position within the scroller.\n\t*\n\t* @param {Number} top - The desired scroll-top measurement (in pixels).\n\t* @public\n\t*/\n\tsetScrollTop: function(top) {\n\t\tvar m = this.$.scrollMath,\n\t\t\tp = this.scrollTop;\n\t\tm.setScrollY(-top);\n\t\tm.stabilize();\n\t\tif (p != -m.y) {\n\t\t\t// We won't get a native scroll event,\n\t\t\t// so need to make one ourselves\n\t\t\tm.doScroll();\n\t\t}\n\t},\n\n\t/**\n\t* Scrolls to specific x/y positions within the scroll area.\n\t*\n\t* @param {Number} x - The horizontal position.\n\t* @param {Number} y - The vertical position.\n\t* @param {Boolean} [animate=true] - Whether to animate to the new scroll position.\n\t* @public\n\t*/\n\tscrollTo: function(x, y, animate) {\n\t\tthis.stop();\n\t\tif (this.resizing || animate === false) {\n\t\t\tvar b = this.getScrollBounds();\n\t\t\tx = Math.max(Math.min(x, b.maxLeft), 0);\n\t\t\ty = Math.max(Math.min(y, b.maxTop),  0);\n\t\t\tthis.effectScroll(x, y);\n\t\t\tthis.syncScrollMath();\n\t\t\tthis.bubble('onScroll');\n\t\t} else {\n\t\t\tthis._scrollTo(x, y);\n\t\t}\n\t},\n\n\t/**\n\t* Overrides {@link module:enyo/TouchScrollStrategy~TouchScrollStrategy#maxHeightChanged}.\n\t*\n\t* @private\n\t*/\n\tmaxHeightChanged: function() {\n\t\t// content should cover scroller at a minimum if there's no max-height.\n\t\tthis.$.client.applyStyle('min-height', this.maxHeight ? null : '100%');\n\t\tthis.$.client.applyStyle('max-height', this.maxHeight);\n\t\tthis.$.clientContainer.addRemoveClass('enyo-scrollee-fit', !this.maxHeight);\n\t},\n\n\t// Event handling\n\n\t/**\n\t* Disables dragging on non-touch devices.\n\t*\n\t* @private\n\t*/\n\tshouldDrag: function(sender, event) {\n\t\tif (platform.touch) {\n\t\t\tevent.dragger = this;\n\t\t}\n\t\treturn true;\n\t},\n\n\t/**\n\t* @private\n\t*/\n\tscrollMathStart: function () {\n\t\tif (platform.touch) {\n\t\t\tSpotlight.mute(this);\n\t\t}\n\t\treturn TouchScrollStrategy.prototype.scrollMathStart.apply(this, arguments);\n\t},\n\n\t/**\n\t* @private\n\t*/\n\tscrollMathStop: function () {\n\t\tvar r = TouchScrollStrategy.prototype.scrollMathStop.apply(this, arguments);\n\t\tif (platform.touch) {\n\t\t\tSpotlight.unmute(this);\n\t\t}\n\t\treturn r;\n\t},\n\n\t/**\n\t* On `hold` event, stops scrolling.\n\t*\n\t* @private\n\t*/\n\thold: function(sender, event) {\n\t\tif (!this.isPageControl(event.originator)) {\n\t\t\tTouchScrollStrategy.prototype.hold.apply(this, arguments);\n\t\t}\n\t},\n\n\t/**\n\t* On `down` event, stops scrolling.\n\t*\n\t* @private\n\t*/\n\tdown: function(sender, event) {\n\t\tif (platform.touch) {\n\t\t\tevent.configureHoldPulse({\n\t\t\t\tendHold: 'onMove'\n\t\t\t});\n\t\t}\n\t\tif (!this.isPageControl(event.originator) && this.isScrolling() && !this.isOverscrolling()) {\n\t\t\tevent.preventTap();\n\t\t\tthis.stop();\n\t\t}\n\t},\n\n\t/**\n\t* On `mousewheel` event, scrolls a fixed amount.\n\t*\n\t* @private\n\t*/\n\tmousewheel: function(sender, event) {\n\t\tif (this.useMouseWheel) {\n\t\t\tvar isScrolling = this.isScrolling();\n\t\t\tthis.setupBounds();\n\t\t\tthis.scrollBounds = this._getScrollBounds();\n\n\t\t\tvar x = null,\n\t\t\t\ty = null,\n\t\t\t\twheelDelta = null,\n\t\t\t\tshowVertical = this.showVertical(),\n\t\t\t\tshowHorizontal = this.showHorizontal(),\n\t\t\t\tdir = null,\n\t\t\t\tval = null,\n\t\t\t\tmax = null,\n\t\t\t\tdelta = null\n\t\t\t;\n\n\t\t\t//* If we don't have to scroll, allow mousewheel event to bubble\n\t\t\tif (!showVertical && !showHorizontal) {\n\t\t\t\tthis.scrollBounds = null;\n\t\t\t\treturn false;\n\t\t\t}\n\n\t\t\tif (showVertical) {\n\t\t\t\tdir = event.wheelDeltaY >= 0 ? 1 : -1;\n\t\t\t\tval = Math.abs(event.wheelDeltaY * this.scrollWheelMultiplier);\n\t\t\t\tmax = this.scrollBounds.clientHeight * this.scrollWheelPageMultiplier;\n\t\t\t\tdelta = Math.min(val, max);\n\t\t\t\ty = (isScrolling ? this.lastScrollToY : this.scrollTop) + -dir * delta;\n\t\t\t}\n\n\t\t\tif (showHorizontal) {\n\t\t\t\tvar intDirection = 1;\n\t\t\t\t// Reverse the direction for RTL\n\t\t\t\tif (this.$.pageLeftControl.rtl) {\n\t\t\t\t\tintDirection = -1;\n\t\t\t\t}\n\t\t\t\t// only use vertical wheel for horizontal scrolling when no vertical bars shown\n\t\t\t\twheelDelta = !showVertical && event.wheelDeltaY || event.wheelDeltaX;\n\t\t\t\tdir = (wheelDelta >= 0 ? 1 : -1) * intDirection;\n\t\t\t\tval = Math.abs(wheelDelta * this.scrollWheelMultiplier);\n\t\t\t\tmax = this.scrollBounds.clientWidth * this.scrollWheelPageMultiplier;\n\t\t\t\tdelta = Math.min(val, max);\n\t\t\t\tx = (isScrolling ? this.lastScrollToX : this.scrollLeft) + -dir * delta;\n\t\t\t}\n\n\t\t\tthis.scrollTo(x, y);\n\t\t\tif (!isScrolling && this.thumb) {\n\t\t\t\tthis.showThumbs();\n\t\t\t\tthis.delayHideThumbs(100);\n\t\t\t}\n\t\t\tevent.preventDefault();\n\t\t\tthis.scrollBounds = null;\n\t\t\treturn true;\n\t\t}\n\t},\n\n\t/**\n\t* On `enter` event, sets `this.hovering` to `true` and shows pagination controls.\n\t*\n\t* @private\n\t*/\n\tenter: function(sender, event) {\n\t\tthis.hovering = true;\n\t\tthis.calcBoundaries();\n\t\tthis.enableDisableScrollColumns();\n\t\tthis.showHideScrollColumns(true);\n\t\tthis.updateHoverOnPagingControls(true);\n\t},\n\n\t/**\n\t* On `leave` event, sets `this.hovering` to `false` and hides pagination controls.\n\t*\n\t* @private\n\t*/\n\tleave: function(sender, event) {\n\t\tthis.hovering = false;\n\t\tthis.showHideScrollColumns(false);\n\t},\n\n\t/**\n\t* Show / hide pagination controls in response to 5-way focus / blur events.\n\t*\n\t* @private\n\t*/\n\tmanageSpotlightFocus: function(sender, event) {\n\t\tif (!Spotlight.getPointerMode()) {\n\t\t\tthis.showHideScrollColumns(event.type == 'onSpotlightFocused');\n\t\t}\n\t},\n\n\t/**\n\t* Handles `paginate` events sent from [paging control]{@link module:moonstone/PagingControl~PagingControl} buttons.\n\t*\n\t* @private\n\t*/\n\tpaginate: function(sender, event) {\n\t\tvar sb = this.getScrollBounds(),\n\t\t\tscrollYDelta = sb.clientHeight * this.paginationPageMultiplier,\n\t\t\tscrollXDelta = sb.clientWidth * this.paginationPageMultiplier,\n\t\t\tside = event.originator.side,\n\t\t\tx = this.getScrollLeft(),\n\t\t\ty = this.getScrollTop()\n\t\t;\n\n\t\tswitch (side) {\n\t\tcase 'left':\n\t\t\tx -= scrollXDelta;\n\t\t\tbreak;\n\t\tcase 'top':\n\t\t\ty -= scrollYDelta;\n\t\t\tbreak;\n\t\tcase 'right':\n\t\t\tx += scrollXDelta;\n\t\t\tbreak;\n\t\tcase 'bottom':\n\t\t\ty += scrollYDelta;\n\t\t\tbreak;\n\t\t}\n\n\t\tx = Math.max(0, Math.min(x, sb.maxLeft));\n\t\ty = Math.max(0, Math.min(y, sb.maxTop));\n\n\t\tthis._scrollTo(x, y);\n\n\t\treturn true;\n\t},\n\n\t/**\n\t* Handles `paginateScroll` events sent from [paging control]{@link module:moonstone/PagingControl~PagingControl}\n\t* buttons.\n\t*\n\t* @private\n\t*/\n\tpaginateScroll: function(sender, event) {\n\t\tif (!event || !event.scrollDelta) {\n\t\t\treturn;\n\t\t}\n\n\t\tvar delta = event.scrollDelta * this.paginationScrollMultiplier,\n\t\t\tside = event.originator.side,\n\t\t\tval\n\t\t;\n\n\t\tswitch (side) {\n\t\t\tcase 'left':\n\t\t\t\tval = this.scrollLeft - delta;\n\t\t\t\t// When we hit the left, bounce and end scrolling\n\t\t\t\tif (val <= -this.$.scrollMath.leftBoundary) {\n\t\t\t\t\tthis.setScrollLeft(-this.$.scrollMath.leftBoundary);\n\t\t\t\t\tthis.$.pageLeftControl.hitBoundary();\n\t\t\t\t} else {\n\t\t\t\t\tthis.setScrollLeft(val);\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\tcase 'top':\n\t\t\t\tval = this.scrollTop - delta;\n\t\t\t\t// When we hit the top, bounce and end scrolling\n\t\t\t\tif (val <= -this.$.scrollMath.topBoundary) {\n\t\t\t\t\tthis.setScrollTop(-this.$.scrollMath.topBoundary);\n\t\t\t\t\tthis.$.pageUpControl.hitBoundary();\n\t\t\t\t} else {\n\t\t\t\t\tthis.setScrollTop(val);\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\tcase 'right':\n\t\t\t\tval = this.scrollLeft + delta;\n\t\t\t\t// When we hit the right, bounce and end scrolling\n\t\t\t\tif (val >= -this.$.scrollMath.rightBoundary) {\n\t\t\t\t\tthis.setScrollLeft(-this.$.scrollMath.rightBoundary);\n\t\t\t\t\tthis.$.pageRightControl.hitBoundary();\n\t\t\t\t} else {\n\t\t\t\t\tthis.setScrollLeft(val);\n\t\t\t\t}\n\n\t\t\t\tbreak;\n\t\t\tcase 'bottom':\n\t\t\t\tval = this.scrollTop + delta;\n\t\t\t\t// When we hit the bottom, bounce and end scrolling\n\t\t\t\tif (val >= -this.$.scrollMath.bottomBoundary) {\n\t\t\t\t\tthis.setScrollTop(-this.$.scrollMath.bottomBoundary);\n\t\t\t\t\tthis.$.pageDownControl.hitBoundary();\n\t\t\t\t} else {\n\t\t\t\t\tthis.setScrollTop(val);\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t}\n\n\t\treturn true;\n\t},\n\n\t/**\n\t* Scrolls to specific x/y positions within the scroll area.\n\t*\n\t* @private\n\t*/\n\t_scrollTo: function(x, y) {\n\t\tthis.lastScrollToX = x;\n\t\tthis.lastScrollToY = y;\n\t\tthis.$.scrollMath.scrollTo(x, y);\n\t},\n\n\t/**\n\t* Returns `true` if passed-in [control]{@link module:enyo/Control~Control} is one of four page controls.\n\t*\n\t* @private\n\t*/\n\tisPageControl: function(control) {\n\t\treturn (\n\t\t\tcontrol === this.$.pageUpControl ||\n\t\t\tcontrol === this.$.pageDownControl ||\n\t\t\tcontrol === this.$.pageLeftControl ||\n\t\t\tcontrol === this.$.pageRightControl\n\t\t);\n\t},\n\n\t/**\n\t* @private\n\t*/\n\tcalcBoundaries: function() {\n\t\tvar s = this.$.scrollMath || this,\n\t\t\tb = this._getScrollBounds()\n\t\t;\n\t\ts.bottomBoundary = -1 * b.maxTop;\n\t\ts.rightBoundary = -1 * b.maxLeft;\n\n\t\tthis.updatePagingControlState();\n\t},\n\n\t/**\n\t* @private\n\t*/\n\teffectScroll: function(x, y) {\n\t\tthis.scrollLeft = (x !== null && !isNaN(x))? x: (this.scrollLeft || 0);\n\t\tthis.scrollTop  = (y !== null && !isNaN(y))? y: (this.scrollTop  || 0);\n\t\tdom.transformValue(this.$.client, this.translation, this.generateMatrix());\n\n\t\t// since effectScroll will happen frequently but paging control status changes\n\t\t// infrequently, fire it immediately and then throttle the next update\n\t\tif (!this._updatePagingJob) {\n\t\t\tthis.updatePagingControlState();\n\t\t} else {\n\t\t\tclearTimeout(this._updatePagingJob);\n\t\t}\n\n\t\tthis._updatePagingJob = setTimeout(this.bindSafely(function () {\n\t\t\tthis.updatePagingControlState();\n\t\t\tthis._updatePagingJob = null;\n\t\t}), 32);\n\t},\n\n\t/**\n\t* @private\n\t*/\n\tgenerateMatrix: function() {\n\t\tvar x = -1 * this.scrollLeft,\n\t\t\ty = -1 * this.scrollTop\n\t\t;\n\n\t\t/// Reverse the direction for RTL\n\t\tif (this.$.pageLeftControl.rtl) {\n\t\t\tx*= -1;\n\t\t}\n\n\t\treturn (this.accel)\n\t\t\t?   '1,         0,     0,  0, '\n\t\t\t+   '0,         1,     0,  0, '\n\t\t\t+   '0,         0,     1,  0, '\n\t\t\t+    x + ', ' + y + ', 0,  1'\n\n\t\t\t:   '1, 0, 0, 1, ' + x + ', ' + y\n\t\t;\n\t},\n\n\t/**\n\t* @private\n\t*/\n\teffectScrollStop: function() { },\n\n\t/**\n\t* @private\n\t*/\n\teffectOverscroll: function() { },\n\n\t/**\n\t* @private\n\t*/\n\tspotlightPagingControlsChanged: function() {\n\t\tthis.updateHoverOnPagingControls(!this.spotlightPagingControls);\n\t\tthis.showHideScrollColumns(this.spotlightPagingControls);\n\t\tif (this.generated) {\n\t\t\tthis.setupBounds();\n\t\t}\n\t},\n\n\t/**\n\t* @private\n\t*/\n\tupdateHoverOnPagingControls: function(hover) {\n\t\tthis.$.pageLeftControl.addRemoveClass('hover', hover);\n\t\tthis.$.pageRightControl.addRemoveClass('hover', hover);\n\t\tthis.$.pageUpControl.addRemoveClass('hover', hover);\n\t\tthis.$.pageDownControl.addRemoveClass('hover', hover);\n\t},\n\n\t/**\n\t* @private\n\t*/\n\tupdatePagingControlState: function () {\n\t\t// Update disabled state of paging controls based on bounds\n\t\tvar m = this.$.scrollMath,\n\t\t\tb = this._getScrollBounds(),\n\t\t\tcanVScroll = b.height > b.clientHeight,\n\t\t\tcanHScroll = b.width > b.clientWidth,\n\t\t\tdisablePageUp = (b.top <= 0) || !canVScroll,\n\t\t\tdisablePageDown = (b.top >= -1 * m.bottomBoundary) || !canVScroll,\n\t\t\tdisablePageLeft = (b.left <= 0) || !canHScroll,\n\t\t\tdisablePageRight = (b.left >= -1 * m.rightBoundary) || !canHScroll;\n\n\t\t// Enable all of the paging controls (which are not already enabled) first, so that we\n\t\t// are not beholden to any ordering issues that can cause erratic Spotlight behavior.\n\t\tif (!disablePageUp) this.$.pageUpControl.set('disabled', false);\n\t\tif (!disablePageDown) this.$.pageDownControl.set('disabled', false);\n\t\tif (!disablePageLeft) this.$.pageLeftControl.set('disabled', false);\n\t\tif (!disablePageRight) this.$.pageRightControl.set('disabled', false);\n\n\t\tif (disablePageUp) this.$.pageUpControl.set('disabled', true);\n\t\tif (disablePageDown) this.$.pageDownControl.set('disabled', true);\n\t\tif (disablePageLeft) this.$.pageLeftControl.set('disabled', true);\n\t\tif (disablePageRight) this.$.pageRightControl.set('disabled', true);\n\t},\n\n\t/**\n\t* Decorate spotlight events from paging controls so user can 5-way out of container\n\t*\n\t* @private\n\t*/\n\tspotPaging: function (sender, event) {\n\t\tevent.requestLeaveContainer = true;\n\t},\n\n\t/**\n\t* Because the thumb columns are a fixed size that impacts the scroll bounds, we capture\n\t* the difference for use in thumb rendering math.\n\t*\n\t* @private\n\t*/\n\tsetThumbSizeRatio: function() {\n\t\tvar scrollBounds = this.getScrollBounds();\n\t\tthis.$.vthumb.setSizeRatio(this.getVerticalThumbBounds().height/scrollBounds.clientHeight);\n\t\tthis.$.hthumb.setSizeRatio(this.getHorizontalThumbBounds().width/scrollBounds.clientWidth);\n\t},\n\n\t/**\n\t* Store information about the most recent Spotlight focus event on a child of the scroller.\n\t* This information is used in `requestScrollIntoView()` to capture the direction of the\n\t* 5-way move (if any) that is associated with the request to scroll, since we can use the\n\t* direction to help us figure out whether we should scroll all the way to the nearest\n\t* boundary.\n\t*\n\t* Ideally, we'd get information about the direction from the `onRequestScrollIntoView` event\n\t* itself, but passing the direction with the event would require changes to Spotlight and to\n\t* many individual Moonstone controls, so we're trying this approach for now.\n\t*\n\t* @private\n\t*/\n\tstore5WayFocusInfo: function (sender, event) {\n\t\tif (event.direction) {\n\t\t\tthis._focusTarget = event.originator;\n\t\t\tthis._focusDirection = event.direction;\n\t\t}\n\t\telse if (event.focusType === '5-way bounce') {\n\t\t\tthis._focusTarget = event.originator;\n\t\t\tthis._focusBounce = true;\n\t\t}\n\t},\n\n\t/**\n\t* Responds to child components' requests to be scrolled into view.\n\t*\n\t* @private\n\t*/\n\trequestScrollIntoView: function(sender, event) {\n\t\tvar originator, showVertical, showHorizontal, bounce, direction,\n\t\t\tbubble = false;\n\t\tif (!Spotlight.getPointerMode() || event.scrollInPointerMode === true) {\n\t\t\toriginator = event.originator;\n\t\t\tif (originator === this._focusTarget) {\n\t\t\t\tbounce = this._focusBounce;\n\t\t\t\tdirection = this._focusDirection;\n\t\t\t\tthis._focusTarget = this._focusDirection = this._focusBounce = null;\n\t\t\t}\n\t\t\tif (!bounce) {\n\t\t\t\tthis.scrollBounds = this._getScrollBounds();\n\t\t\t\tthis.setupBounds();\n\t\t\t\tshowVertical = this.showVertical();\n\t\t\t\tshowHorizontal = this.showHorizontal();\n\t\t\t\tthis.scrollBounds = null;\n\t\t\t\tif ((showVertical || showHorizontal) && (originator.getAbsoluteShowing())) {\n\t\t\t\t\tthis.animateToControl(originator, event.scrollFullPage, event.scrollInPointerMode || false, direction);\n\t\t\t\t\tif ((showVertical && this.$.scrollMath.bottomBoundary) || (showHorizontal && this.$.scrollMath.rightBoundary)) {\n\t\t\t\t\t\tthis.alertThumbs();\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\t// Scrollers that don't need to scroll bubble their onRequestScrollIntoView,\n\t\t\t\t\t// to allow items in nested scrollers to be scrolled\n\t\t\t\t\tbubble = true;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\treturn !bubble;\n\t},\n\n\t/**\n\t* Responds to child components' requests to update scroll bounds without\n\t* scrolling into view.\n\t*\n\t* @private\n\t*/\n\trequestSetupBounds: function(sender, event) {\n\t\tif (this.generated) {\n\t\t\tthis.scrollBounds = this._getScrollBounds();\n\t\t\tthis.setupBounds();\n\t\t\tthis.scrollBounds = null;\n\t\t\tif ((this.showVertical() && this.$.scrollMath.bottomBoundary) || (this.showHorizontal() && this.$.scrollMath.rightBoundary)) {\n\t\t\t\tthis.alertThumbs();\n\t\t\t}\n\t\t}\n\t\treturn true;\n\t},\n\n\t/**\n\t* @private\n\t*/\n\tspotlightModeChanged: function(sender, event) {\n\t\tvar activatePageControls = this.shouldShowPageControls();\n\t\tthis.showHideScrollColumns(activatePageControls);\n\t\tthis.updateHoverOnPagingControls(activatePageControls);\n\t},\n\n\t/**\n\t* Enables or disables scroll columns.\n\t*\n\t* @private\n\t*/\n\tenableDisableScrollColumns: function() {\n\t\tvar vWas = this.verticalScrollEnabled,\n\t\t\thWas = this.horizontalScrollEnabled;\n\t\tthis.enableDisableVerticalScrollControls(this.showVertical());\n\t\tthis.enableDisableHorizontalScrollControls(this.showHorizontal());\n\t\tif ((vWas !== this.verticalScrollEnabled || hWas !== this.horizontalScrollEnabled) && !this.resizing) {\n\t\t\tthis.resize();\n\t\t}\n\t},\n\n\t/**\n\t* Enables or disables vertical scroll column.\n\t*\n\t* @private\n\t*/\n\tenableDisableVerticalScrollControls: function(enabled) {\n\t\tthis.$.clientContainer.addRemoveClass('v-scroll-enabled', enabled);\n\t\tthis.$.vColumn.addRemoveClass('v-scroll-enabled', enabled);\n\t\tthis.$.hColumn.addRemoveClass('v-scroll-enabled', enabled);\n\t\tthis.$.pageUpControl.spotlight = enabled && this.spotlightPagingControls;\n\t\tthis.$.pageDownControl.spotlight = enabled && this.spotlightPagingControls;\n\t\tthis.verticalScrollEnabled = enabled;\n\t},\n\n\t/**\n\t* Enables or disables horizontal scroll column.\n\t*\n\t* @private\n\t*/\n\tenableDisableHorizontalScrollControls: function(enabled) {\n\t\tthis.$.clientContainer.addRemoveClass('h-scroll-enabled', enabled);\n\t\tthis.$.vColumn.addRemoveClass('h-scroll-enabled', enabled);\n\t\tthis.$.hColumn.addRemoveClass('h-scroll-enabled', enabled);\n\t\tthis.$.pageLeftControl.spotlight = enabled && this.spotlightPagingControls;\n\t\tthis.$.pageRightControl.spotlight = enabled && this.spotlightPagingControls;\n\t\tthis.horizontalScrollEnabled = enabled;\n\t},\n\n\t/**\n\t* Shows or hides scroll columns.\n\t*\n\t* @private\n\t*/\n\tshowHideScrollColumns: function(show) {\n\t\tthis.showHideVerticalScrollColumns(show);\n\t\tthis.showHideHorizontalScrollColumns(show);\n\t},\n\n\t/**\n\t* Shows or hides vertical scroll columns.\n\t*\n\t* @private\n\t*/\n\tshowHideVerticalScrollColumns: function(show) {\n\t\tthis.$.vColumn.addRemoveClass('visible', show || this.spotlightPagingControls);\n\t},\n\n\t/**\n\t* Shows or hides horizontal scroll columns.\n\t*\n\t* @private\n\t*/\n\tshowHideHorizontalScrollColumns: function(show) {\n\t\tthis.$.hColumn.addRemoveClass('visible', show || this.spotlightPagingControls);\n\t},\n\n\t/**\n\t* Returns boolean indicating whether page controls should be shown at all for this scroller.\n\t*\n\t* @private\n\t*/\n\tshouldShowPageControls: function() {\n\t\treturn (Spotlight.getPointerMode() && this.hovering && !this.spotlightPagingControls);\n\t},\n\n\t/**\n\t* Determines whether we should be showing the vertical scroll column.\n\t*\n\t* @private\n\t*/\n\tshowVertical: function() {\n\t\treturn (this.getVertical() == 'scroll' ||\n\t\t\t\t(this.getVertical() !== 'hidden' &&\n\t\t\t\t((-1 * this.$.scrollMath.bottomBoundary > 0) ||\n\t\t\t\t(this.spotlightPagingControls && !this.hideScrollColumnsWhenFit))));\n\t},\n\n\t/**\n\t* Determines whether we should be showing the horizontal scroll column.\n\t*\n\t* @private\n\t*/\n\tshowHorizontal: function() {\n\t\treturn (this.getHorizontal() == 'scroll' ||\n\t\t\t\t(this.getHorizontal() !== 'hidden' &&\n\t\t\t\t((-1 * this.$.scrollMath.rightBoundary > 0) ||\n\t\t\t\t(this.spotlightPagingControls && !this.hideScrollColumnsWhenFit))));\n\t},\n\n\t/**\n\t* Update bounds after change hideScrollColumnsWhenFit option changes.\n\t*\n\t* @private\n\t*/\n\thideScrollColumnsWhenFitChanged: function(old) {\n\t\tthis.requestSetupBounds();\n\t},\n\n\t/**\n\t* @private\n\t*/\n\t_getScrollBounds: function() {\n\t\tif (this.scrollBounds) {\n\t\t\treturn this.scrollBounds;\n\t\t}\n\t\tvar containerBounds = this.getContainerBounds(),\n\t\t\ts = this.getScrollSize(),\n\t\t\tb = {\n\t\t\t\ttop: this.getScrollTop(),\n\t\t\t\tleft: this.getScrollLeft(),\n\t\t\t\tclientHeight: containerBounds.height,\n\t\t\t\tclientWidth: containerBounds.width,\n\t\t\t\theight: s.height,\n\t\t\t\twidth: s.width\n\t\t\t};\n\n\t\tb.maxLeft = Math.max(0, b.width - b.clientWidth);\n\t\tb.maxTop = Math.max(0, b.height - b.clientHeight);\n\n\t\tutil.mixin(b, this.getOverScrollBounds());\n\n\t\treturn b;\n\t},\n\n\t/**\n\t* @private\n\t*/\n\tgetContainerBounds: function() {\n\t\tvar containerBounds = this.$.clientContainer.getBounds();\n\t\tif(containerBounds) {\n\t\t\tvar paddingExtents = dom.calcPaddingExtents(this.$.clientContainer.hasNode());\n\t\t\tcontainerBounds.width  -= (paddingExtents.left + paddingExtents.right);\n\t\t\tcontainerBounds.height -= (paddingExtents.top  + paddingExtents.bottom);\n\t\t}\n\t\treturn containerBounds;\n\t},\n\n\t/**\n\t* @private\n\t*/\n\tgetVerticalThumbBounds: function() {\n\t\treturn this.vBounds ? this.vBounds : this.$.vthumbContainer.getBounds();\n\t},\n\n\t/**\n\t* @private\n\t*/\n\tgetHorizontalThumbBounds: function() {\n\t\treturn this.hBounds ? this.hBounds : this.$.hthumbContainer.getBounds();\n\t},\n\n\t/**\n\t* @private\n\t*/\n\tresetCachedValues: function() {\n\t\tthis.vBounds = null;\n\t\tthis.hBounds = null;\n\t\tthis.scrollBounds = null;\n\t},\n\n\t/**\n\t* Helper function for `animateToControl()`\n\t*\n\t* @private\n\t*/\n\tat5WayLimit: function (control, direction) {\n\t\treturn !Spotlight.NearestNeighbor.getNearestNeighbor(direction, control, {root: Spotlight.getParent(control)});\n\t},\n\n\t/**\n\t* Helper function for `animateToControl()`\n\t*\n\t* @private\n\t*/\n\tgetOffsets: function (control) {\n\t\tvar offsets  = control.getAbsoluteBounds(),\n\t\t\tviewportBounds = this.$.viewport.getAbsoluteBounds(),\n\t\t\tscrollBounds   = this._getScrollBounds();\n\n\t\toffsets.right = document.body.offsetWidth - offsets.right;\n\t\tviewportBounds.right = document.body.offsetWidth - viewportBounds.right;\n\n\t\t// Make absolute controlBounds relative to scroll position\n\t\toffsets.top += scrollBounds.top;\n\t\tif (this.rtl) {\n\t\t\toffsets.right += scrollBounds.left;\n\t\t} else {\n\t\t\toffsets.left += scrollBounds.left;\n\t\t}\n\n\t\toffsets.top = offsets.top - viewportBounds.top;\n\t\toffsets.left = (this.rtl ? offsets.right : offsets.left) - (this.rtl ? viewportBounds.right : viewportBounds.left);\n\n\t\treturn offsets;\n\t},\n\n\t/**\n\t* Scrolls until the passed-in [control]{@link module:enyo/Control~Control} is in view.\n\t* If `scrollFullPage` is set, scrolls until the edge of `control` is aligned\n\t* with the edge of the visible scroll area.\n\t*\n\t* @param {Control} control - The [control]{@link module:enyo/Control~Control} to scroll into view.\n\t* @param {Boolean} [scrollFullPage] - If `true`, scrolls until the edge of `control` is\n\t*\taligned with the edge of the visible scroll area. If `undefined`, the value in the\n\t*\tcontainer's `scrollFullPage` property is used.\n\t* @param {Boolean} [animate=true] - Set to `false` to prevent animation.\n\t* @param {String} direction - If the [control]{@link module:enyo/Control~Control} is being\n\t*   animated to as a result of a 5-way move, the direction of the 5-way move should be passed\n\t*   via this parameter. This information is used to scroll all the way to the scroller's boundary\n\t*   if there are no focusable elements between the control and the boundary, and the control is\n\t*   close enough to the boundary that it will be in view. This parameter is used internally; app\n\t*   code calling `animateToControl()` should generaly not need to use it.\n\t*\n\t* @private\n\t*/\n\tanimateToControl: function(control, scrollFullPage, animate, direction) {\n\t\tvar offsets = this.getOffsets(control),\n\t\t\tscrollBounds = this._getScrollBounds(),\n\t\t\txDir,\n\t\t\tyDir,\n\t\t\tx,\n\t\t\ty;\n\n\t\t// Allow local scrollFullPage param to override scroller property\n\t\tscrollFullPage = (typeof scrollFullPage === 'undefined') ? this.container.getScrollFullPage() : scrollFullPage;\n\n\t\t// 0: currently visible, 1: right of viewport, -1: left of viewport\n\t\txDir = calcNodeVisibility(offsets.left, offsets.width, scrollBounds.left, scrollBounds.clientWidth);\n\t\t// 0: currently visible, 1: below viewport, -1: above viewport\n\t\tyDir = calcNodeVisibility(offsets.top, offsets.height, scrollBounds.top, scrollBounds.clientHeight);\n\n\t\tswitch (xDir) {\n\t\t\tcase 0:\n\t\t\t\tx = this.getScrollLeft();\n\t\t\t\tbreak;\n\t\t\tcase 1:\n\t\t\t\t// If control requested to be scrolled all the way to the viewport's left, or if the control\n\t\t\t\t// is larger than the viewport, scroll to the control's left edge. Otherwise, scroll just\n\t\t\t\t// far enough to get the control into view.\n\t\t\t\tif (scrollFullPage || offsets.width > scrollBounds.clientWidth) {\n\t\t\t\t\tx = offsets.left;\n\t\t\t\t} else {\n\t\t\t\t\tx = offsets.left - scrollBounds.clientWidth + offsets.width;\n\t\t\t\t\t// If nodeStyle exists, add the _marginRight_ to the scroll value.\n\t\t\t\t\tx += dom.getComputedBoxValue(control.hasNode(), 'margin', 'right');\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\tcase -1:\n\t\t\t\t// If control requested to be scrolled all the way to the viewport's right, or if the control\n\t\t\t\t// is larger than the viewport, scroll to the control's right edge. Otherwise, scroll just\n\t\t\t\t// far enough to get the control into view.\n\t\t\t\tif (scrollFullPage || offsets.width > scrollBounds.clientWidth) {\n\t\t\t\t\tx = offsets.left - scrollBounds.clientWidth + offsets.width;\n\t\t\t\t} else {\n\t\t\t\t\tx = offsets.left;\n\t\t\t\t\t// If nodeStyle exists, subtract the _marginLeft_ to the scroll value.\n\t\t\t\t\tx -= dom.getComputedBoxValue(control.hasNode(), 'margin', 'left');\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t}\n\n\t\tswitch (yDir) {\n\t\t\tcase 0:\n\t\t\t\ty = this.getScrollTop();\n\t\t\t\tbreak;\n\t\t\tcase 1:\n\t\t\t\t// If control requested to be scrolled all the way to the viewport's top, or if the control\n\t\t\t\t// is larger than the viewport, scroll to the control's top edge. Otherwise, scroll just\n\t\t\t\t// far enough to get the control into view.\n\t\t\t\tif (scrollFullPage || offsets.height > scrollBounds.clientHeight) {\n\t\t\t\t\ty = offsets.top;\n\t\t\t\t\t// If nodeStyle exists, add the _marginBottom_ to the scroll value.\n\t\t\t\t\ty -= dom.getComputedBoxValue(control.hasNode(), 'margin', 'top');\n\t\t\t\t} else {\n\t\t\t\t\ty = offsets.top - scrollBounds.clientHeight + offsets.height;\n\t\t\t\t\t// If nodeStyle exists, add the _marginBottom_ to the scroll value.\n\t\t\t\t\ty += dom.getComputedBoxValue(control.hasNode(), 'margin', 'bottom');\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\tcase -1:\n\t\t\t\t// If control requested to be scrolled all the way to the viewport's bottom, or if the control\n\t\t\t\t// is larger than the viewport, scroll to the control's bottom edge. Otherwise, scroll just\n\t\t\t\t// far enough to get the control into view.\n\t\t\t\tif (scrollFullPage || offsets.height > scrollBounds.clientHeight) {\n\t\t\t\t\ty = offsets.top - scrollBounds.clientHeight + offsets.height;\n\t\t\t\t} else {\n\t\t\t\t\ty = offsets.top;\n\t\t\t\t\t// If nodeStyle exists, subtract the _marginTop_ to the scroll value.\n\t\t\t\t\ty -= dom.getComputedBoxValue(control.hasNode(), 'margin', 'bottom');\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t}\n\n\t\t// First, scroll as far as needed to bring the element into view, respecting\n\t\t// the requested scroll options\n\t\tthis.scrollIfChanged(x, y, animate);\n\n\t\t// Then, if we're in 5-way mode, check to see if we should scroll all the way\n\t\t// to a scroller boundary along either axis. We scroll all the way to boundary\n\t\t// if a) there are no more focusable elements between the control we're scrolling\n\t\t// to and the boundary; and b) the control we're scrolling to is close enough to\n\t\t// the boundary that it will still be in view. The main purpose of this logic is\n\t\t// to ensure that users scrolling via 5-way remotes can still scroll to the edges\n\t\t// of the scroller's contents, even if there are no focusable elements immediately\n\t\t// adjacent to the scroller boundaries. This can happen in app layouts where there\n\t\t// are inherently non-focusable elements (e.g. headers) or in layouts where normally\n\t\t// focusable elements near the scroller boundaries have been disabled and therefore\n\t\t// can't be focused.\n\t\tif (!Spotlight.getPointerMode()) {\n\t\t\t// Do this in a job, since we don't want to perform the expensive Spotlight check\n\t\t\t// when the user is holding down a 5-way key to scroll rapidly; this way, we'll\n\t\t\t// only check when scrolling is finished.\n\t\t\tthis.startJob('scrollToBoundary', this.bindSafely(function () {\n\t\t\t\tvar hDir, hLimit, vDir, vLimit, pos, size, scrollSize;\n\n\t\t\t\t// We check the left boundary if we are explicitly moving\n\t\t\t\t// left, but also if the algorithm above has determined that\n\t\t\t\t// we need to scroll left. Same thing goes for the other three\n\t\t\t\t// boundaries. We consider implicit direction because if the scroller\n\t\t\t\t// is scrolling in two dimensions, there may be cases where (for\n\t\t\t\t// example) an element reached via a vertical move happens to be\n\t\t\t\t// the closest element to a horizontal boundary. \n\t\t\t\tif (direction === 'LEFT' || xDir === -1) {\n\t\t\t\t\thDir = 'LEFT';\n\t\t\t\t\thLimit = 0;\n\t\t\t\t}\n\t\t\t\telse if (direction === 'RIGHT' || xDir === 1) {\n\t\t\t\t\thDir = 'RIGHT';\n\t\t\t\t\thLimit = scrollBounds.maxLeft;\n\t\t\t\t}\n\n\t\t\t\t// If we've determined that we're moving right or left, check\n\t\t\t\t// the corresponding boundary and see whether we're at the limit\n\t\t\t\t// of 5-way navigation in that direction.\n\t\t\t\tif (hDir && this.at5WayLimit(control, hDir)) {\n\t\t\t\t\t// If we are at the limit, we need to make sure that the control\n\t\t\t\t\t// we're scrolling to will still be in view if we scroll all the\n\t\t\t\t\t// way to the boundary\n\t\t\t\t\tpos = offsets.left;\n\t\t\t\t\tsize = offsets.width;\n\t\t\t\t\tscrollSize = scrollBounds.clientWidth;\n\t\t\t\t\tif (calcNodeVisibility(pos, size, hLimit, scrollSize) === 0) {\n\t\t\t\t\t\tx = hLimit;\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\t// Same logic as above, but applied to vertical moves\n\t\t\t\tif (direction === 'UP' || yDir === -1) {\n\t\t\t\t\tvDir = 'UP';\n\t\t\t\t\tvLimit = 0;\n\t\t\t\t}\n\t\t\t\telse if (direction === 'DOWN' || yDir === 1) {\n\t\t\t\t\tvDir = 'DOWN';\n\t\t\t\t\tvLimit = scrollBounds.maxTop;\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\tif (vDir && this.at5WayLimit(control, vDir)) {\n\t\t\t\t\tpos = offsets.top;\n\t\t\t\t\tsize = offsets.height;\n\t\t\t\t\tscrollSize = scrollBounds.clientHeight;\n\t\t\t\t\tif (calcNodeVisibility(pos, size, vLimit, scrollSize) === 0) {\n\t\t\t\t\t\ty = vLimit;\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\t// If we have determined we should scroll to the boundary, do it now\n\t\t\t\tthis.scrollIfChanged(x, y, this.scrollToBoundaryAnimate);\n\t\t\t}), this.scrollToBoundaryDelay);\n\t\t}\n\t},\n\n\t/**\n\t* @private\n\t*/\n\tscrollIfChanged: function (x, y, animate) {\n\t\t// If x or y changed, scroll to new position\n\t\tif (x !== this.getScrollLeft() || y !== this.getScrollTop()) {\n\t\t\tthis.scrollTo(x, y, animate);\n\t\t}\n\t},\n\n\t/**\n\t* @private\n\t*/\n\tclampScrollPosition: function() {\n\t\tvar x = this.clampX(),\n\t\t\ty = this.clampY();\n\n\t\tif (x !== this.getScrollLeft() || y !== this.getScrollTop()) {\n\t\t\tthis.scrollTo(x, y);\n\t\t}\n\t},\n\n\t/**\n\t* @private\n\t*/\n\tclampX: function() {\n\t\tvar m = this.$.scrollMath;\n\t\treturn Math.min(Math.max(this.getScrollLeft(), -1*m.leftBoundary), -1*m.rightBoundary);\n\t},\n\n\t/**\n\t* @private\n\t*/\n\tclampY: function() {\n\t\tvar m = this.$.scrollMath;\n\t\treturn Math.min(Math.max(this.getScrollTop(), -1*m.topBoundary), -1*m.bottomBoundary);\n\t}\n});\n\n// FIXME: Webkit will change the scrollTop value of the scroller viewport to keep the current\n// tab-focused control onscreen if we allow it to handle tabs itself, so we defeat native\n// TAB focus movement here.\ndispatcher.features.push(function(e) {\n\tif ((e.type == 'keydown') && (e.keyCode == 9)) {\n\t\te.preventDefault();\n\t}\n});\n\nMoonScrollStrategy.Touch = kind({\n\tname: 'moon.TouchScrollStrategy',\n\tkind: TouchScrollStrategy,\n\tcreate: function () {\n\t\tTouchScrollStrategy.prototype.create.apply(this, arguments);\n\t\tif (!config.accelerate) {\n\t\t\tthis.transform = false;\n\t\t\tthis.accel = false;\n\n\t\t\tif(this.overscroll) {\n\t\t\t\t//so we can adjust top/left if browser can't handle translations\n\t\t\t\tthis.$.client.applyStyle('position', 'relative');\n\t\t\t}\n\t\t}\n\t}\n});\n","/**\n* Contains the declaration for the {@link module:moonstone/VideoTransportSlider~VideoTransportSlider} kind.\n* @module moonstone/VideoTransportSlider\n*/\n\nrequire('moonstone');\n\nvar\n\tkind = require('enyo/kind'),\n\tdom = require('enyo/dom'),\n\tri = require('enyo/resolution'),\n\tControl = require('enyo/Control'),\n\tPopup = require('enyo/Popup');\n\nvar\n\tSpotlight = require('spotlight');\n\nvar\n\tDurationFmt = require('enyo-ilib/DurationFmt'),\n\tLocale = require('enyo-ilib/Locale');\n\nvar\n\tSlider = require('moonstone/Slider'),\n\tVideoFeedback = require('../VideoFeedback');\n\nvar\n\t$L = require('../i18n'),\n\tdefaultKnobIncrement = '5%';\n\n/**\n* The parameter [object]{@glossary Object} used when displaying a {@link module:moonstone/VideoFeedback~VideoFeedback}\n* control.\n*\n* @typedef {Object} module:moonstone/VideoTransportSlider~VideoTransportSlider~FeedbackParameterObject\n* @property {Number} [playbackRate] - The playback rate.\n* @property {Number} [jumpSize] - The jump size.\n* @public\n*/\n\n/**\n* Fires when user starts dragging the video position knob. No additional data is\n* provided in this event.\n*\n* @event module:moonstone/VideoTransportSlider~VideoTransportSlider#onSeekStart\n* @type {Object}\n* @public\n*/\n\n/**\n* Fires when user changes the video position by tapping the bar.\n*\n* @event module:moonstone/VideoTransportSlider~VideoTransportSlider#onSeek\n* @type {Object}\n* @property {Number} value - The position to seek to.\n* @public\n*/\n\n/**\n* Fires when user stops dragging the video position knob.\n*\n* @event module:moonstone/VideoTransportSlider~VideoTransportSlider#onSeekFinish\n* @type {Object}\n* @property {Number} value - The position to seek to.\n* @public\n*/\n\n/**\n* Fires when cursor enters the tap area.\n* Note. this event will be deprecated and replaced with #onSpotlightFocused\n*\n* @event module:moonstone/VideoTransportSlider~VideoTransportSlider#onEnterTapArea\n* @type {Object}\n* @public\n*/\n\n/**\n* Fires when cursor leaves the tap area.\n* Note. this event will be deprecated and replaced with #onSpotlightBlur\n*\n* @event module:moonstone/VideoTransportSlider~VideoTransportSlider#onLeaveTapArea\n* @type {Object}\n* @public\n*/\n\n/**\n* {@link module:moonstone/VideoTransportSlider~VideoTransportSlider} extends {@link module:moonstone/Slider~Slider}, adding specialized\n* behavior related to video playback.\n*\n* ```javascript\n* var VideoTransportSlider = require('moonstone/VideoTransportSlider');\n*\n* {kind: VideoTransportSlider, value: 30}\n* ```\n*\n* The [onSeekStart]{@link module:moonstone/VideoTransportSlider~VideoTransportSlider#onSeekStart} event is fired while\n* the control knob is being dragged, the\n* [onSeekFinish]{@link module:moonstone/VideoTransportSlider~VideoTransportSlider#onSeekFinish} event is fired when the\n* drag finishes, and the [onSeek]{@link module:moonstone/VideoTransportSlider~VideoTransportSlider#onSeek} event is fired\n* when the position is set by tapping the bar.\n*\n* @class VideoTransportSlider\n* @extends module:moonstone/Slider~Slider\n* @ui\n* @public\n*/\nmodule.exports = kind(\n\t/** @lends module:moonstone/VideoTransportSlider~VideoTransportSlider.prototype */ {\n\n\t/**\n\t* @private\n\t*/\n\tname: 'moon.VideoTransportSlider',\n\n\t/**\n\t* @private\n\t*/\n\tkind: Slider,\n\n\t/**\n\t* @private\n\t*/\n\tclasses: 'moon-video-player-transport-slider',\n\n\t/**\n\t* @private\n\t* @lends module:moonstone/VideoTransportSlider~VideoTransportSlider.prototype\n\t*/\n\tpublished: {\n\n\t\t/**\n\t\t* Starting point of slider.\n\t\t*\n\t\t* @type {Number}\n\t\t* @default 0\n\t\t* @public\n\t\t*/\n\t\trangeStart: 0,\n\n\t\t/**\n\t\t* Ending point of slider.\n\t\t*\n\t\t* @type {Number}\n\t\t* @default 100\n\t\t* @public\n\t\t*/\n\t\trangeEnd: 100,\n\n\t\t/**\n\t\t* Controls the slider draw.\n\t\t*\n\t\t* @type {Boolean}\n\t\t* @default true\n\t\t* @public\n\t\t*/\n\t\tsyncTick: true,\n\n\t\t/**\n\t\t* When `true`, label is shown at the start and end positions.\n\t\t*\n\t\t* @type {Boolean}\n\t\t* @default true\n\t\t* @public\n\t\t*/\n\t\tshowTickText: true,\n\n\t\t/**\n\t\t* When `true`, progress may extend past the hour markers.\n\t\t*\n\t\t* @type {Boolean}\n\t\t* @default false\n\t\t* @public\n\t\t*/\n\t\tliveMode: false,\n\n\t\t/**\n\t\t* CSS classes to apply to background progress bar.\n\t\t*\n\t\t* @type {String}\n\t\t* @default 'bg-bar'\n\t\t* @public\n\t\t*/\n\t\tbgBarClasses: 'bg-bar',\n\n\t\t/**\n\t\t* CSS classes to apply to progress bar.\n\t\t*\n\t\t* @type {String}\n\t\t* @default 'bar-bar'\n\t\t* @public\n\t\t*/\n\t\tbarClasses: 'bar-bar',\n\n\t\t/**\n\t\t* CSS classes to apply to popup label.\n\t\t*\n\t\t* @type {String}\n\t\t* @default 'popup-label'\n\t\t* @public\n\t\t*/\n\t\tpopupLabelClasses: 'popup-label',\n\n\t\t/**\n\t\t* CSS classes to apply to knob.\n\t\t*\n\t\t* @type {String}\n\t\t* @default 'knob'\n\t\t* @public\n\t\t*/\n\t\tknobClasses: 'knob',\n\n\t\t/**\n\t\t* Color of value popup\n\t\t*\n\t\t* @type {String}\n\t\t* @default '#fff'\n\t\t* @public\n\t\t*/\n\t\tpopupColor: '#4B4B4B',\n\n\t\t/**\n\t\t* Popup offset in pixels.\n\t\t*\n\t\t* @type {Number}\n\t\t* @default 144 - controls height(132) + margin (12)\n\t\t* @public\n\t\t*/\n\t\tpopupOffset: 144,\n\n\t\t/**\n\t\t* Threshold value (percentage) for using animation effect on slider progress change.\n\t\t*\n\t\t* @type {Number}\n\t\t* @default 1\n\t\t* @public\n\t\t*/\n\t\tsmallVariation: 1,\n\n\t\t/**\n\t\t* Popup height in pixels.\n\t\t*\n\t\t* @type {Number}\n\t\t* @default 67\n\t\t* @public\n\t\t*/\n\t\tpopupHeight: 48,\n\n\t\t/**\n\t\t* Sliders will increase or decrease as much as knobIncrement in either direction\n\t\t* when left or right key is pressed in 5-way mode.\n\t\t* If you'd like to use a specific value instead of a percentage,\n\t\t* specify the value in this property when you instantiate the VideoPlayer.\n\t\t*\n\t\t* @type {Number|String}\n\t\t* @default '5%'\n\t\t* @public\n\t\t*/\n\t\tknobIncrement: defaultKnobIncrement\n\t},\n\n\t/**\n\t* @private\n\t*/\n\thandlers: {\n\t\tonresize: 'handleResize',\n\t\tonSpotlightKeyDown: 'spotlightKeyDownHandler',\n\t\tonmove: 'preview'\n\t},\n\n\t/**\n\t* @private\n\t*/\n\tevents: {\n\t\tonSeekStart: '',\n\t\tonSeek: '',\n\t\tonSeekFinish: '',\n\t\tonEnterTapArea: '',\n\t\tonLeaveTapArea: ''\n\t},\n\n\t/**\n\t* @private\n\t*/\n\ttickComponents: [\n\t\t{name: 'startWrapper', classes: 'indicator-wrapper start', components: [\n\t\t\t{name: 'beginTickText', classes: 'indicator-text left', content: '00:00'}\n\t\t]},\n\t\t{name: 'endWrapper', classes: 'indicator-wrapper end', components: [\n\t\t\t{name: 'endTickText', classes: 'indicator-text right', content: '00:00'}\n\t\t]}\n\t],\n\n\t/**\n\t* @private\n\t*/\n\tpopupComponents: [\n\t\t{name: 'popup', kind: Popup, classes: 'moon-slider-popup above status-indicator', accessibilityDisabled: true, components: [\n\t\t\t{name: 'popupLabel', classes: 'moon-slider-popup-center' }\n\t\t]}\n\t],\n\t/**\n\t* @private\n\t*/\n\tpopupLabelComponents: [\n\t\t{name: 'feedback', kind: VideoFeedback, showing:false},\n\t\t{name: 'popupLabelText', kind: Control}\n\t],\n\n\t/**\n\t* @private\n\t*/\n\t_previewMode: false,\n\n\t/**\n\t* @private\n\t*/\n\t_enterEnable: false,\n\n\t/**\n\t* @private\n\t*/\n\tcreatePopup: function () {\n\t\tthis.createComponents(this.popupComponents);\n\t},\n\n\t/**\n\t* @private\n\t*/\n\tcreate: function () {\n\t\tSlider.prototype.create.apply(this, arguments);\n\t\tthis.$.popup.setAutoDismiss(false);\t\t//* Always showing popup\n\t\tthis.$.popup.captureEvents = false;\t\t//* Hot fix for bad originator on tap, drag ...\n\n\t\t//* Extend components\n\t\tthis.createTickComponents();\n\t\tthis.createPopupLabelComponents();\n\t\tthis.showTickTextChanged();\n\t\tthis.knobIncrementChanged();\n\n\t\tthis.durfmt = new DurationFmt({length: 'medium', style: 'clock', useNative: false});\n\t\tthis.$.beginTickText.setContent(this.formatTime(0));\n\n\t\tvar loc = new Locale(),\n\t\t\tlanguage = loc.getLanguage(),\n\t\t\t// Hash of languages and the additional % widths they'll need to not run off the edge.\n\t\t\tlangWidths = {\n\t\t\t\tja: 0.05,\n\t\t\t\tpt: 0.05,\n\t\t\t\tvi: 0.02\n\t\t\t};\n\n\t\tif (langWidths[language]) {\n\t\t\t//Todo. Instead of adjust begin or end postion, find proper way tpo conpensate language matter\n\t\t\t//move begin position to right as much as langWidths[language]\n\t\t\t//move end position to left as much as langWidths[language] );\n\t\t}\n\t},\n\n\t/**\n\t* Ugly to need to do this but avoid the overhead of calculations used wastefully by this\n\t* method in ProgressBar (not needed since this kind overloads the child components).\n\t*\n\t* @private\n\t*/\n\tdrawToCanvas: function () {\n\t\t// nop\n\t},\n\n\t/**\n\t* @private\n\t*/\n\tcreateTickComponents: function () {\n\t\tthis.createComponents(this.tickComponents, {owner: this, addBefore: this.$.knob});\n\t},\n\n\t/**\n\t* @private\n\t*/\n\tcreatePopupLabelComponents: function () {\n\t\tthis.$.popupLabel.createComponents(this.popupLabelComponents, {owner: this});\n\t\tthis.currentTime = 0;\n\t},\n\n\t/**\n\t* If user presses enter on `this.$.tapArea`, seeks to that point.\n\t*\n\t* @private\n\t*/\n\tspotlightKeyDownHandler: function (sender, e) {\n\t\tvar val;\n\t\tif (this.tappable && !this.disabled && e.keyCode == 13) {\n\t\t\tthis.set('knobSelected', true);\n\t\t\tthis.startJob('simulateTapEnd', function () {\n\t\t\t\tthis.set('knobSelected', false);\n\t\t\t}, 200);\n\t\t\tval = this.transformToVideo(this.knobPosValue);\n\t\t\tthis.sendSeekEvent(val);\n\t\t\tthis.set('_enterEnable', true);\n\t\t\treturn true;\n\t\t}\n\t},\n\n\t/**\n\t* @private\n\t*/\n\tspotFocused: function (sender, e) {\n\t\tSlider.prototype.spotFocused.apply(this, arguments);\n\t\tif (!this.disabled) {\n\t\t\tthis.spotSelect();\n\t\t\t// this.knobPosValue will be used for knob positioning.\n\t\t\tthis.knobPosValue = this.get('value');\n\t\t\t// Todo: visible does not mean slider is visible. it means knob is visible\n\t\t\t// we'd better change its name to preview or more intuitive name\n\t\t\tthis.addClass('visible');\n\t\t\t//fires enyo.VideoTransportSlider#onEnterTapArea\n\t\t\tthis.doEnterTapArea();\n\t\t}\n\n\t\t// if slider is in preview mode, preview() will update knobPosition\n\t\tif (!Spotlight.getPointerMode()) {\n\t\t\tthis._updateKnobPosition(this.knobPosValue);\n\t\t}\n\t\tthis.startPreview();\n\t},\n\n\t/**\n\t* @private\n\t*/\n\tspotSelect: function () {\n\t\tthis.selected = true;\n\t\treturn true;\n\t},\n\n\t/**\n\t* @private\n\t*/\n\tspotBlur: function () {\n\t\tthis.set('_enterEnable', false);\n\t\tthis.selected = false;\n\t\tthis.removeClass('visible');\n\t\tthis.endPreview();\n\t\t//fires enyo.VideoTransportSlider#onLeaveTapArea\n\t\tthis.doLeaveTapArea();\n\t},\n\n\t/**\n\t* @private\n\t*/\n\tspotLeft: function (sender, e) {\n\t\tif (this.selected && this.knobPosValue > this.min) {\n\t\t\t// If in the process of animating, work from the previously set value\n\t\t\tvar v = this.clampValue(this.min, this.max, this.knobPosValue || this.getValue());\n\t\t\tv = (v - this._knobIncrement < this.min) ? this.min : v - this._knobIncrement;\n\t\t\tthis._updateKnobPosition(v);\n\t\t\tthis.set('knobPosValue', v);\n\t\t\tthis.set('_enterEnable', false);\n\t\t}\n\t\treturn true;\n\t},\n\n\t/**\n\t* @private\n\t*/\n\tspotRight: function (sender, e) {\n\t\tif (this.selected && this.knobPosValue < this.max - 1) {\n\t\t\tvar value = (typeof this.knobPosValue != 'undefined') ? this.knobPosValue : this.getValue(),\n\t\t\t\tv = this.clampValue(this.min, this.max, value);\n\t\t\tv = (v + this._knobIncrement > this.max) ? this.max - 1 : v + this._knobIncrement;\n\t\t\tthis._updateKnobPosition(v);\n\t\t\tthis.set('knobPosValue', v);\n\t\t\tthis.set('_enterEnable', false);\n\t\t}\n\t\treturn true;\n\t},\n\n\t/**\n\t* @private\n\t*/\n\tknobIncrementChanged: function () {\n\t\tvar increment = this.knobIncrement || defaultKnobIncrement;\n\n\t\tif (typeof increment == 'number' && increment > 0) {\n\t\t\tthis._knobIncrement = increment;\n\t\t} else {\n\t\t\tif (typeof increment != 'string' || increment.charAt(increment.length - 1) != '%') {\n\t\t\t\tincrement = defaultKnobIncrement;\n\t\t\t}\n\t\t\tthis._knobIncrement = (this.max - this.min) * increment.substr(0, increment.length - 1) / 100;\n\t\t}\n\t},\n\n\t/**\n\t* onmove event handler. When mouse moves on slider, it will update knob's position\n\t*\n\t* @private\n\t*/\n\tpreview: function (sender, e) {\n\t\tif (!this.disabled && !this.dragging) {\n\t\t\tif (!this._previewMode) {\n\t\t\t\tthis.startPreview();\n\t\t\t}\n\t\t\tvar v = this.knobPosValue = this.calcKnobPosition(e);\n\t\t\tthis.currentTime = this.transformToVideo(v);\n\t\t\tthis._updateKnobPosition(this.currentTime);\n\t\t}\n\t},\n\n\t/**\n\t* @private\n\t*/\n\tstartPreview: function (sender, e) {\n\t\tthis._previewMode = true;\n\t\tthis.$.feedback.setShowing(false);\n\t},\n\n\t/**\n\t* @private\n\t*/\n\tendPreview: function (sender, e) {\n\t\tthis._previewMode = false;\n\t\tthis.updatePopupLabel(this.value);\n\t\tif (this.$.feedback.isPersistShowing()) {\n\t\t\tthis.$.feedback.setShowing(true);\n\t\t}\n\t},\n\n\t/**\n\t* @private\n\t*/\n\tisInPreview: function (sender, e) {\n\t\treturn this._previewMode;\n\t},\n\n\t/**\n\t* @private\n\t*/\n\thandleResize: function () {\n\t\tSlider.prototype.handleResize.apply(this, arguments);\n\t\tthis.updateSliderRange();\n\t},\n\n\t/**\n\t* @private\n\t*/\n\tupdateSliderRange: function () {\n\t\tthis.setRangeStart(this.min);\n\t\tthis.setRangeEnd(this.max);\n\n\t\tif (this.dragging || !this.isInPreview()) {\n\t\t\tthis._updateKnobPosition(this.value);\n\t\t}\n\t},\n\n\t/**\n\t* @private\n\t*/\n\tsetMin: function () {\n\t\tSlider.prototype.setMin.apply(this, arguments);\n\t\tthis.knobIncrementChanged();\n\t\tthis.updateSliderRange();\n\t},\n\n\t/**\n\t* @private\n\t*/\n\tsetMax: function () {\n\t\tSlider.prototype.setMax.apply(this, arguments);\n\t\tthis.knobIncrementChanged();\n\t\tthis.updateSliderRange();\n\t},\n\n\t/**\n\t* @private\n\t*/\n\tsetRangeStart: function (val) {\n\t\tthis.rangeStart = this.clampValue(this.getMin(), this.getMax(), val);\n\t\tthis.rangeStartChanged();\n\t},\n\n\t/**\n\t* @private\n\t*/\n\tsetRangeEnd: function (val) {\n\t\tthis.rangeEnd = this.clampValue(this.getMin(), this.getMax(), val);\n\t\tthis.rangeEndChanged();\n\t},\n\n\t/**\n\t* @private\n\t*/\n\tknobSelectedChanged: function () {\n\t\tSlider.prototype.knobSelectedChanged.apply(this, arguments);\n\t\tthis.addRemoveClass('pressed', this.knobSelected);\n\t},\n\n\t/**\n\t* @private\n\t*/\n\tshowTickTextChanged: function () {\n\t\tthis.$.beginTickText.setShowing(this.getShowTickText());\n\t\tthis.$.endTickText.setShowing(this.getShowTickText());\n\t},\n\n\t/**\n\t* @private\n\t*/\n\trangeStartChanged: function () {\n\t\tthis.updateInternalProperty();\n\t\tvar p = this._calcPercent(this.rangeStart),\n\t\t\tproperty = 'margin-left';\n\t\tif (this.liveMode) {\n\t\t\tproperty = 'padding-left';\n\t\t}\n\t\tthis.$.bar.applyStyle(property, p + '%');\n\t\tthis.$.bgbar.applyStyle(property, p + '%');\n\t},\n\n\t/**\n\t* @private\n\t*/\n\trangeEndChanged: function () {\n\t\tthis.updateInternalProperty();\n\t},\n\n\t/**\n\t* @private\n\t*/\n\tupdateInternalProperty: function () {\n\t\tthis.updateScale();\n\t\tthis.progressChanged();\n\t\tthis.bgProgressChanged();\n\t},\n\t//* Sets value of hidden variable, _scaleFactor_.\n\tupdateScale: function () {\n\t\tthis.scaleFactor = (this.rangeEnd-this.rangeStart)/(this.max-this.min);\n\t},\n\n\t/**\n\t* @private\n\t*/\n\tcalcPercent: function (val) {\n\t\treturn (this.calcRatio(val) * 100) * this.scaleFactor;\n\t},\n\n\t/**\n\t* @private\n\t*/\n\t_calcPercent: function (val) {\n\t\treturn this.calcRatio(val) * 100;\n\t},\n\n\t/**\n\t* @private\n\t*/\n\tcalcVariationRatio: function (val, currentVal) {\n\t\treturn (val - currentVal) / (this.max - this.min);\n\t},\n\n\t/**\n\t* @private\n\t*/\n\tcalcVariationPercent: function (val, currentVal) {\n\t\treturn this.calcVariationRatio(val, currentVal) * 100;\n\t},\n\n\t/**\n\t* Override Slider.updateKnobPosition to only update the popupLabelText\n\t*\n\t* @private\n\t*/\n\tupdateKnobPosition: function (val) {\n\t\tif (this.dragging) {\n\t\t\tthis.updatePopupLabel(this.currentTime);\n\t\t} else if (!this.isInPreview()) {\n\t\t\tthis.updatePopupLabel(val);\n\t\t}\n\t},\n\n\t/**\n\t* Calculate slider knob's position and apply it.\n\t*\n\t* @private\n\t*/\n\t_updateKnobPosition: function (val) {\n\t\t// If knob is visible, we need update its current position\n\t\tif (this.hasClass('visible')) {\n\t\t\tvar p = this.clampValue(this.min, this.max, val);\n\t\t\tp = this._calcPercent(p);\n\t\t\tvar slider = this.inverseToSlider(p);\n\t\t\tthis.$.knob.applyStyle('left', slider + '%');\n\t\t}\n\n\t\tthis.updatePopupLabel(val);\n\t},\n\n\t/**\n\t* Override default behavior\n\t*\n\t* @private\n\t*/\n\tupdatePopupLabel: function (timeVal) {\n\t\tif (Spotlight.getCurrent() === this) {\n\t\t\tthis.$.popupLabelText.setContent(this.formatTime(timeVal));\n\t\t} else if (this.currentTime !== undefined) {\n\t\t\tthis.$.popupLabelText.setContent(this.formatTime(this.currentTime));\n\t\t}\n\t},\n\n\t/**\n\t* @private\n\t*/\n\tinverseToSlider: function (percent) {\n\t\tvar val = this.scaleFactor * percent + this._calcPercent(this.rangeStart);\n\t\treturn val;\n\t},\n\n\t/**\n\t* @private\n\t*/\n\ttransformToVideo: function (val) {\n\t\tval = this.clampValue(this.getMin(), this.getMax(), val);\n\t\treturn (val - this.rangeStart) / this.scaleFactor;\n\t},\n\n\t/**\n\t* If user presses `slider`, seeks to that point.\n\t*\n\t* @private\n\t*/\n\ttap: function (sender, e) {\n\t\tvar val;\n\t\tif (this.tappable && !this.disabled) {\n\t\t\tval = this.transformToVideo(this.calcKnobPosition(e));\n\t\t\tthis.sendSeekEvent(val);\n\t\t\treturn true;\n\t\t}\n\t},\n\n\t/**\n\t* @private\n\t*/\n\tsetValue: function (val) {\n\t\tthis.currentTime = val;\n\t\tif (Math.abs(this.calcVariationPercent(val, this.value)) > this.smallVariation ||\n\t\t\tthis.calcVariationPercent(this.max, val) < this.smallVariation) {\n\t\t\tSlider.prototype.setValue.apply(this, arguments);\n\t\t} else {\n\t\t\tthis._setValue(val);\n\t\t}\n\t\tthis._updateBeginText(val);\n\t},\n\n\t/**\n\t* @private\n\t*/\n\t_updateBeginText: function (val) {\n\t\tvar v = this.clampValue(this.min, this.max, val);\n\t\tthis.$.beginTickText.setContent(this.formatTime(v));\n\t},\n\n\t/**\n\t* If `dragstart`, bubbles [onSeekStart]{@link module:moonstone/VideoTransportSlider~VideoTransportSlider#onSeekStart}\n\t* event.\n\t*\n\t* @fires module:moonstone/VideoTransportSlider~VideoTransportSlider#onSeekStart\n\t* @private\n\t*/\n\tdragstart: function (sender, e) {\n\t\tif (this.disabled) {\n\t\t\treturn; // return nothing\n\t\t}\n\n\t\t// the call to the super class freezes spotlight, so it needs to be unfrozen in dragfinish\n\t\tvar dragstart = Slider.prototype.dragstart.apply(this, arguments);\n\t\tif (dragstart) {\n\t\t\tthis.doSeekStart();\n\t\t}\n\n\t\treturn true;\n\t},\n\n\t/**\n\t* If `drag`, bubbles [onSeek]{@link module:moonstone/VideoTransportSlider~VideoTransportSlider#onSeek} event and\n\t* overrides parent `drag` handler.\n\t*\n\t* @private\n\t*/\n\tdrag: function (sender, e) {\n\t\tif (this.dragging) {\n\t\t\tvar v = this.calcKnobPosition(e);\n\n\t\t\t//* Default behavior to support elastic effect\n\t\t\tv = this.transformToVideo(v);\n\t\t\tif (this.constrainToBgProgress === true) {\n\t\t\t\tv = (this.increment) ? this.calcConstrainedIncrement(v) : v;\n\t\t\t\tvar ev = this.bgProgress + (v-this.bgProgress)*0.4;\n\t\t\t\tv = this.clampValue(this.min, this.bgProgress, v);\n\t\t\t\tthis.elasticFrom = (this.elasticEffect === false || this.bgProgress > v) ? v : ev;\n\t\t\t\tthis.elasticTo = v;\n\t\t\t} else {\n\t\t\t\tv = (this.increment) ? this.calcIncrement(v) : v;\n\t\t\t\tv = this.clampValue(this.min, this.max, v);\n\t\t\t\tthis.elasticFrom = this.elasticTo = v;\n\t\t\t}\n\t\t\tthis.currentTime = v;\n\t\t\tthis._updateKnobPosition(this.elasticFrom);\n\n\t\t\tif (this.lockBar) {\n\t\t\t\tthis.setProgress(this.elasticFrom);\n\t\t\t\tthis.sendChangingEvent({value: this.elasticFrom});\n\t\t\t\tthis.sendSeekEvent(this.elasticFrom);\n\t\t\t}\n\t\t\treturn true;\n\t\t}\n\t},\n\n\t/**\n\t* @private\n\t*/\n\tdragfinish: function (sender, e) {\n\t\tif (this.disabled) {\n\t\t\treturn;\n\t\t}\n\t\tthis.cleanUpDrag(e);\n\t\te.preventTap();\n\t\treturn true;\n\t},\n\n\t/**\n\t* @fires module:moonstone/VideoTransportSlider~VideoTransportSlider#onSeekFinish\n\t* @private\n\t*/\n\tcleanUpDrag: function (ev) {\n\t\tvar v, z;\n\t\tif (this.get('dragging')) {\n\t\t\tif (ev) {\n\t\t\t\tv = this.calcKnobPosition(ev);\n\t\t\t\tv = this.transformToVideo(v);\n\t\t\t} else { // use the last known-good time value (i.e. from the last drag event)\n\t\t\t\tv = this.currentTime;\n\t\t\t}\n\t\t\tz = this.elasticTo;\n\t\t\tif (this.constrainToBgProgress === true) {\n\t\t\t\tz = (this.increment) ? this.calcConstrainedIncrement(z) : z;\n\t\t\t\tthis.animateTo(this.elasticFrom, z);\n\t\t\t\tv = z;\n\t\t\t} else {\n\t\t\t\tv = (this.increment) ? this.calcIncrement(v) : v;\n\t\t\t\tthis._setValue(v);\n\t\t\t}\n\t\t\tthis.doSeekFinish({value: v});\n\t\t\tSpotlight.unfreeze();\n\n\t\t\tthis.endPreview();\n\n\t\t\tthis.$.knob.removeClass('active');\n\t\t\tthis.set('dragging', false);\n\t\t}\n\t},\n\n\t/**\n\t* @private\n\t*/\n\tshowingChangedHandler: function (sender, ev) {\n\t\tSlider.prototype.showingChangedHandler.apply(this, arguments);\n\t\tif (!ev.showing) {\n\t\t\tthis.cleanUpDrag(); // clean-up any in-progress drags, if we (or an ancestor) is hidden\n\t\t}\n\t},\n\n\t/**\n\t* Sends [onSeek]{@link module:moonstone/VideoTransportSlider~VideoTransportSlider#onSeek} event.\n\t*\n\t* @fires module:moonstone/VideoTransportSlider~VideoTransportSlider#onSeek\n\t* @private\n\t*/\n\tsendSeekEvent: function (val) {\n\t\tthis.doSeek({value: val});\n\t},\n\n\t/**\n\t* During time update, updates buffered progress, canvas and video currentTime\n\t*\n\t* @private\n\t*/\n\ttimeUpdate: function (val) {\n\t\tif (!this.dragging && this.isInPreview()) { return; }\n\t\tthis.currentTime = val;\n\t},\n\n\t/**\n\t* @private\n\t*/\n\tdurationUpdate: function (val) {\n\t\tthis.duration = val;\n\t\tthis.$.endTickText.setContent(this.formatTime(this.duration));\n\t},\n\n\t/**\n\t* Properly formats time.\n\t*\n\t* @private\n\t*/\n\tformatTime: function (val) {\n\t\tvar hour = Math.floor(val / (60*60));\n\t\tvar min = Math.floor((val / 60) % 60);\n\t\tvar sec = Math.floor(val % 60);\n\t\tvar time = {minute: min, second: sec};\n\t\tif (hour) {\n\t\t\ttime.hour = hour;\n\t\t}\n\t\treturn this.durfmt.format(time);\n\t},\n\n\t/**\n\t* Time formatting helper.\n\t*\n\t* @private\n\t*/\n\tpadDigit: function (val) {\n\t\treturn (val) ? (String(val).length < 2) ? '0'+val : val : '00';\n\t},\n\n\t/**\n\t* Sends current status to [feedback]{@link module:moonstone/VideoFeedback~VideoFeedback} control in response to\n\t* user input.\n\t*\n\t* @param {String} msg - The string to display.\n\t* @param {module:moonstone/VideoTransportSlider~VideoTransportSlider~FeedbackParameterObject} params - A\n\t*\t[hash]{@glossary Object} of parameters that accompany the message.\n\t* @param {Boolean} persist - If `true`, the [feedback]{@link module:moonstone/VideoFeedback~VideoFeedback} control will\n\t*\tnot be automatically hidden.\n\t* @param {String} leftSrc - The source url for the image displayed on the left side of\n\t*\tthe feedback control.\n\t* @param {String} rightSrc - The source url for the image displayed on the right side\n\t*\tof the feedback control.\n\t* @public\n\t*/\n\tfeedback: function (msg, params, persist, leftSrc, rightSrc) {\n\t\tthis.showKnobStatus();\n\t\tthis.$.feedback.feedback(msg, params, persist, leftSrc, rightSrc, this.isInPreview());\n\t},\n\n\t/**\n\t* Override of [updatePopup]{@link module:moonstone/ProgressBar~ProgressBar#updatePopup}\n\t* this method is called when progess updated but from Slider, we use value instead of progress\n\t*\n\t* @private\n\t*/\n\tupdatePopup: function (val) {\n\t\treturn true;\n\t},\n\n\t/**\n\t* @private\n\t*/\n\tupdatePopupHeight: function () {\n\t\tvar h = this.getPopupHeight();\n\t\tthis.$.popupLabel.applyStyle('height', dom.unit(ri.scale(h), 'rem'));\n\t},\n\n\t/**\n\t* @private\n\t*/\n\tupdatePopupOffset: function () {\n\t\tthis.$.popup.applyStyle('top', dom.unit(-(ri.scale(this.getPopupHeight() + this.getPopupOffset())), 'rem'));\n\t},\n\n\t// Accessibility\n\n\t/**\n\t* When `true`, VoiceReadout will be prevented.\n\t*\n\t* @default true\n\t* @type {Boolean}\n\t* @public\n\t*/\n\taccessibilityDisabled: true,\n\n\t/**\n\t* @private\n\t*/\n\tariaObservers: [\n\t\t{path: 'selected', method: function() {\n\t\t\tif (this.selected) {\n\t\t\t\tthis.set('accessibilityRole', 'slider');\n\t\t\t\tthis.set('accessibilityLive', null);\n\t\t\t\tthis.set('accessibilityHint', null);\n\t\t\t} else {\n\t\t\t\tthis.setAriaAttribute('aria-valuetext', null);\n\t\t\t}\n\t\t}},\n\t\t{path: ['$.popupLabelText.content', '_enterEnable'], method: 'ariaValue'}\n\t],\n\n\t/**\n\t* Overriding {@link module:moonstone/ProgressBar~ProgressBar#ariaValue} to guard updating value\n\t* when dragging.\n\t*\n\t* @private\n\t*/\n\tariaValue: function () {\n\t\tvar valueText;\n\t\tif (this.showing && !Spotlight.getPointerMode() && this.$.popupLabelText && this.$.popupLabelText.content && this.selected) {\n\t\t\tvalueText = this._enterEnable ? this.$.popupLabelText.content : $L('jump to ') + this.$.popupLabelText.content;\n\t\t\t// Screen reader should read valueText when slider is only spotlight focused, but there is a timing issue between spotlight focus and observed\n\t\t\t// popupLabelText's content, so Screen reader reads valueText twice. We added below timer code for preventing this issue.\n\t\t\tsetTimeout(this.bindSafely(function(){\n\t\t\t\tthis.set('accessibilityDisabled', false);\n\t\t\t\tthis.setAriaAttribute('aria-valuetext', valueText);\n\t\t\t}), 0);\n\t\t} else {\n\t\t\tthis.set('accessibilityDisabled', true);\n\t\t}\n\t}\n});\n","require('moonstone');\n\n/**\n* Contains the declaration for the {@link module:moonstone/ToggleButton~ToggleButton} kind.\n* @module moonstone/ToggleButton\n*/\n\nvar\n\tkind = require('enyo/kind'),\n\tutil = require('enyo/utils');\n\nvar\n\tButton = require('../Button');\n\n/**\n* Fires when the value of the toggle button changes.\n*\n* @event module:moonstone/ToggleButton~ToggleButton:onChange\n* @type {Object}\n* @property {Boolean} value - Current state of the ToggleButton.\n* @public\n*/\n\n/**\n* {@link module:moonstone/ToggleButton~ToggleButton}, which extends {@link module:moonstone/Button~Button}, is a button with two\n* states, 'on' and 'off'. When the toggle button is tapped, it switches its state\n* and fires an [onChange]{@link module:moonstone/ToggleButton~ToggleButton#onChange} event.\n*\n* You may show the same text for both toggle states (via the\n* [content]{@link module:enyo/Control~Control#content} property), or different text for each state,\n* using the [toggleOnLabel]{@link module:moonstone/ToggleButton~ToggleButton#toggleOnLabel} and\n* [toggleOffLabel]{@link module:moonstone/ToggleButton~ToggleButton#toggleOffLabel} properties. Note that both\n* `toggleOnLabel` and `toggleOffLabel` must be set in order to display different labels;\n* otherwise, the `content` property will be used.\n*\n* @class ToggleButton\n* @extends module:moonstone/Button~Button\n* @ui\n* @public\n*/\nmodule.exports = kind(\n\t/** @lends module:moonstone/ToggleButton~ToggleButton.prototype */ {\n\n\t/**\n\t* @private\n\t*/\n\tname: 'moon.ToggleButton',\n\n\t/**\n\t* @private\n\t*/\n\tkind: Button,\n\n\t/**\n\t* @private\n\t* @lends module:moonstone/ToggleButton~ToggleButton.prototype\n\t*/\n\tpublished: {\n\n\t\t/**\n\t\t* Boolean indicating whether toggle button is currently in the 'on' state.\n\t\t*\n\t\t* @type {Boolean}\n\t\t* @default false\n\t\t* @public\n\t\t*/\n\t\tvalue: false,\n\n\t\t/**\n\t\t* Button text displayed in the 'on' state. If not specified, the\n\t\t* [content]{@link module:enyo/Control~Control#content} property will be used as button text.\n\t\t*\n\t\t* @type {String}\n\t\t* @default ''\n\t\t* @public\n\t\t*/\n\t\ttoggleOnLabel: '',\n\n\t\t/**\n\t\t* Button text displayed in the 'off' state. If not specified, the\n\t\t* [content]{@link module:enyo/Control~Control#content} property will be used as button text.\n\t\t*\n\t\t* @type {String}\n\t\t* @default ''\n\t\t* @public\n\t\t*/\n\t\ttoggleOffLabel: ''\n\t},\n\n\t/*\n\t* @private\n\t*/\n\tevents: {\n\t\tonChange: ''\n\t},\n\n\t/*\n\t* @private\n\t*/\n\t_rendered: false,\n\n\t/*\n\t* @private\n\t*/\n\tclasses: 'moon-toggle-button',\n\n\t/*\n\t* @private\n\t*/\n\tcreate: function () {\n\t\tButton.prototype.create.apply(this, arguments);\n\t\tthis.updateContent();\n\t\tthis.updateVisualState();\n\t},\n\n\t/*\n\t* @private\n\t*/\n\trendered: function () {\n\t\tButton.prototype.rendered.apply(this, arguments);\n\t\tthis.setActive(this.value);\n\t\tthis.fireChangeEvent();\n\t\tthis._rendered = true;\n\t},\n\n\t/*\n\t* @private\n\t*/\n\tupdateVisualState: function () {\n\t\tthis.addRemoveClass('moon-toggle-button-on', this.value && !this.disabled);\n\t},\n\n\t/*\n\t* @private\n\t*/\n\tdisabledChanged: function () {\n\t\tButton.prototype.disabledChanged.apply(this, arguments);\n\t\tthis.updateVisualState();\n\t},\n\n\t/*\n\t* @private\n\t*/\n\tvalueChanged: function () {\n\t\tthis.updateContent();\n\t\tthis.updateVisualState();\n\t\tthis.setActive(this.value);\n\t\tthis.fireChangeEvent();\n\t},\n\n\t/*\n\t* @private\n\t*/\n\ttoggleOnLabelChanged: function () {\n\t\tthis.updateContent();\n\t},\n\n\t/*\n\t* @private\n\t*/\n\ttoggleOffLabelChanged: function () {\n\t\tthis.updateContent();\n\t},\n\n\t/*\n\t* We override the inherited `activeChanged()` method.\n\t*\n\t* @private\n\t*/\n\tactiveChanged: function () {\n\t\tif (this._rendered) {\n\t\t\tthis.active = util.isTrue(this.active);\n\t\t\tthis.setValue(this.active);\n\t\t}\n\t\tthis.bubble('onActivate');\n\t},\n\n\t/*\n\t* we override the inherited `tap()` method.\n\t*\n\t* @private\n\t*/\n\ttap: function () {\n\t\tif (this.disabled) {\n\t\t\treturn true;\n\t\t} else {\n\t\t\tthis.setValue(!this.value);\n\t\t}\n\t},\n\n\t/*\n\t* @private\n\t*/\n\tupdateContent: function () {\n\t\tif (!this.toggleOnLabel || !this.toggleOffLabel) {\n\t\t\tthis.setContent(this.content);\n\t\t} else {\n\t\t\tthis.setContent(this.value ? this.toggleOnLabel : this.toggleOffLabel);\n\t\t}\n\t},\n\n\t/*\n\t* @private\n\t*/\n\tfireChangeEvent: function () {\n\t\tthis.doChange({value: this.value});\n\t},\n\n\t// Accessibility\n\n\t/**\n\t* The active state for a ToggleButton is relevant so we want to use `aria-pressed`\n\t*\n\t* @type {Boolean}\n\t* @default true\n\t* @public\n\t*/\n\taccessibilityPressed: true\n});\n","require('moonstone');\n\n/**\n* Contains the declaration for the {@link module:moonstone/ContextualPopupDecorator~ContextualPopupDecorator} kind.\n* @module moonstone/ContextualPopupDecorator\n*/\n\nvar\n\tkind = require('enyo/kind'),\n\tControl = require('enyo/Control');\n\nvar\n\tSpotlight = require('spotlight');\n\nvar\n\tButton = require('../Button');\n\n/**\n* {@link module:moonstone/ContextualPopupDecorator~ContextualPopupDecorator} is a control that loosely couples a\n* {@link module:moonstone/ContextualPopup~ContextualPopup} with an activating control, which may be a button\n* or any other control that fires an [onActivate]{@link module:enyo/Control~Control#onActivate}\n* event. The decorator surrounds both the activating control and the contextual popup.\n*\n* When the control is activated, the popup shows itself in the correct position\n* relative to the activator.\n*\n* ```javascript\n* \tvar\n* \t\tkind = require('enyo/kind'),\n* \t\tContextualPopup = require('moonstone/ContextualPopup'),\n* \t\tContextualPopupDecorator = require('moonstone/ContextualPopupDecorator');\n*\n* \t{kind: ContextualPopupDecorator, components: [\n* \t\t{content: 'Show Popup'},\n* \t\t{kind: ContextualPopup,\n* \t\t\tcomponents: [\n* \t\t\t\t{content:'Sample component in popup'}\n* \t\t\t]\n* \t\t}\n* \t]}\n* ```\n*\n* @class ContextualPopupDecorator\n* @extends module:enyo/Control~Control\n* @ui\n* @public\n*/\nmodule.exports = kind(\n\t/** @lends module:moonstone/ContextualPopupDecorator~ContextualPopupDecorator.prototype */ {\n\n\t/**\n\t* @private\n\t*/\n\tname: 'moon.ContextualPopupDecorator',\n\n\t/**\n\t* @private\n\t*/\n\tkind: Control,\n\n\t/**\n\t* @private\n\t*/\n\tdefaultKind: Button,\n\n\t/**\n\t* Selection on iOS prevents tap events, so avoid.\n\t*\n\t* @private\n\t*/\n\tclasses: 'moon-contextual-popup-decorator',\n\n\t/**\n\t* @private\n\t*/\n\tspotlight: 'container',\n\n\t/**\n\t* @private\n\t*/\n\tspotlightRememberFocus: false,\n\n\t/**\n\t* @private\n\t*/\n\thandlers: {\n\t\tonActivate: 'activated',\n\t\tonShow: 'popupShown',\n\t\tonHide: 'popupHidden',\n\t\tonRequestSpot: 'requestSpot'\n\t},\n\n\t/**\n\t* @fires module:enyo/Control~Control#onActivate\n\t* @private\n\t*/\n\tactivated: function (inSender, inEvent) {\n\t\t// Don't process activate events that came from inside this decorator\n\t\tif (inEvent.sentFromPopup && inEvent.sentFromPopup.isDescendantOf(this)) {\n\t\t\treturn;\n\t\t}\n\n\t\tif (inEvent.originator.active) {\n\t\t\tthis.activator = inEvent.originator;\n\t\t\t// if this ContextualPopup is already activated\n\t\t\tif (this.popupActivated) {\n\t\t\t\tthis.requestHidePopup();\n\t\t\t\tinEvent.originator.active = false;\n\t\t\t\tthis.popupActivated = false;\n\t\t\t} else {\n\t\t\t\tthis.activator.addClass('active');\n\t\t\t\tthis.requestShowPopup();\n\t\t\t}\n\t\t} else {\n\t\t\tthis.requestHidePopup();\n\t\t}\n\t},\n\n\t/**\n\t* Handles `onShow` event.  Since the popup is a 'client control' of the decorator,\n\t* we should provide a connector between them.\n\t*\n\t* @param {Object} inSender - The component that most recently propagated the `onShow` event.\n\t* @param {Object} inEvent - An object containing event information.\n\t* @private\n\t*/\n\tpopupShown: function (inSender, inEvent) {\n\t\tif (this.popup === undefined) {\n\t\t\tthis.popup = inEvent.originator;\n\t\t}\n\t},\n\n\t/**\n\t* Handles `onHide` event. If you tap outside of the popup, it will close.\n\t*\n\t* @private\n\t*/\n\tpopupHidden: function () {\n\t\tif (this.activator) {\n\t\t\tthis.popupActivated = this.popup.popupActivated;\n\t\t\tthis.activator.active = false;\n\t\t\tthis.activator.removeClass('active');\n\t\t\tthis.activator.removeClass('pressed');\n\t\t}\n\t},\n\n\t/**\n\t* Event waterfalls down.\n\t* @fires module:moonstone/ContextualPopup~ContextualPopup#onRequestShowPopup\n\t* @private\n\t*/\n\trequestShowPopup: function () {\n\t\tthis.waterfallDown('onRequestShowPopup', {activator: this.activator});\n\t},\n\n\t/**\n\t* Event waterfalls down.\n\t* @fires module:moonstone/ContextualPopup~ContextualPopup#onRequestHidePopup\n\t* @private\n\t*/\n\trequestHidePopup: function () {\n\t\tthis.waterfallDown('onRequestHidePopup');\n\t},\n\n\t/**\n\t* When back key is pressed, return spotlight focus to popup button\n\t*\n\t* @private\n\t*/\n\trequestSpot: function (inSender, inEvent) {\n\t\tSpotlight.spot(this);\n\t\treturn true;\n\t}\n});\n","require('moonstone');\n\n/**\n* Contains the declaration for the {@link module:moonstone/TooltipDecorator~TooltipDecorator} kind.\n* @module moonstone/TooltipDecorator\n*/\n\nvar\n\tkind = require('enyo/kind'),\n\tControl = require('enyo/Control');\n\nvar\n\tSpotlight = require('spotlight');\n\nvar\n\tButton = require('../Button');\n\n/**\n* Bubble this event from a contained [control]{@link module:enyo/Control~Control} to mute tooltips. No data\n* needs be passed with this event.\n*\n* @event module:moonstone/TooltipDecorator~TooltipDecorator#onRequestMuteTooltip\n* @type {Object}\n* @public\n*/\n\n/**\n* Bubble this event from a contained [control]{@link module:enyo/Control~Control} to unmute tooltips. No data\n* needs be passed with this event.\n*\n* @event module:moonstone/TooltipDecorator~TooltipDecorator#onRequestUnmuteTooltip\n* @type {Object}\n* @public\n*/\n\n/**\n* {@link module:moonstone/TooltipDecorator~TooltipDecorator} is a control that\n* activates a {@link module:moonstone/Tooltip~Tooltip}. It surrounds a control\n* such as a button and displays the tooltip when the control generates an\n* `onenter` event:\n*\n* ```javascript\n* \tvar\n* \t\tkind = require('enyo/kind'),\n* \t\tButton = require('moonstone/Button'),\n* \t\tTooltip = require('moonstone/Tooltip'),\n* \t\tTooltipDecorator = require('moonstone/TooltipDecorator');\n*\n* \t{kind: TooltipDecorator, components: [\n* \t\t{kind: Button, content: 'Tooltip'},\n* \t\t{kind: Tooltip, content: 'I am a tooltip for a button.'}\n* \t]}\n* ```\n*\n* Here is an example with a {@link module:moonstone/Input~Input} control and a decorator around the input:\n*\n* ```javascript\n* \tvar\n* \t\tkind = require('enyo/kind'),\n* \t\tInput = require('moonstone/Input'),\n* \t\tInputDecorator = require('moonstone/InputDecorator'),\n* \t\tTooltip = require('moonstone/Tooltip'),\n* \t\tTooltipDecorator = require('moonstone/TooltipDecorator');\n*\n* \t{kind: TooltipDecorator, components: [\n* \t\t{kind: InputDecorator, components: [\n* \t\t\t{kind: Input, placeholder: 'Just an input...'}\n* \t\t]},\n* \t\t{kind: Tooltip, content: 'I am just a tooltip for an input.'}\n* \t]}\n* ```\n*\n* Automatic hiding and showing of tooltips may be disabled by calling\n* [mute()]{@link module:moonstone/TooltipDecorator~TooltipDecorator#mute} or by bubbling the\n* [onRequestMuteTooltip]{@link module:moonstone/TooltipDecorator~TooltipDecorator#onRequestMuteTooltip} event;\n* it may be re-enabled by calling [unmute()]{@link module:moonstone/TooltipDecorator~TooltipDecorator#unmute}\n* or by bubbling the\n* [onRequestUnmuteTooltip]{@link module:moonstone/TooltipDecorator~TooltipDecorator#onRequestUnmuteTooltip} event.\n*\n* @class TooltipDecorator\n* @extends module:enyo/Control~Control\n* @ui\n* @public\n*/\nmodule.exports = kind(\n\t/** @lends module:moonstone/TooltipDecorator~TooltipDecorator.prototype */ {\n\n\t/**\n\t* @private\n\t*/\n\tname: 'moon.TooltipDecorator',\n\n\t/**\n\t* @private\n\t*/\n\tkind: Control,\n\n\t/**\n\t* @private\n\t*/\n\tdefaultKind: Button,\n\n\t/**\n\t* @private\n\t*/\n\tclasses: 'moon-tooltip-decorator',\n\n\t/**\n\t* @private\n\t*/\n\thandlers: {\n\t\tonenter: 'requestShowTooltip',\n\t\tonleave: 'requestHideTooltip',\n\t\tonSpotlightFocused: 'requestShowTooltip',\n\t\tonSpotlightBlur: 'requestHideTooltip',\n\t\tonRequestMuteTooltip: 'mute',\n\t\tonRequestUnmuteTooltip: 'unmute'\n\t},\n\n\t/**\n\t* @private\n\t* @lends module:moonstone/TooltipDecorator~TooltipDecorator.prototype\n\t*/\n\tpublished: {\n\t\t/**\n\t\t* Boolean indicating whether tooltips are automatically shown when the activator is\n\t\t* hovered over.\n\t\t*\n\t\t* @type {Boolean}\n\t\t* @default true\n\t\t* @public\n\t\t*/\n\t\tautoShow: true\n\t},\n\n\t/**\n\t* Disables automatic tooltip showing and hiding.\n\t*\n\t* @public\n\t*/\n\tmute: function () {\n\t\tthis.setAutoShow(false);\n\t},\n\n\t/**\n\t* Re-enables automatic tooltip showing and hiding after being muted.\n\t*\n\t* @public\n\t*/\n\tunmute: function () {\n\t\tthis.setAutoShow(true);\n\t},\n\n\t/**\n\t* @private\n\t*/\n\tautoShowChanged: function () {\n\t\tif (!this.autoShow) {\n\t\t\tthis.requestHideTooltip();\n\t\t}\n\t},\n\n\t/**\n\t* @private\n\t*/\n\ttap: function () {\n\t\tthis.requestHideTooltip();\n\t},\n\n\t/**\n\t* @private\n\t*/\n\trequestShowTooltip: function (inSender, inEvent) {\n\t\tif (this.autoShow && !Spotlight.isFrozen()) {\n\t\t\tif (inEvent.type == 'onSpotlightFocused' || Spotlight.getPointerMode()) {\n\t\t\t\tthis.waterfallDown('onRequestShowTooltip', {originator: inSender}, this);\n\t\t\t}\n\t\t}\n\t},\n\n\t/**\n\t* @private\n\t*/\n\trequestHideTooltip: function () {\n\t\tthis.waterfallDown('onRequestHideTooltip');\n\t},\n\n\t/**\n\t* Cancel any pending tooltip showing if the decorator or one of its ancestors is hidden\n\t*\n\t* @private\n\t*/\n\tshowingChangedHandler: function (sender, event) {\n\t\tControl.prototype.showingChangedHandler.apply(this, arguments);\n\t\tif (!event.showing) {\n\t\t\tthis.requestHideTooltip();\n\t\t}\n\t}\n});\n","require('moonstone');\n\n/**\n* Contains the declaration for the {@link module:moonstone/Image~Image} kind.\n* @module moonstone/Image\n*/\n\nvar\n\tkind = require('enyo/kind'),\n\tControl = require('enyo/Control'),\n\tImg = require('enyo/Image');\n\nvar\n\tIcon = require('../Icon'),\n\tOverlay = require('../Overlay');\n\n/**\n* {@link module:moonstone/Image~Image} is a simple control that wraps an {@link module:enyo/Image~Image} to provide proper\n* alignment with text-based controls.\n*\n* In addition, `moonstone/Image` adds [overlay]{@link module:moonstone/Overlay} support to show controls over the image. This\n* can be used to add action icons as in the example below.\n*\n* ```javascript\n* \tvar\n* \t\tkind = require('enyo/kind'),\n* \t\tImage = require('moonstone/Image'),\n* \t\tIcon = require('moonstone/Icon');\n*\n* \t{kind: Image, src: 'moonstone/src/assets/movie.png',\n* \t\toverlayShowing: 'spotlight', overlayPosition: 'bottom', overlayComponents: [\n* \t\t\t{kind: Icon, src: 'moonstone/src/assets/icon-recommended.png'},\n* \t\t\t{kind: Icon, icon: 'star'},\n* \t\t\t{kind: Icon, src: 'moonstone/src/assets/icon-new.png'}\n* \t\t]\n* \t}\n* ```\n*\n* For backwards compatibility, component configurations specified using the `components` block\n* within a `moonstone/Image` will be mapped to `overlayComponents` and will default the `kind` to be\n* {@link module:moonstone/Icon~Icon}. This behavior is considered deprecated and will be removed in a future release.\n*\n* @class Image\n* @extends module:enyo/Control~Control\n* @ui\n* @public\n*/\nmodule.exports = kind(\n\t/** @lends module:moonstone/Image~Image.prototype */ {\n\n\t/**\n\t* @private\n\t*/\n\tname: 'moon.Image',\n\n\t/**\n\t* @private\n\t*/\n\tkind: Control,\n\n\t/**\n\t* @private\n\t*/\n\tmixins: [Overlay.Support],\n\n\t/**\n\t* @private\n\t*/\n\tclasses: 'moon-image',\n\n\t/**\n\t* @private\n\t* @lends module:moonstone/Image~Image.prototype\n\t*/\n\tpublished: {\n\n\t\t/**\n\t\t* The URL of the image.\n\t\t*\n\t\t* @type {String|module:enyo/resolution#selectSrc~src}\n\t\t* @default ''\n\t\t* @public\n\t\t*/\n\t\tsrc: '',\n\n\t\t/**\n\t\t* The `alt` text for the image.\n\t\t*\n\t\t* @type {String}\n\t\t* @default ''\n\t\t* @public\n\t\t*/\n\t\talt: '',\n\n\t\t/**\n\t\t* If `true`, badges will only be shown when the image is within a\n\t\t* spotlightable component that has focus.  Otherwise, any badges provided\n\t\t* will always be shown.\n\t\t*\n\t\t* @type {Boolean}\n\t\t* @default false\n\t\t* @public\n\t\t*/\n\t\tshowBadgesOnSpotlight: false,\n\n\t\t/**\n\t\t* The image sizing strategy. See {@link module:enyo/Image~Image} for details.\n\t\t*\n\t\t* @type {String}\n\t\t* @default ''\n\t\t* @public\n\t\t*/\n\t\tsizing: '',\n\n\t\t/**\n\t\t* The image position when [sizing]{@link module:moonstone/Image~Image#sizing} is used.  See\n\t\t* {@link module:enyo/Image~Image} for details.\n\t\t*\n\t\t* @type {Object}\n\t\t* @default ''\n\t\t* @public\n\t\t*/\n\t\tposition: '',\n\n\t\t/**\n\t\t* See {@link module:enyo/Image~Image#placeholder}\n\t\t*\n\t\t* @type {String}\n\t\t* @default ''\n\t\t* @public\n\t\t*/\n\t\tplaceholder: ''\n\t},\n\n\t/**\n\t* @private\n\t*/\n\tcomponents: [\n\t\t{name: 'image', kind: Img}\n\t],\n\n\t/**\n\t* @private\n\t*/\n\tbindings: [\n\t\t{from: 'src', to: '$.image.src'},\n\t\t{from: 'alt', to: '$.image.alt'},\n\t\t{from: 'sizing', to: '$.image.sizing'},\n\t\t{from: 'position', to: '$.image.position'},\n\t\t{from: 'placeholder', to: '$.image.placeholder'}\n\t],\n\n\t/**\n\t* @private\n\t*/\n\tcreate: function () {\n\t\tthis.adaptComponentsBlock();\n\t\tControl.prototype.create.apply(this, arguments);\n\t},\n\n\t/**\n\t* Adapting from the prior API. We'll assume that the presence of components but not\n\t* overlayComponents means the consumer is expecting the former ImageBadge-style overlay.\n\t*\n\t* @deprecated Backwards compatibility for `moon/ImageBadge`s within components block\n\t* @private\n\t*/\n\tadaptComponentsBlock: function () {\n\t\tvar i, c;\n\t\tif (this.components && !this.overlayComponents) {\n\t\t\tthis.overlayComponents = this.components;\n\t\t\tthis.components = null;\n\t\t\tfor (i = this.overlayComponents.length - 1; i >= 0; --i) {\n\t\t\t\tc = this.overlayComponents[i];\n\t\t\t\tc.kind = c.kind || Icon;\n\t\t\t}\n\t\t\tthis.overlayPosition = this.overlayPosition || 'bottom';\n\t\t\tthis.showBadgesOnSpotlightChanged();\n\t\t}\n\t},\n\n\t/**\n\t* @private\n\t*/\n\tshowBadgesOnSpotlightChanged: function (was, is) {\n\t\tthis.set('overlayShowing', this.showBadgesOnSpotlight ? 'spotlight' : true);\n\t}\n});\n","require('moonstone');\n\n/**\n* Contains the declaration for the {@link module:moonstone/CheckboxItem~CheckboxItem} kind.\n* @module moonstone/CheckboxItem\n*/\n\nvar\n\tkind = require('enyo/kind');\n\nvar\n\tCheckbox = require('../Checkbox'),\n\tItem = require('../Item'),\n\tMarquee = require('../Marquee'),\n\tMarqueeItem = Marquee.Item;\n\n/**\n* Fires when the control is either checked or unchecked.\n*\n* @event module:moonstone/CheckboxItem~CheckboxItem#onActivate\n* @type {Object}\n* @property {Boolean} checked - Whether the checkbox is currently checked.\n* @property {Object} toggledControl - A reference to the\n*\t{@link module:moonstone/CheckboxItem~CheckboxItem} whose state changed. (Note that the\n*\toriginator of this event is actually the {@link module:moonstone/Checkbox~Checkbox} contained\n*\twithin the CheckboxItem, so use this property\n* to reference the CheckboxItem itself.)\n*\n* @public\n*/\n\n/**\n* {@link module:moonstone/CheckboxItem~CheckboxItem} is a control that combines a\n* {@link module:moonstone/Checkbox~Checkbox} with a text label. The label text may be set via the\n* [content]{@link module:enyo/Control~Control#content} property. The state of the checkbox may be\n* retrieved by querying the [checked]{@link module:moonstone/CheckboxItem~CheckboxItem#checked}\n* property.\n*\n* ```javascript\n* \tvar\n* \t\tkind = require('enyo/kind'),\n* \t\tCheckboxItem = require('moonstone/CheckboxItem');\n*\n* \t{kind: CheckboxItem, content: 'San Francisco',\n* \t\tonchange: 'checkedChanged'},\n*\n* \tcheckedChanged: function (sender, ev) {\n* \t\tvar checked = sender.get('checked');\n* \t}\n* ```\n*\n* You may place CheckboxItem objects inside an {@link module:enyo/Group~Group} to create a group\n* of checkboxes in which only one may be checked at any given time (similar to how a\n* [RadioItemGroup]{@link module:moonstone/RadioItemGroup~RadioItemGroup} behaves):\n*\n* ```javascript\n* \tvar\n* \t\tkind = require('enyo/kind'),\n* \t\tGroup = require('enyo/Group'),\n* \t\tCheckboxItem = require('moonstone/CheckboxItem');\n*\n* \t{kind: Group, components: [\n* \t\t{kind: CheckboxItem, content: 'New York'},\n* \t\t{kind: CheckboxItem, content: 'London'},\n* \t\t{kind: CheckboxItem, content: 'San Francisco'},\n* \t\t{kind: CheckboxItem, content: 'Beijing'}\n* \t]}\n* ```\n*\n* @class CheckboxItem\n* @extends module:enyo/Control~Control\n* @mixes moonstone/CheckboxItem/CheckboxItemAccessibilitySupport~CheckboxItemAccessibilitySupport\n* @ui\n* @public\n*/\nmodule.exports = kind(\n\t/** @lends module:moonstone/CheckboxItem~CheckboxItem.prototype */ {\n\n\t/**\n\t* @private\n\t*/\n\tname: 'moon.CheckboxItem',\n\n\t/**\n\t* @private\n\t*/\n\tkind: Item,\n\n\t/**\n\t* @private\n\t* @lends module:moonstone/CheckboxItem~CheckboxItem.prototype\n\t*/\n\tpublished: {\n\n\t\t/**\n\t\t* Boolean value indicating whether checkbox is currently checked.\n\t\t*\n\t\t* @type {Boolean}\n\t\t* @default false\n\t\t* @public\n\t\t*/\n\t\tchecked: false,\n\n\t\t/**\n\t\t* Boolean value indicating whether checkbox is currently active item in group.\n\t\t*\n\t\t* @type {Boolean}\n\t\t* @default false\n\t\t* @public\n\t\t*/\n\t\tactive: false,\n\n\t\t/**\n\t\t* If `true`, checkbox will be displayed on the right side of the checkbox item;\n\t\t* otherwise, it will be displayed on the left side.\n\t\t*\n\t\t* @type {Boolean}\n\t\t* @default false\n\t\t* @public\n\t\t*/\n\t\tcheckboxOnRight: false,\n\n\t\t/**\n\t\t* If `true`, the value of the\n\t\t* [checked]{@link module:moonstone/CheckboxItem~CheckboxItem#checked} property cannot be\n\t\t* changed through user input.\n\t\t*\n\t\t* @type {Boolean}\n\t\t* @default false\n\t\t* @public\n\t\t*/\n\t\tlocked: false,\n\n\t\t/**\n\t\t* Name of a font-based icon to use when displaying the checkbox. Consult\n\t\t* {@link module:moonstone/Icon~Icon} for valid values.\n\t\t*\n\t\t* @type {String}\n\t\t* @default 'check'\n\t\t* @public\n\t\t*/\n\t\ticon: 'check',\n\n\t\t/**\n\t\t* Optional path to an image asset. May be used to customize checkbox appearance.\n\t\t*\n\t\t* @type {String|module:enyo/resolution#selectSrc~src}\n\t\t* @default ''\n\t\t* @public\n\t\t*/\n\t\tsrc: '',\n\n\t\t/**\n\t\t* If used as the base control within a {@link module:moonstone/DataList~DataList} or\n\t\t* {@glossary subkind}, this should be set to `false` so that selection support can be\n\t\t* synchronized to the checked state of this control.\n\t\t*\n\t\t* @type {Boolean}\n\t\t* @default true\n\t\t* @public\n\t\t*/\n\t\thandleTapEvent: true\n\t},\n\n\t/**\n\t* @private\n\t*/\n\tevents: {\n\n\t\t/**\n\t\t* {@link module:moonstone/CheckboxItem~CheckboxItem#onActivate}\n\t\t*/\n\t\tonActivate: ''\n\t},\n\n\t/**\n\t* @private\n\t*/\n\tclasses: 'moon-checkbox-item',\n\n\t/**\n\t* @private\n\t*/\n\thandlers: {\n\t\tontap: 'tap',\n\t\tonActivate: 'decorateActivateEvent'\n\t},\n\n\t/**\n\t* @private\n\t*/\n\tcomponents: [\n\t\t{name: 'client', mixins: [MarqueeItem], classes: 'moon-checkbox-item-label-wrapper'},\n\t\t{name: 'input', kind: Checkbox, accessibilityDisabled: true, spotlight: false}\n\t],\n\n\t/**\n\t* @private\n\t*/\n\tbindings: [\n\t\t{from: 'allowHtml', to: '$.client.allowHtml'},\n\t\t{from: 'active', to: '$.input.active', oneWay: false}\n\t],\n\n\t/**\n\t* @private\n\t*/\n\tcreate: function () {\n\t\tItem.prototype.create.apply(this, arguments);\n\t\tthis.disabledChanged();\n\t\tthis.checkboxOnRightChanged();\n\t\tthis.lockedChanged();\n\t},\n\n\t/**\n\t* @private\n\t*/\n\trendered: function () {\n\t\tItem.prototype.rendered.apply(this, arguments);\n\t\tif (this.get('src') != null || this.get('icon') != null) {\n\t\t\tthis.srcChanged();\n\t\t\tthis.iconChanged();\n\t\t}\n\t\tthis.checkedChanged();\n\t},\n\n\t/**\n\t* @private\n\t*/\n\tdisabledChanged: function () {\n\t\tItem.prototype.disabledChanged.apply(this, arguments);\n\t\tthis.$.input.set('disabled', this.disabled);\n\t},\n\n\t/**\n\t* @private\n\t*/\n\tcheckedChanged: function () {\n\t\tthis.$.input.set('checked', this.checked);\n\t},\n\n\t/**\n\t* @private\n\t*/\n\tcheckboxOnRightChanged: function () {\n\t\tthis.addRemoveClass('left-handed', !this.checkboxOnRight);\n\t},\n\n\t/**\n\t* waterfall event\n\t* @fires module:enyo/Control~Control#ontap\n\t* @private\n\t*/\n\ttap: function (sender, ev) {\n\t\tif (this.disabled) return true;\n\t\tif (this.handleTapEvent) {\n\t\t\tif (sender != this.$.input) {\n\t\t\t\tthis.waterfallDown('ontap', ev, sender);\n\t\t\t}\n\t\t}\n\t},\n\n\t/**\n\t* @fires module:moonstone/CheckboxItem~CheckboxItem#onActivate\n\t* @private\n\t*/\n\tdecorateActivateEvent: function (sender, ev) {\n\t\tev.toggledControl = this;\n\t\tthis.set('checked', this.$.input.checked);\n\t\tev.checked = this.checked;\n\t},\n\n\t/**\n\t* @private\n\t*/\n\tcontentChanged: function () {\n\t\tthis.$.client.set('content', this.content);\n\t},\n\n\t/**\n\t* @private\n\t*/\n\tlockedChanged: function() {\n\t\tthis.$.input.set('locked', this.locked);\n\t},\n\n\t/**\n\t* @private\n\t*/\n\ticonChanged: function() {\n\t\tthis.$.input.set('icon', this.icon);\n\t},\n\n\t/**\n\t* @private\n\t*/\n\tsrcChanged: function() {\n\t\tthis.$.input.set('src', this.src);\n\t},\n\n\t// Accessibility\n\n\t/**\n\t* @default checkbox\n\t* @type {String}\n\t* @see enyo/AccessibilitySupport~AccessibilitySupport#accessibilityRole\n\t* @public\n\t*/\n\taccessibilityRole: 'checkbox',\n\n\t/**\n\t* @private\n\t*/\n\tariaObservers: [\n\t\t{from: 'checked', to: 'aria-checked'}\n\t]\n});\n","require('moonstone');\n\n/**\n* Contains the declaration for the {@link module:moonstone/LabeledTextItem~LabeledTextItem} kind.\n* @module moonstone/LabeledTextItem\n*/\n\nvar\n\tkind = require('enyo/kind');\n\nvar\n\tItem = require('../Item'),\n\tMarquee = require('../Marquee');\n\n/**\n* {@link module:moonstone/LabeledTextItem~LabeledTextItem}, which extends {@link module:moonstone/Item~Item}, is a\n* [control]{@link module:enyo/Control~Control} that combines text content with a text label and\n* marquees it.\n*\n* @class LabeledTextItem\n* @extends module:moonstone/Item~Item\n* @ui\n* @public\n*/\nmodule.exports = kind(\n\t/** @lends module:moonstone/LabeledTextItem~LabeledTextItem.prototype */ {\n\n\t/**\n\t* @private\n\t*/\n\tname: 'moon.LabeledTextItem',\n\n\t/**\n\t* @private\n\t*/\n\tkind: Item,\n\n\t/**\n\t* @private\n\t*/\n\tmixins: [Marquee.Support],\n\n\t/**\n\t* @private\n\t*/\n\tclasses: 'moon-labeledtextitem',\n\n\t/**\n\t* @private\n\t* @lends module:moonstone/LabeledTextItem~LabeledTextItem.prototype\n\t*/\n\tpublished: {\n\n\t\t/**\n\t\t* The label to be displayed along with the text.\n\t\t*\n\t\t* @type {String}\n\t\t* @default ''\n\t\t* @public\n\t\t*/\n\t\tlabel: '',\n\n\t\t/**\n\t\t* The text to be displayed in the item.\n\t\t*\n\t\t* @type {String}\n\t\t* @default ''\n\t\t* @public\n\t\t*/\n\t\ttext: ''\n\t},\n\n\t/**\n\t* @private\n\t*/\n\tbindings: [\n\t\t{from: 'label', to: '$.header.content'},\n\n\t\t// Accessibility\n\t\t{from: '_accessibilityText', to: '$.text.accessibilityLabel'}\n\t],\n\n\t/**\n\t* @private\n\t*/\n\tcomponents:[\n\t\t{name: 'header', kind: Marquee.Text, classes: 'moon-labeledtextitem-header'},\n\t\t{name: 'text', classes: 'moon-labeledtextitem-text'}\n\t],\n\n\t/**\n\t* @private\n\t*/\n\tcreate: function () {\n\t\tItem.prototype.create.apply(this, arguments);\n\t\tthis.textChanged();\n\t},\n\n\t/**\n\t/* @private\n\t*/\n\ttextChanged: function () {\n\t\tvar validValue = this.text || this.text === 0;\n\t\tthis.addRemoveClass('with-text', validValue);\n\t\tthis.$.text.set('content', this.text);\n\t\tif (validValue) this.$.text.detectTextDirectionality(this.text);\n\t},\n\n\t// Accessibility\n\n\t/**\n\t* @private\n\t*/\n\t_accessibilityText: '',\n\n\t/**\n\t* @private\n\t*/\n\tariaObservers: [\n\t\t{path: ['label', 'text', 'accessibilityHint', 'accessibilityLabel'], method: function () {\n\t\t\tvar text = this._accessibilityText ? this._accessibilityText : this.text,\n\t\t\t\tcontent = this.label + ' ' + text ,\n\t\t\t\tprefix = this.accessibilityLabel || content || null,\n\t\t\t\tlabel = this.accessibilityHint && prefix && (prefix + ' ' + this.accessibilityHint) ||\n\t\t\t\t\t\tthis.accessibilityHint ||\n\t\t\t\t\t\tthis.accessibilityLabel ||\n\t\t\t\t\t\tnull;\n\n\t\t\t\tthis.setAriaAttribute('aria-label', label);\n\t\t}}\n\t]\n});\n","/**\n* Contains the declaration for the {@link module:moonstone/Panel~Panel} kind.\n* @module moonstone/Panel\n*/\n\nrequire('moonstone');\n\nvar\n\tkind = require('enyo/kind'),\n\tutil = require('enyo/utils'),\n\tdom = require('enyo/dom'),\n\tControl = require('enyo/Control');\n\nvar\n\tFittableLayout = require('layout/FittableLayout'),\n\tFittableRows = require('layout/FittableRows'),\n\tFittableRowsLayout = FittableLayout.Rows;\n\nvar\n\tSpotlight = require('spotlight');\n\nvar\n\tHeader = require('moonstone/Header');\n\n/**\n* Fires when this [panel]{@link module:moonstone/Panel~Panel} has completed its pre-arrangement transition.\n* No additional data is passed with this event.\n*\n* @event module:moonstone/Panel~Panel#onPreTransitionComplete\n* @type {Object}\n* @public\n*/\n\n/**\n* Fires when this [panel]{@link module:moonstone/Panel~Panel} has completed its post-arrangement transition.\n* No additional data is passed with this event.\n*\n* @event module:moonstone/Panel~Panel#onPostTransitionComplete\n* @type {Object}\n* @public\n*/\n\n/**\n* {@link module:moonstone/Panel~Panel} is the default kind for controls\n* created inside a {@link module:moonstone/Panels~Panels} container. A\n* Panels container will typically contain several instances of Panel.\n*\n* The built-in features include an embedded {@link module:moonstone/Header~Header}\n* and a {@link module:layout/FittableRows~FittableRows} layout for the main body\n* content.\n*\n* @class Panel\n* @extends module:enyo/Control~Control\n* @ui\n* @public\n*/\n\nmodule.exports = kind(\n\t/** @lends module:moonstone/Panel~Panel.prototype */ {\n\n\t/**\n\t* @private\n\t*/\n\tname: 'moon.Panel',\n\n\t/**\n\t* @private\n\t*/\n\tkind: Control,\n\n\t/**\n\t* @private\n\t* @lends module:moonstone/Panel~Panel.prototype\n\t*/\n\tpublished: {\n\t\t/**\n\t\t* Facade for the [title]{@link module:moonstone/Header~Header#title} property of the embedded\n\t\t* {@link module:moonstone/Header~Header}.\n\t\t*\n\t\t* @type {String}\n\t\t* @default ''\n\t\t* @public\n\t\t*/\n\t\ttitle: '',\n\n\t\t/**\n\t\t* Facade for the [titleAbove]{@link module:moonstone/Header~Header#titleAbove} property of the\n\t\t* embedded {@link module:moonstone/Header~Header}.\n\t\t*\n\t\t* @type {String}\n\t\t* @default ''\n\t\t* @public\n\t\t*/\n\t\ttitleAbove: '',\n\n\t\t/**\n\t\t* Facade for the [titleBelow]{@link module:moonstone/Header~Header#titleBelow} property of the\n\t\t* embedded {@link module:moonstone/Header~Header}.\n\t\t*\n\t\t* @type {String}\n\t\t* @default ''\n\t\t* @public\n\t\t*/\n\t\ttitleBelow: '',\n\n\t\t/**\n\t\t* Facade for the [subTitleBelow]{@link module:moonstone/Header~Header#subTitleBelow} property\n\t\t* of the embedded {@link module:moonstone/Header~Header}.\n\t\t*\n\t\t* @type {String}\n\t\t* @default ''\n\t\t* @public\n\t\t*/\n\t\tsubTitleBelow: '',\n\n\t\t/**\n\t\t* When `true`, the header's [titleAbove]{@link module:moonstone/Header~Header#titleAbove} property\n\t\t* is automatically populated with the panel index.\n\t\t*\n\t\t* @type {Boolean}\n\t\t* @default true\n\t\t* @public\n\t\t*/\n\t\tautoNumber: true,\n\n\t\t/**\n\t\t* Facade for the [type]{@link module:moonstone/Header~Header#type} property of the embedded\n\t\t* {@link module:moonstone/Header~Header}.\n\t\t* Valid values are: `'large'`, `'small'`, and `'medium'`.\n\t\t*\n\t\t* @type {String}\n\t\t* @default 'large'\n\t\t* @public\n\t\t*/\n\t\theaderType: 'large',\n\n\t\t/**\n\t\t* Facade for the [allowHtml]{@link module:enyo/Control~Control#allowHtml} property of the\n\t\t* embedded {@link module:moonstone/Header~Header}.\n\t\t*\n\t\t* @type {Boolean}\n\t\t* @default false\n\t\t* @public\n\t\t*/\n\t\tallowHtmlHeader: false,\n\n\t\t/**\n\t\t* Facade for the [backgroundSrc]{@link module:moonstone/Header~Header#backgroundSrc} property\n\t\t* of the embedded {@link module:moonstone/Header~Header}.\n\t\t*\n\t\t* @type {(String|String[]|module:enyo/resolution#selectSrc~src|module:enyo/resolution#selectSrc~src[])}\n\t\t* @default null\n\t\t* @public\n\t\t*/\n\t\theaderBackgroundSrc: null,\n\n\t\t/**\n\t\t* Facade for the [backgroundPosition]{@link module:moonstone/Header~Header#backgroundPosition}\n\t\t* property of the embedded {@link module:moonstone/Header~Header}.\n\t\t*\n\t\t* @type {(String|String[])}\n\t\t* @default 'top right'\n\t\t* @public\n\t\t*/\n\t\theaderBackgroundPosition: 'top right',\n\n\t\t/**\n\t\t* An object containing additional settings for the {@link module:moonstone/Header~Header}. Any\n\t\t* values specified here will be mixed into the header definition.\n\t\t*\n\t\t* @type {Object}\n\t\t* @default null\n\t\t* @public\n\t\t*/\n\t\theaderOptions: null,\n\n\t\t/**\n\t\t* Facade for the [titleUpperCase]{@link module:moonstone/Header~Header#titleUpperCase} property\n\t\t* of the embedded {@link module:moonstone/Header~Header}.\n\t\t*\n\t\t* @type {Boolean}\n\t\t* @default true\n\t\t* @public\n\t\t*/\n\t\ttitleUpperCase: true\n\t},\n\n\t/**\n\t* @private\n\t*/\n\thandlers: {\n\t\tonSpotlightFocus: 'disableSpotlightDummy'\n\t},\n\n\t/**\n\t* @private\n\t*/\n\tspotlight: 'container',\n\n\t/**\n\t* @private\n\t*/\n\tclasses: 'moon-panel',\n\n\t/**\n\t* @private\n\t*/\n\tlayoutKind: FittableRowsLayout,\n\n\t/**\n\t* @private\n\t*/\n\tuseFlex: true,\n\n\t/**\n\t* @private\n\t*/\n\tpanelTools : [\n\t\t/* header will be created here programmatically in createTools after mixing-in headerOptions */\n\t\t{name: 'panelBody', kind: FittableRows, fit: true, classes: 'moon-panel-body'},\n\t\t{name: 'spotlightDummy', kind: Control, spotlight: false, style: 'width:0; height:0;'}\n\t],\n\n\t/**\n\t* @private\n\t*/\n\theaderConfig : {name: 'header', kind: Header, isChrome: true},\n\n\t/**\n\t* @private\n\t*/\n\tbindings: [\n\t\t{from: 'title', to: '$.header.title'},\n\t\t{from: 'title', to: '$.breadcrumbText.content'},\n\t\t{from: 'titleAbove', to: '$.header.titleAbove'},\n\t\t{from: 'titleAbove', to: '$.breadcrumbTitleAbove.content'},\n\t\t{from: 'titleBelow', to: '$.header.titleBelow'},\n\t\t{from: 'subTitleBelow', to: '$.header.subTitleBelow'},\n\t\t{from: 'allowHtmlHeader', to: '$.header.allowHtml'},\n\t\t{from: 'allowHtmlHeader', to: '$.breadcrumbText.allowHtml'},\n\t\t{from: 'headerBackgroundSrc', to: '$.header.backgroundSrc'},\n\t\t{from: 'headerBackgroundPosition', to: '$.header.backgroundPosition'},\n\t\t{from: 'titleUpperCase', to: '$.header.titleUpperCase'},\n\t\t{from: 'headerType', to: '$.header.type', oneWay: false}\n\t],\n\n\t/**\n\t* @private\n\t*/\n\theaderComponents: [],\n\n\t/**\n\t* @private\n\t*/\n\tisOffscreen: false,\n\n\t/**\n\t* @private\n\t*/\n\tevents: {\n\t\tonPanelOnscreen: '',\n\t\tonPanelOffscreen: ''\n\t},\n\n\t/**\n\t* @private\n\t*/\n\tcreate: function () {\n\t\tControl.prototype.create.apply(this, arguments);\n\t\t// FIXME: Need to determine whether headerComponents was passed on the instance or kind to get the ownership correct\n\t\tif (this.headerComponents) {\n\t\t\tvar owner = this.hasOwnProperty('headerComponents') ? this.getInstanceOwner() : this;\n\t\t\tthis.$.header.createComponents(this.headerComponents, {owner: owner});\n\t\t}\n\t\tthis.autoNumberChanged();\n\t\tthis.headerTypeChanged();\n\t},\n\n\t/**\n\t* @private\n\t*/\n\tinitComponents: function () {\n\t\tthis.createTools();\n\t\tthis.controlParentName = 'panelBody';\n\t\tthis.discoverControlParent();\n\t\tControl.prototype.initComponents.apply(this, arguments);\n\t},\n\n\t/**\n\t* @private\n\t*/\n\tcreateTools: function () {\n\t\t// Create everything but the header\n\t\tthis.createChrome(this.panelTools);\n\t\t// Special-handling for header, which can have its options modified by the instance\n\t\tvar hc = util.clone(this.headerConfig || {});\n\t\thc.addBefore = this.$.panelBody;\n\t\tutil.mixin(hc, this.headerOptions || this.headerOption);\n\t\tthis.createComponent(hc, {owner:this});\n\t},\n\n\t/**\n\t* On reflow, updates `this.$.contentWrapper` bounds.\n\t* @private\n\t*/\n\treflow: function () {\n\t\tControl.prototype.reflow.apply(this, arguments);\n\t\tthis.getInitAnimationValues();\n\t\tthis.updatePanelBodySize();\n\t},\n\n\t/**\n\t* Updates `this.$.contentWrapper` to have the height/width of `this`.\n\t* @private\n\t*/\n\tupdatePanelBodySize: function () {\n\t\tvar node = this.hasNode();\n\n\t\tif (!node) {\n\t\t\treturn;\n\t\t}\n\n\t\tthis.$.panelBody.applyStyle('height', this.initialHeight + 'px');\n\t},\n\n\t/**\n\t* Forcibly applies layout kind changes to `this.$.panelBody`.\n\t* @private\n\t*/\n\tlayoutKindChanged: function () {\n\t\tthis.$.panelBody.setLayoutKind(this.layoutKind);\n\t},\n\n\t/**\n\t* If spottable controls are added to the Panel instance after initial creation, we need to\n\t* disable the spotlightDummy. Unfortunately, there's no other reliable way to detect when\n\t* controls are added *anywhere* within a control's component tree so we have to watch for\n\t* onSpotlightFocus events to disable the spotlightDummy.\n\t*\n\t* @private\n\t*/\n\tdisableSpotlightDummy: function (sender, event) {\n\t\tif (this.$.spotlightDummy.spotlight && event.originator !== this && event.originator !== this.$.spotlightDummy) {\n\t\t\tthis.$.spotlightDummy.spotlight = false;\n\t\t}\n\t},\n\n\t/**\n\t* @private\n\t*/\n\tupdateSpotability: function () {\n\t\tif (this.isOffscreen) {\n\t\t\tthis.spotlightDisabled = true;\n\t\t} else {\n\t\t\tthis.spotlightDisabled = false;\n\t\t\tthis.$.spotlightDummy.spotlight = false;\n\t\t\tif (!Spotlight.isSpottable(this)) {\n\t\t\t\t// make dummy div spottable if there is no spottable child\n\t\t\t\tthis.$.spotlightDummy.spotlight = true;\n\t\t\t}\n\t\t}\n\t},\n\n\t/**\n\t* @private\n\t*/\n\theaderTypeChanged: function () {\n\t\tthis.$.header.setType(this.headerType);\n\t\tthis.$.header.adjustTitleWidth();\n\t\tif (this.generated) {\n\t\t\tthis.resize();\n\t\t}\n\t},\n\n\t/**\n\t* Updates [titleAbove]{@link module:moonstone/Panel~Panel#titleAbove} when\n\t* [autoNumber]{@link module:moonstone/Panel~Panel#autoNumber} changes.\n\t* @private\n\t*/\n\tautoNumberChanged: function () {\n\t\tif (this.getAutoNumber() === true && this.container) {\n\t\t\t// This gets the index regardless of whether the panel is client or chome\n\t\t\tvar n = this.parent.indexOfChild(this) + 1;\n\t\t\tn = ((n < 10) ? '0' : '') + n;\n\t\t\tthis.setTitleAbove(n);\n\t\t}\n\t},\n\n\t/**\n\t* @private\n\t*/\n\tenableMarquees: function () {\n\t\tthis.$.header.enableMarquee();\n\t},\n\n\t/**\n\t* @private\n\t*/\n\tdisableMarquees: function () {\n\t\tthis.$.header.disableMarquee();\n\t},\n\n\t/**\n\t* @private\n\t*/\n\tstartMarqueeAsNeeded: function (info) {\n\t\tvar onscreen = !info.isOffscreen;\n\t\tif (onscreen) {\n\t\t\tthis.$.header.enableMarquee();\n\t\t\tthis.$.header.startMarquee();\n\t\t}\n\t},\n\n\t/**\n\t* @private\n\t*/\n\tgetHeader: function () {\n\t\treturn this.$.header;\n\t},\n\n\t/**\n\t* Called directly by {@link module:moonstone/Panels~Panels}.\n\t* @private\n\t*/\n\tinitPanel: function (info) {\n\t\tthis.set('isOffscreen', info.isOffscreen);\n\t\tthis.updateSpotability();\n\t\tthis.disableMarquees();\n\t\tthis.startMarqueeAsNeeded(info);\n\t},\n\n\t/**\n\t* Called directly by {@link module:moonstone/Panels~Panels}.\n\t* @private\n\t*/\n\tupdatePanel: function (info) {\n\t\tif (!info.animate) {\n\t\t\tthis.disableMarquees();\n\t\t}\n\n\t\tthis.set('isOffscreen', info.isOffscreen);\n\t\tthis.updateSpotability();\n\t\tthis.startMarqueeAsNeeded(info);\n\t},\n\n\t/**\n\t* Called directly on the panel by {@link module:moonstone/Panels~Panels} when the panel has completed a\n\t* transition. You may override this function in a panel subkind to perform\n\t* post-transition work (e.g., loading data for the panel).\n\t*\n\t* @param {Object} info - Information from the [Panels]{@link module:moonstone/Panels~Panels} component.\n\t* Additional information may be supplied by the arranger, such as breadcrumb and\n\t* offscreen status.\n\t* @param {Number} info.from - The index the parent Panels was moving from for this transition.\n\t* @param {Number} info.to - The index the parent Panels was moving to for this transition.\n\t* @param {Number} info.index - The current index of this [panel]{@link module:moonstone/Panel~Panel}.\n\t* @param {Boolean} info.animate - Whether the parent Panels is set to animate.\n\t* @public\n\t*/\n\ttransitionFinished: function (info) {\n\t\tthis.updatePanel(info);\n\t},\n\n\t/**\n\t* @private\n\t*/\n\tisOffscreenChanged: function () {\n\t\t// Tell the children we're on or off screen\n\t\tif (this.isOffscreen) {\n\t\t\tthis.waterfallDown('onPanelOffscreen');\n\t\t} else {\n\t\t\tthis.waterfallDown('onPanelOnscreen');\n\t\t}\n\t},\n\n\t/**\n\t* Was protected\n\t* @private\n\t*/\n\tgetInitAnimationValues: function () {\n\t\tvar panelNode = this.hasNode(), headerNode = this.$.header.hasNode(), bodyNode = this.$.panelBody.hasNode(),\n\t\t\tpanelPaddingT = parseInt(dom.getComputedStyleValue(panelNode, 'padding-top'), 10),\n\t\t\tpanelPaddingB = parseInt(dom.getComputedStyleValue(panelNode, 'padding-bottom'), 10),\n\t\t\tbodyPaddingT = parseInt(dom.getComputedStyleValue(bodyNode, 'padding-top'), 10),\n\t\t\tpanelHeight = panelNode.getBoundingClientRect().height,\n\t\t\theaderHeight = headerNode.getBoundingClientRect().height;\n\t\tthis.initialHeight = panelHeight - headerHeight - (panelPaddingT + panelPaddingB + bodyPaddingT);\n\t},\n\n\t// Accessibility\n\n\t/**\n\t* @private\n\t*/\n\taccessibilityRole: 'region',\n\n\t/**\n\t* @private\n\t*/\n\tariaObservers: [\n\t\t{path: ['title', 'accessibilityLabel', 'accessibilityHint'], method: function () {\n\t\t\tvar content = this.title,\n\t\t\t\tprefix = this.accessibilityLabel || content || null,\n\t\t\t\tlabel = this.accessibilityHint && prefix && (prefix + ' ' + this.accessibilityHint) ||\n\t\t\t\t\t\tthis.accessibilityHint ||\n\t\t\t\t\t\tthis.accessibilityLabel ||\n\t\t\t\t\t\tprefix ||\n\t\t\t\t\t\tnull;\n\n\t\t\tthis.setAriaAttribute('aria-label', label);\n\t\t}}\n\t],\n\n\t/**\n\t* @private\n\t*/\n\taccessibilityLive: 'off'\n});\n","require('moonstone');\n\n/**\n* Contains the declaration for the {@link module:moonstone/InputHeader~InputHeader} kind.\n* @module moonstone/InputHeader\n* @deprecated\n*/\n\nvar\n\tkind = require('enyo/kind');\n\nvar\n\tHeader = require('./Header');\n\n/**\n* {@link module:moonstone/InputHeader~InputHeader} is a header that uses an input for the title. While this\n* was initially created as an independent subkind of {@link module:moonstone/Header~Header}, its unique\n* functionality has since been folded back into the latter kind, making the current\n* incarnation of `InputHeader` simply a `Header` whose\n* [inputMode]{@link module:moonstone/Header~Header#inputMode} is set to `true`. This kind\n* is now deprecated.\n*\n* The [title]{@link module:moonstone/Header~Header#title} property is used as the input placeholder,\n* while the [value]{@link module:moonstone/Header~Header#value} property contains the contents of the\n* input. Developers may listen for\n* [onInputHeaderInput]{@link module:moonstone/Header~Header#onInputHeaderInput} and\n* [onInputHeaderChange]{@link module:moonstone/Header~Header#onInputHeaderChange} events from the\n* embedded input to respond to changes.\n*\n* ```\n* \tvar\n* \t\tkind = require('enyo/kind'),\n* \t\tInputHeader = require('moonstone/InputHeader'),\n* \t\tIconButton = require('moonstone/IconButton');\n*\n* \t{\n* \t\tkind: InputHeader,\n* \t\ttitle: 'Input Header',\n* \t\ttitleAbove: '02',\n* \t\ttitleBelow: 'Sub Header',\n* \t\tsubTitleBelow: 'Sub-sub Header',\n* \t\tcomponents: [\n* \t\t\t{kind: IconButton, src: 'moonstone/assets/icon-like.png'},\n* \t\t\t{kind: IconButton, src: 'moonstone/assets/icon-next.png'}\n* \t\t]\n* \t}\n* ```\n*\n* @class InputHeader\n* @extends module:moonstone/Header~Header\n* @ui\n* @public\n* @deprecated\n*/\nmodule.exports = kind(\n\t/** @lends module:moonstone/InputHeader~InputHeader.prototype */ {\n\n\t/**\n\t* @private\n\t*/\n\tname: 'moon.InputHeader',\n\n\t/**\n\t* @private\n\t*/\n\tkind: Header,\n\n\t/**\n\t* @private\n\t*/\n\tinputMode: true\n});\n","/**\n* Contains the declaration for the {@link module:moonstone/NewDataList~NewDataList} kind.\n* @wip\n* @module moonstone/NewDataList\n*/\n\nrequire('moonstone');\n\nvar\n\tkind = require('enyo/kind'),\n\tNewDataList = require('enyo/NewDataList');\n\nvar\n\tSpotlight = require('spotlight'),\n\tVDRSpotlightSupport = require('spotlight/VDRSpotlightSupport');\n\nvar\n\tScrollable = require('../Scrollable'),\n\tScrollControls = require('../ScrollControls');\n\n/**\n* A Moonstone NewDataList implementation. Currently under development.\n*\n* @class NewDataList\n* @extends module:enyo/NewDataList~NewDataList\n* @ui\n* @wip\n* @public\n*/\nmodule.exports = kind({\n\tname: 'moon.NewDataList',\n\tkind: NewDataList,\n\tscrollControls: [{kind: ScrollControls}],\n\ttouch: false,\n\tmixins: [Scrollable, VDRSpotlightSupport],\n\thandlers: {\n\t\tonSpotlightUp: 'guard5way',\n\t\tonSpotlightRight: 'guard5way',\n\t\tonSpotlightDown: 'guard5way',\n\t\tonSpotlightLeft: 'guard5way'\n\t},\n\t/**\n\t* Prevent accelerating 5-way focus events from trying\n\t* to spot elements that don't yet have DOM nodes.\n\t*\n\t* @private\n\t*/\n\tguard5way: function (sender, event) {\n\t\tvar e, limit, idx, d2x, row, limitRow, movingInScrollDimension;\n\n\t\te = event.type;\n\t\tmovingInScrollDimension =\n\t\t\t(this.direction === 'vertical' && (e === 'onSpotlightUp' || e === 'onSpotlightDown')) ||\n\t\t\t(this.direction === 'horizontal' && (e === 'onSpotlightRight' || e === 'onSpotlightLeft'));\n\n\t\t// If we're not accelerating, or not moving along\n\t\t// our scrollable dimension, then we don't need to guard\n\t\tif (!Spotlight.Accelerator.isAccelerating() || !movingInScrollDimension) return false;\n\n\t\t// Figure out the index of the last de-virtualized element\n\t\t// in the direction we're currently scrolling; anything\n\t\t// further out doesn't yet have a DOM node\n\t\tlimit = (e === 'onSpotlightUp' || e === (this.rtl ? 'onSpotlightRight' : 'onSpotlightLeft')) ?\n\t\t\tthis.first :\n\t\t\tthis._last;\n\n\t\t// Get the index of the currently focused element\n\t\tidx = event.index;\n\n\t\t// In case we're in a grid layout, we need to translate\n\t\t// these indices into the corresponding row / column\n\t\td2x = this.dim2extent;\n\t\trow = Math.floor(idx / d2x);\n\t\tlimitRow = Math.floor(limit / d2x);\n\n\t\t// If we're in the last de-virtualized row, the element we\n\t\t// would focus from here doesn't yet have a DOM node, so\n\t\t// we return true to prevent an attempt to focus. We'll wait\n\t\t// for the next accelerated 5-way event and try again...\n\t\treturn (row === limitRow);\n\t},\n\t/**\n\t* Scrolls to a list item (specified by index).\n\t*\n\t* In addition to the standard scrolling options, you can specify\n\t* `focus: true` if you want the item you're scrolling to to be\n\t* Spotlight focused. Currently, setting `focus: true` forces the\n\t* scroll behavior to be `instant`, meaning that the scroller will\n\t* jump to the item (with no animation).\n\t*\n\t* @see module:enyo/NewDataList~NewDataList.scrollToItem\n\t* @param {number} index - The (zero-based) index of the item to scroll to\n\t* @param {Object} opts - Scrolling options (see module:enyo/Scrollable~Scrollable.scrollTo)\n\t* @public\n\t*/\n\tscrollToItem: function(index, opts) {\n\t\tvar item;\n\n\t\tif (opts && opts.focus) {\n\t\t\topts.behavior = 'instant';\n\t\t}\n\n\t\tNewDataList.prototype.scrollToItem.apply(this, arguments);\n\n\t\tif (opts && opts.focus && !Spotlight.getPointerMode()) {\n\t\t\titem = this.childForIndex(index);\n\t\t\tif (item) Spotlight.spot(item);\n\t\t}\n\t},\n\t/**\n\t* Called by moonstone/Scrollable.filterFocus()\n\t* @private\n\t*/\n\teventIsFromScrollingChild: function (event) {\n\t\treturn (typeof event.index === 'number');\n\t},\n\t/**\n\t* Called by moonstone/Scrollable.filterFocus()\n\t* @private\n\t*/\n\tspotFirstVisibleChild: function() {\n\t\tvar fv = this.getFullyVisibleItems()[0] || this.getVisibleItems()[0];\n\t\tif (fv) {\n\t\t\tSpotlight.spot(fv);\n\t\t\treturn true;\n\t\t}\n\t},\n\t/**\n\t* Called by moonstone/Scrollable.filterFocus()\n\t* @private\n\t*/\n\teventIsFromVisibleChild: function (event) {\n\t\tvar control = event.originator,\n\t\t\tcontrols = this.orderedChildren.slice(this.firstFullyVisibleI, this.lastFullyVisibleI + 1),\n\t\t\ti;\n\n\t\tfor (i = 0; i < controls.length; i++) {\n\t\t\tif (control.isDescendantOf(controls[i])) {\n\t\t\t\treturn true;\n\t\t\t}\n\t\t}\n\n\t\treturn false;\n\t}\n});\n","require('moonstone');\n\n/**\n* Contains the declaration for the {@link module:moonstone/Scroller~Scroller}\n* kind. On platforms with touch support, it will return\n* {@link module:enyo/Scroller~Scroller}.\n* @module moonstone/Scroller\n*/\n\nvar\n\tkind = require('enyo/kind'),\n\tplatform = require('enyo/platform'),\n\tScroller = require('enyo/Scroller'),\n\tSignals = require('enyo/Signals');\n\nvar\n\tSpotlight = require('spotlight');\n\nvar\n\tScrollStrategy = require('../ScrollStrategy');\n\n/**\n* On non-webOS touch platforms, revert to using Enyo scroller, which picks an appropriate\n* scroll strategy for the given platform.\n*\n* @private\n*/\nif (platform.touch && !platform.webos) {\n\tmodule.exports = Scroller;\n} else {\n\t/**\n\t* Fires when a control explicitly requests to be scrolled into view. Handled by the\n\t* [scroll strategy]{@link module:enyo/Scroller~Scroller#strategyKind}.\n\t*\n\t* @event module:moonstone/Scroller~Scroller#onRequestScrollIntoView\n\t* @type {Object}\n\t* @property {Boolean} scrollInPointerMode - Whether to allow scrolling in pointer mode.\n\t* @property {Boolean} scrollFullPage - If defined, overrides the scroller's\n\t*\t[scrollFullPage]{@link module:moonstone/Scroller~Scroller#scrollFullPage} property.\n\t* @public\n\t*/\n\n\t/**\n\t* {@link module:moonstone/Scroller~Scroller} extends {@link module:enyo/Scroller~Scroller}, adding support for 5-way focus\n\t* (Spotlight) and pagination buttons.\n\t*\n\t* It responds when controls explicitly request to be scrolled into view by emitting the\n\t* [onRequestScrollIntoView]{@link module:enyo/Scroller~Scroller#onRequestScrollIntoView} event. This\n\t* typically happens when a control handles an `onSpotlightFocused` event, ensuring that\n\t* 5-way ({@glossary Spotlight}) focused controls remain in view.\n\t*\n\t* For more information, see the documentation on\n\t* [Scrollers]{@linkplain $dev-guide/building-apps/layout/scrollers.html} in the\n\t* Enyo Developer Guide.\n\t*\n\t* @class Scroller\n\t* @extends module:enyo/Scroller~Scroller\n\t* @ui\n\t* @public\n\t*/\n\tmodule.exports = kind(\n\t\t/** @lends module:moonstone/Scroller~Scroller.prototype */ {\n\n\t\t/**\n\t\t* @private\n\t\t*/\n\t\tname:      'moon.Scroller',\n\n\t\t/**\n\t\t* @private\n\t\t*/\n\t\tkind:      Scroller,\n\n\t\t/**\n\t\t* @private\n\t\t* @lends module:moonstone/Scroller~Scroller.prototype\n\t\t*/\n\t\tpublished: {\n\n\t\t\t/**\n\t\t\t* If `true`, when scrolling to focused child controls, the scroller will\n\t\t\t* scroll as far as possible, until its edge meets the next item's edge.\n\t\t\t*\n\t\t\t* @type {Boolean}\n\t\t\t* @default false\n\t\t\t* @public\n\t\t\t*/\n\t\t\tscrollFullPage: false,\n\n\t\t\t/**\n\t\t\t* If `true`, paging controls are focusable (in 5-way mode).  Normally, this\n\t\t\t* is not required, since the scroller will automatically scroll to ensure\n\t\t\t* most focusable items are in view.  It is intended to be used when the\n\t\t\t* scroller contents have no spotlightable controls, such as the case of a\n\t\t\t* scroller with a long body of text.\n\t\t\t*\n\t\t\t* @type {Boolean}\n\t\t\t* @default false\n\t\t\t* @public\n\t\t\t*/\n\t\t\tspotlightPagingControls: false,\n\n\t\t\t/**\n\t\t\t* If 'true', paging controls are hidden when content fit in scroller\n\t\t\t* even when spotlightPagingControls is true.\n\t\t\t*\n\t\t\t* @type {Boolean}\n\t\t\t* @default false\n\t\t\t* @public\n\t\t\t*/\n\t\t\thideScrollColumnsWhenFit: false,\n\n\t\t\t/**\n\t\t\t* Relative parameter used to determine scroll speed.\n\t\t\t*\n\t\t\t* @type {Number}\n\t\t\t* @default 75\n\t\t\t* @public\n\t\t\t*/\n\t\t\tscrollInterval: 75,\n\n\t\t\t/**\n\t\t\t* The ratio of mousewheel 'delta' units to pixels scrolled. Increase this\n\t\t\t* value to increase the distance scrolled by the scroll wheel. Note that\n\t\t\t* mice/trackpads do not emit the same 'delta' units per 'notch' or flick of\n\t\t\t* the scroll wheel/trackpad; that can vary based on intensity and momentum.\n\t\t\t*\n\t\t\t*\n\t\t\t* @type {Number}\n\t\t\t* @default 2\n\t\t\t* @public\n\t\t\t*/\n\t\t\tscrollWheelMultiplier: 2,\n\n\t\t\t/**\n\t\t\t* The ratio of the maximum distance scrolled by each scroll wheel event to\n\t\t\t* the height/width of the viewport. Setting a value larger than `1` is not\n\t\t\t* advised, since a single scroll event could move more than one viewport's\n\t\t\t* worth of content (depending on the delta received), resulting in skipped\n\t\t\t* content.\n\t\t\t*\n\t\t\t* @type {Number}\n\t\t\t* @default 0.2\n\t\t\t* @public\n\t\t\t*/\n\t\t\tscrollWheelPageMultiplier: 0.2,\n\n\t\t\t/**\n\t\t\t* The ratio of the distance scrolled per tap of the paging button to the\n\t\t\t* height/width of the viewport. Setting a value larger than `1` is not\n\t\t\t* advised, since a paging button tap will move more than one viewport's\n\t\t\t* worth of content, resulting in skipped content.\n\t\t\t*\n\t\t\t*\n\t\t\t* @type {Number}\n\t\t\t* @default 0.8\n\t\t\t* @public\n\t\t\t*/\n\t\t\tpaginationPageMultiplier: 0.8,\n\n\t\t\t/**\n\t\t\t* The ratio of continuous-scrolling delta units to pixels scrolled. Increase\n\t\t\t* this value to increase the distance scrolled when the pagination buttons\n\t\t\t* are held.\n\t\t\t*\n\t\t\t* @type {Number}\n\t\t\t* @default 8\n\t\t\t* @public\n\t\t\t*/\n\t\t\tpaginationScrollMultiplier: 8,\n\n\t\t\t/**\n\t\t\t* When `true`, the scroll wheel moves spotlight focus up/down through the\n\t\t\t* scroller when in 5-way mode. (In pointer mode, the scroll wheel always\n\t\t\t* scrolls the viewport without modifying focus position.) When `false`, the\n\t\t\t* scroll wheel works the same in 5-way mode as in pointer mode, where the\n\t\t\t* wheel moves the position of the scroller viewport.\n\t\t\t*\n\t\t\t* @type {Boolean}\n\t\t\t* @default true\n\t\t\t* @public\n\t\t\t*/\n\t\t\tscrollWheelMovesFocus: true\n\t\t},\n\n\t\t/**\n\t\t* @private\n\t\t*/\n\t\thandlers: {\n\t\t\tonSpotlightScrollUp:'spotlightWheel',\n\t\t\tonSpotlightScrollDown:'spotlightWheel',\n\t\t\tonSpotlightContainerEnter:'enablePageUpDownKey',\n\t\t\tonSpotlightFocus: 'checkBounce',\n\t\t\tonSpotlightContainerLeave:'containerLeaveHandler',\n\t\t\tonenter:'enablePageUpDownKey',\n\t\t\tonleave:'disablePageUpDownKey',\n\t\t\tonmove:'move'\n\t\t},\n\n\t\t/**\n\t\t* Need this to prevent the web engine from adjusting the native\n\t\t* scrollTop / scrollLeft props behind our backs under certain\n\t\t* circumstances (when an element inside the scroller is\n\t\t* programatically focused).\n\t\t*\n\t\t* @private\n\t\t*/\n\t\taccessibilityPreventScroll: true,\n\n\t\t// The scrollToBoundary configuration parameters below\n\t\t// are considered private for now, but have been factored\n\t\t// this way and are sync'd with moonstone/ScrollStrategy so that\n\t\t// they can be changed in one place and could be overridden in case\n\t\t// of emergency.\n\n\t\t/**\n\t\t* @private\n\t\t*/\n\t\tscrollToBoundaryDelay: 100,\n\n\t\t/**\n\t\t* @private\n\t\t*/\n\t\tscrollToBoundaryAnimate: true,\n\n\n\t\t/**\n\t\t* If `true`, scroll events are not allowed to propagate.\n\t\t*\n\t\t* @private\n\t\t*/\n\t\tpreventScrollPropagation: false,\n\n\t\t/**\n\t\t* If `true`, measure the size of the scroll columns on initial render.\n\t\t* See {@link module:moonstone/ScrollStrategy~ScrollStrategy#_measureScrollColumns} for details.\n\t\t*\n\t\t* @private\n\t\t*/\n\t\tmeasureScrollColumns: false,\n\n\t\t/**\n\t\t* Default to {@link module:moonstone/ScrollStrategy~ScrollStrategy}\n\t\t*\n\t\t* @private\n\t\t*/\n\t\tstrategyKind: ScrollStrategy,\n\n\t\t/**\n\t\t* @private\n\t\t*/\n\t\tspotlight: 'container',\n\n\t\t/**\n\t\t* @private\n\t\t*/\n\t\thandlePageUpDownKey: false,\n\n\t\t/**\n\t\t* Scrolls until the specified [control]{@link module:enyo/Control~Control} is in view. If\n\t\t* `scrollFullPage` is set, scrolls until the edge of `control` is aligned with\n\t\t* the edge of the visible scroll area. Optional third parameter indicates\n\t\t* whether or not the scroll should be animated. If `setLastFocusedChild` is\n\t\t* `true`, scroller will set up `control` to be the spotted child when the\n\t\t* scroller is spotted.\n\t\t*\n\t\t* @param {Object} control - The [control]{@link module:enyo/Control~Control} to scroll into view.\n\t\t* @param {Boolean} [scrollFullPage] - If `true`, scrolls until the edge of `control`\n\t\t* is aligned with the edge of the visible scroll area. If `undefined`, the value in\n\t\t*\t[scrollFullPage]{@link module:moonstone/Scroller~Scroller#scrollFullPage} is used.\n\t\t* @param {Boolean} [animate=true] - If `true`, animates the scroll.\n\t\t* @param {Boolean} [setLastFocusedChild=false] - If `true`, scroller will set up\n\t\t* `control` to be the spotted child when the scroller is spotted.\n\t\t* @public\n\t\t*/\n\t\tscrollToControl: function (control, scrollFullPage, animate, setLastFocusedChild) {\n\t\t\tif (setLastFocusedChild) {\n\t\t\t\tthis.setLastFocusedChild(control);\n\t\t\t}\n\t\t\tthis.$.strategy.animateToControl(control, scrollFullPage, animate);\n\t\t},\n\n\t\t/**\n\t\t* Scrolls to the specified `x` and `y` coordinates. The optional third parameter\n\t\t* may be set to `false` to disable animation for the scroll.\n\t\t*\n\t\t* @param {Number} x - Horizontal position in pixels\n\t\t* @param {Number} y - Vertical position in pixels\n\t\t* @param {Boolean} [animate=true] - If `true`, animates the scroll.\n\t\t* @public\n\t\t*/\n\t\tscrollTo: function (x, y, animate) {\n\t\t\tthis.$.strategy.scrollTo(x, y, animate);\n\t\t},\n\n\t\t/**\n\t\t* @private\n\t\t*/\n\t\tbindings: [\n\t\t\t{from: 'scrollInterval',\t\t\t\tto:'$.strategy.interval'},\n\t\t\t{from: 'scrollWheelMultiplier',\t\t\tto:'$.strategy.scrollWheelMultiplier'},\n\t\t\t{from: 'scrollWheelPageMultiplier',\t\tto:'$.strategy.scrollWheelPageMultiplier'},\n\t\t\t{from: 'paginationPageMultiplier',\t\tto:'$.strategy.paginationPageMultiplier'},\n\t\t\t{from: 'paginationScrollMultiplier',\tto:'$.strategy.paginationScrollMultiplier'},\n\t\t\t{from: 'hideScrollColumnsWhenFit',\t\tto:'$.strategy.hideScrollColumnsWhenFit'},\n\t\t\t{from: 'scrollToBoundaryDelay',\t\t\tto:'$.strategy.scrollToBoundaryDelay'},\n\t\t\t{from: 'scrollToBoundaryAnimate',\t\tto:'$.strategy.scrollToBoundaryAnimate'}\n\t\t],\n\n\t\t/**\n\t\t* @private\n\t\t*/\n\t\tcreate: function () {\n\t\t\tScroller.prototype.create.apply(this, arguments);\n\t\t\tthis.spotlightPagingControlsChanged();\n\t\t\tthis.scrollWheelMovesFocusChanged();\n\t\t\tthis.createChrome([{kind: Signals, onkeyup: 'keyup'}]);\n\n\t\t\tthis.$.strategy.measureScrollColumns = this.measureScrollColumns;\n\n\t\t\t// workaround because the bootstrapping code isn't attached to constructors that have\n\t\t\t// finished setup before the hook is declared\n\t\t\tif(Spotlight && this.spotlight === 'container') {\n\t\t\t\tSpotlight.Container.initContainer(this);\n\t\t\t}\n\t\t},\n\n\t\t/**\n\t\t* @private\n\t\t*/\n\t\tsetLastFocusedChild: function(control) {\n\t\t\tSpotlight.Container.setLastFocusedChild(this, control);\n\t\t},\n\n\t\t/**\n\t\t* @private\n\t\t*/\n\t\tspotlightPagingControlsChanged: function () {\n\t\t\tthis.$.strategy.set('spotlightPagingControls', this.spotlightPagingControls);\n\t\t},\n\n\t\t/**\n\t\t* @private\n\t\t*/\n\t\tscrollWheelMovesFocusChanged: function () {\n\t\t\tif (!this.scrollWheelMovesFocus) {\n\t\t\t\tthis.setUseMouseWheel(true);\n\t\t\t}\n\t\t},\n\n\t\t/**\n\t\t* @private\n\t\t*/\n\t\tspotlightWheel: function (inSender, inEvent) {\n\t\t\tif (this.scrollWheelMovesFocus) {\n\t\t\t\tif (!Spotlight.getPointerMode()) {\n\t\t\t\t\tvar curr = Spotlight.getCurrent();\n\t\t\t\t\tif (curr && curr.isDescendantOf(this)) {\n\t\t\t\t\t\tvar dir = inEvent.type == 'onSpotlightScrollUp' ? 'onSpotlightUp' : 'onSpotlightDown';\n\t\t\t\t\t\tthis._spotlightModal = this.spotlightModal;\n\t\t\t\t\t\tthis.spotlightModal = true;\t// Trap focus inside scroller while wheeling\n\t\t\t\t\t\tSpotlight.Util.dispatchEvent(dir, {type: dir}, curr);\n\t\t\t\t\t\tthis.spotlightModal = this._spotlightModal;\n\t\t\t\t\t\treturn true;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\n\t\t/**\n\t\t* @private\n\t\t*/\n\t\tgetHandlePageUpDownKey: function () {\n\t\t\treturn this.handlePageUpDownKey;\n\t\t},\n\n\t\t/**\n\t\t* @private\n\t\t*/\n\t\tenablePageUpDownKey: function () {\n\t\t\tthis.handlePageUpDownKey = true;\n\t\t},\n\n\t\t/**\n\t\t* @private\n\t\t*/\n\t\tdisablePageUpDownKey: function () {\n\t\t\tthis.handlePageUpDownKey = false;\n\t\t},\n\n\t\t/**\n\t\t* @private\n\t\t*/\n\t\tcheckBounce: function (sender, event) {\n\t\t\tif (event.focusType === '5-way bounce') {\n\t\t\t\tthis.stopJob('scrollToBoundary');\n\t\t\t}\n\t\t},\n\n\t\t/**\n\t\t* @private\n\t\t*/\n\t\tcontainerLeaveHandler: function (sender, event) {\n\t\t\t// We want to scroll to the boundary when 5-way focus leaves the scroller,\n\t\t\t// but we do this in a job to prevent scrolling in the case where focus\n\t\t\t// immediately \"bounces\" back into the scroller because there's nothing\n\t\t\t// spottable in the given direction\n\t\t\tif (event.originator === this) {\n\t\t\t\tthis.scrollToBoundary();\n\t\t\t}\n\n\t\t\tthis.disablePageUpDownKey();\n\t\t},\n\n\t\t/**\n\t\t* If 5-way focus is leaving the scroller, we scroll to the scroller's\n\t\t* boundary in the direction of the move. This logic works in\n\t\t* conjunction with related logic in moonstone/ScrollStrategy to allow users\n\t\t* to 5-way scroll all the way to the edge of a scroller, even when\n\t\t* the controls nearest the scroller boundary are disabled or otherwise\n\t\t* unfocusable.\n\t\t*\n\t\t* @private\n\t\t*/\n\t\tscrollToBoundary: function () {\n\t\t\tvar strategy = this.getStrategy(),\n\t\t\t\tb = strategy.getScrollBounds(),\n\t\t\t\to5WayEvent = Spotlight.getLast5WayEvent(),\n\t\t\t\tlastControl = Spotlight.getLastControl(),\n\t\t\t\ttop = strategy.getScrollTop(),\n\t\t\t\tleft = strategy.getScrollLeft(),\n\t\t\t\tanimate = this.scrollToBoundaryAnimate;\n\n\t\t\tif (o5WayEvent && (!strategy.isPageControl || !strategy.isPageControl(lastControl))) {\n\t\t\t\tthis.startJob('scrollToBoundary', function () {\n\t\t\t\t\tswitch (o5WayEvent.type) {\n\t\t\t\t\t\tcase 'onSpotlightUp':\n\t\t\t\t\t\t\tif (top > 0) strategy.scrollTo(left, 0, animate);\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\tcase 'onSpotlightDown':\n\t\t\t\t\t\t\tif (top < b.maxTop) strategy.scrollTo(left, b.maxTop, animate);\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\tcase 'onSpotlightLeft':\n\t\t\t\t\t\t\tif (left > 0) strategy.scrollTo(0, top, animate);\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\tcase 'onSpotlightRight':\n\t\t\t\t\t\t\t\tif (left < b.maxLeft) strategy.scrollTo(b.maxLeft, top, animate);\n\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t}, this.scrollToBoundaryDelay);\n\t\t\t}\n\t\t},\n\n\t\t/**\n\t\t* @private\n\t\t*/\n\t\tmove: function (inSender, inEvent) {\n\t\t\tif (!this.getHandlePageUpDownKey()) {\n\t\t\t\tthis.enablePageUpDownKey();\n\t\t\t}\n\t\t},\n\n\t\t/**\n\t\t* @private\n\t\t*/\n\t\tkeyup: function (inSender, inEvent) {\n\t\t\tvar KEY_POINTER_PAGE_UP = 33,\n\t\t\t\tKEY_POINTER_PAGE_DOWN = 34;\n\n\t\t\tif (!this.getHandlePageUpDownKey()) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tvar strategy = this.getStrategy(),\n\t\t\t\tshowVertical = strategy.showVertical(),\n\t\t\t\tviewportBounds = strategy.$.viewport.getAbsoluteBounds(),\n\t\t\t\toSpotControl = Spotlight.getCurrent(),\n\t\t\t\tdirection,\n\t\t\t\trDirection,\n\t\t\t\tpageKeyCtr;\n\n\t\t\tswitch (inEvent.keyCode) {\n\t\t\t\tcase KEY_POINTER_PAGE_UP:\n\t\t\t\t\tdirection = showVertical ? 'Up' : 'Left';\n\t\t\t\t\trDirection = showVertical ? 'Down' : 'Right';\n\t\t\t\t\tbreak;\n\t\t\t\tcase KEY_POINTER_PAGE_DOWN:\n\t\t\t\t\tdirection = showVertical ? 'Down' : 'Right';\n\t\t\t\t\trDirection = showVertical ? 'Up' : 'Left';\n\t\t\t\t\tbreak;\n\t\t\t\tdefault:\n\t\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tpageKeyCtr = strategy.$['page' + direction + 'Control'];\n\n\t\t\tif (!Spotlight.getPointerMode() && oSpotControl) {\n\t\t\t\tvar oSpotBounds = oSpotControl.getAbsoluteBounds(),\n\t\t\t\t\toEndPoint = this.getEndPoint(direction, oSpotBounds, viewportBounds);\n\n\t\t\t\tvar oControl = Spotlight.\n\t\t\t\t\t\t\t\tNearestNeighbor.\n\t\t\t\t\t\t\t\tgetNearestPointerNeighbor(this, rDirection.toUpperCase(), oEndPoint.x, oEndPoint.y);\n\t\t\t\tif (oControl && oControl.id === oSpotControl.id) {\n\t\t\t\t\toEndPoint = this.getEndPoint(direction, oSpotBounds, this.getNextViewport(direction, viewportBounds));\n\t\t\t\t\toControl = Spotlight.\n\t\t\t\t\t\t\t\tNearestNeighbor.\n\t\t\t\t\t\t\t\tgetNearestPointerNeighbor(this, rDirection.toUpperCase(), oEndPoint.x, oEndPoint.y);\n\t\t\t\t}\n\t\t\t\tif (oControl !== oSpotControl) {\n\t\t\t\t\tSpotlight.spot(oControl);\n\t\t\t\t} else {\n\t\t\t\t\tpageKeyCtr.sendPaginateEvent();\n\t\t\t\t}\n\t\t\t}\n\t\t\telse {\n\t\t\t\tif (pageKeyCtr.getDisabled()) {\n\t\t\t\t\tstrategy.alertThumbs();\n\t\t\t\t} else {\n\t\t\t\t\tpageKeyCtr.sendPaginateEvent();\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\n\t\t/**\n\t\t* @private\n\t\t*/\n\t\tgetEndPoint: function (direction, oSpotBounds, viewportBounds) {\n\t\t\tvar oPoint = {};\n\t\t\tswitch (direction) {\n\t\t\t\tcase 'Up':\n\t\t\t\t\toPoint.x = oSpotBounds.left + oSpotBounds.width/2;\n\t\t\t\t\toPoint.y = viewportBounds.top;\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'Left':\n\t\t\t\t\toPoint.x = viewportBounds.left;\n\t\t\t\t\toPoint.y = oSpotBounds.top + oSpotBounds.height/2;\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'Down':\n\t\t\t\t\toPoint.x = oSpotBounds.left + oSpotBounds.width/2;\n\t\t\t\t\toPoint.y = viewportBounds.top + viewportBounds.height;\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'Right':\n\t\t\t\t\toPoint.x = viewportBounds.left + viewportBounds.width;\n\t\t\t\t\toPoint.y = oSpotBounds.top + oSpotBounds.height/2;\n\t\t\t\t\tbreak;\n\t\t\t}\n\t\t\treturn oPoint;\n\t\t},\n\n\t\t/**\n\t\t* @private\n\t\t*/\n\t\tgetNextViewport: function (direction, viewportBounds) {\n\t\t\tswitch (direction) {\n\t\t\t\tcase 'Up':\n\t\t\t\t\tviewportBounds.top = viewportBounds.top - viewportBounds.height;\n\t\t\t\t\treturn viewportBounds;\n\t\t\t\tcase 'Left':\n\t\t\t\t\tviewportBounds.left = viewportBounds.left - viewportBounds.width;\n\t\t\t\t\treturn viewportBounds;\n\t\t\t\tcase 'Down':\n\t\t\t\t\tviewportBounds.top = viewportBounds.top + viewportBounds.height;\n\t\t\t\t\treturn viewportBounds;\n\t\t\t\tcase 'Right':\n\t\t\t\t\tviewportBounds.left = viewportBounds.left + viewportBounds.width;\n\t\t\t\t\treturn viewportBounds;\n\t\t\t}\n\t\t},\n\n\t\t/**\n\t\t* @private\n\t\t*/\n\t\tpreviewDomEvent: function (inEvent) {\n\t\t\tif (this.scrollWheelMovesFocus) {\n\t\t\t\tif (inEvent.type == 'mousewheel') {\n\t\t\t\t\tthis.setUseMouseWheel(Spotlight.getPointerMode());\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t});\n}\n","/**\n* Contains the declaration for the {@link module:moonstone/VideoPlayer~VideoPlayer} kind.\n* @module moonstone/VideoPlayer\n*/\n\nrequire('moonstone');\n\nvar\n\tdispatcher = require('enyo/dispatcher'),\n\tdom = require('enyo/dom'),\n\tgesture = require('enyo/gesture'),\n\tkind = require('enyo/kind'),\n\tutil = require('enyo/utils'),\n\tAnimator = require('enyo/Animator'),\n\tControl = require('enyo/Control'),\n\tEnyoHistory = require('enyo/History'),\n\tSignals = require('enyo/Signals'),\n\tVideo = require('enyo/Video');\n\nvar\n\tSpotlight = require('spotlight');\n\nvar\n\tFittableColumns = require('layout/FittableColumns'),\n\tPanels = require('enyo/LightPanels');\n\nvar\n\tDurationFmt = require('enyo-ilib/DurationFmt');\n\nvar\n\t$L = require('../i18n'),\n\tIconButton = require('moonstone/IconButton'),\n\tHistorySupport = require('moonstone/HistorySupport'),\n\tSpinner = require('moonstone/Spinner'),\n\tVideoFullscreenToggleButton = require('../VideoFullscreenToggleButton'),\n\tVideoTransportSlider = require('../VideoTransportSlider');\n\n/**\n* Fires when [disablePlaybackControls]{@link module:moonstone/VideoPlayer~VideoPlayer#disablePlaybackControls}\n* is `true` and the user taps one of the [controls]{@link module:enyo/Control~Control}; may be handled to\n* re-enable the controls, if desired. No event-specific information is sent with this event.\n*\n* @event module:moonstone/VideoPlayer~VideoPlayer#onPlaybackControlsTapped\n* @type {Object}\n* @public\n*/\n\n/**\n* Child controls may bubble this event to toggle the fullscreen state of the video player.\n* No additional data needs to be sent with this event.\n*\n* @event module:moonstone/VideoPlayer~VideoPlayer#onRequestToggleFullscreen\n* @type {Object}\n* @public\n*/\n\n/**\n* Child controls may bubble this event to request an update to the current video position.\n*\n* @event module:moonstone/VideoPlayer~VideoPlayer#onRequestTimeChange\n* @type {Object}\n* @property {Number} value - Requested time index.\n* @public\n*/\n\n/**\n* {@link module:moonstone/VideoPlayer~VideoPlayer} is an HTML5 [video]{@glossary video} player control.  It wraps\n* an {@link module:enyo/Video~Video} [object]{@glossary Object} to provide Moonstone-styled standard\n* transport [controls]{@link module:enyo/Control~Control}, optional app-specific controls, and an information\n* bar for displaying video information and player feedback.\n*\n* All of the standard HTML5 media [events]{@glossary event} bubbled from `enyo/Video` will\n* also bubble from this control.\n*\n* Client [components]{@link module:enyo/Component~Component} added to the `components` block are rendered into\n* the video player's transport control area, and should generally be limited to instances of\n* {@link module:moonstone/IconButton~IconButton}. If more than two client components are specified, they will be\n* rendered into an \"overflow\" screen, reached by activating a button to the right of the\n* controls.\n*\n* Client components addded to the [infoComponents]{@link module:moonstone/VideoPlayer~VideoPlayer#infoComponents}\n* block will be created as a header for the video.\n*\n* ```javascript\n* var VideoPlayer = require('moonstone/VideoPlayer');\n*\n* {\n*\t\tkind: VideoPlayer,\n*\t\tsrc: 'http://www.w3schools.com/html/mov_bbb.mp4',\n*\t\tcomponents: [\n*\t\t\t// Custom icons for app-specific features\n*\t\t\t{kind: IconButton, src: 'moonstone/src/assets/feature1.png', ontap: 'feature1'},\n*\t\t\t{kind: IconButton, src: 'moonstone/src/assets/feature2.png', ontap: 'feature2'},\n*\t\t\t{kind: IconButton, src: 'moonstone/src/assets/feature3.png', ontap: 'feature3'}\n*\t\t],\n*\t\tinfoComponents: [\n*\t\t\t{kind: VideoHeaderBackground, components: [\n*\t\t\t\t{kind: VideoInfoHeader, ... }\n*\t\t\t]\n*\t\t]\n* }\n* ```\n*\n* @class VideoPlayer\n* @extends module:enyo/Control~Control\n* @ui\n* @public\n*/\nmodule.exports = kind(\n\t/** @lends module:moonstone/VideoPlayer~VideoPlayer.prototype */ {\n\n\t/**\n\t* @private\n\t*/\n\tname: 'moon.VideoPlayer',\n\n\t/**\n\t* @private\n\t*/\n\tkind: Control,\n\n\t/**\n\t* @private\n\t*/\n\tmixins: [HistorySupport],\n\n\t/**\n\t* @private\n\t*/\n\tspotlight: true,\n\n\t// Fixme: When enyo-fit is used than the background image does not fit to video while dragging.\n\t/**\n\t* @private\n\t*/\n\tclasses: 'moon-video-player enyo-unselectable',\n\n\t/**\n\t* @private\n\t*/\n\tevents: {\n\t\tonPlaybackControlsTapped: ''\n\t},\n\n\t/**\n\t* @private\n\t* @lends module:moonstone/VideoPlayer~VideoPlayer.prototype\n\t*/\n\tpublished: {\n\n\t\t/**\n\t\t* URL of HTML5 video file.\n\t\t*\n\t\t* @type {String}\n\t\t* @default ''\n\t\t* @public\n\t\t*/\n\t\tsrc: '',\n\n\t\t/**\n\t\t* Array for setting multiple sources for the same video.\n\t\t*\n\t\t* @type {String[]}\n\t\t* @default null\n\t\t* @public\n\t\t*/\n\t\tsources: null,\n\n\t\t/**\n\t\t* A [component]{@link module:enyo/Component~Component} definition block describing components to\n\t\t* be created as an information block above the video. Usually, this contains a\n\t\t* [moon/VideoInfoBackground]{@link module:moonstone/VideoInfoBackground~VideoInfoBackground} with a\n\t\t* [moon/VideoInfoHeader]{@link module:moonstone/VideoInfoHeader~VideoInfoHeader} in it.\n\t\t*\n\t\t* @type {Object[]}\n\t\t* @default null\n\t\t* @public\n\t\t*/\n\t\tinfoComponents: null,\n\n\t\t/**\n\t\t* If `true`, the video player is resized after metadata is loaded, based on the\n\t\t* [aspectRatio]{@link module:moonstone/VideoPlayer~VideoPlayer#aspectRatio} contained in the metadata. This\n\t\t* applies only to [inline]{@link module:moonstone/VideoPlayer~VideoPlayer#inline} mode (i.e., when\n\t\t* `inline` is `true`).\n\t\t*\n\t\t* @type {Boolean}\n\t\t* @default false\n\t\t* @public\n\t\t*/\n\t\tautoResize: false,\n\n\t\t/**\n\t\t* Video aspect ratio, specified as `'width:height'`, or `'none'`.  When an aspect ratio\n\t\t* is specified at render time, the player's height or width will be updated to respect\n\t\t* the ratio, depending on whether [fixedHeight]{@link module:moonstone/VideoPlayer~VideoPlayer#fixedHeight} is\n\t\t* `true` or `false`. If [autoResize]{@link module:moonstone/VideoPlayer~VideoPlayer#autoResize} is `true`, the\n\t\t* `aspectRatio` will be updated based on the metadata for the current video and the\n\t\t* player will be resized accordingly. This applies only to\n\t\t* [inline]{@link module:moonstone/VideoPlayer~VideoPlayer#inline} mode.\n\t\t*\n\t\t* @type {String}\n\t\t* @default '16:9'\n\t\t* @public\n\t\t*/\n\t\taspectRatio: '16:9',\n\n\t\t/**\n\t\t* When `true`, the width will be adjusted at render time based on the observed height\n\t\t* and the aspect ratio. When `false` (the default), the height will be adjusted at\n\t\t* render time based on the observed width and the aspect ratio. This property is ignored\n\t\t* if [aspectRatio]{@link module:moonstone/VideoPlayer~VideoPlayer#aspectRatio} is `'none'` or a **falsy**\n\t\t* value.  In addition, this applies only to [inline]{@link module:moonstone/VideoPlayer~VideoPlayer#inline} mode.\n\t\t*\n\t\t* @type {Boolean}\n\t\t* @default false\n\t\t* @public\n\t\t*/\n\t\tfixedHeight: false,\n\n\t\t/**\n\t\t* Amount of time (in milliseconds) after which control buttons are automatically hidden.\n\t\t*\n\t\t* @type {Number}\n\t\t* @default 7000\n\t\t* @public\n\t\t*/\n\t\tautoCloseTimeout: 7000,\n\n\t\t/**\n\t\t* Duration of the video.\n\t\t*\n\t\t* @type {Number}\n\t\t* @default 0\n\t\t* @public\n\t\t*/\n\t\tduration: 0,\n\n\t\t/**\n\t\t* If `true`, playback starts automatically when video is loaded.\n\t\t*\n\t\t* @type {Boolean}\n\t\t* @default false\n\t\t* @public\n\t\t*/\n\t\tautoplay: false,\n\n\t\t/**\n\t\t* If `false`, fullscreen video control overlays (info or transport) are not shown\n\t\t* or hidden automatically in response to `up` or `down` events.\n\t\t*\n\t\t* @type {Boolean}\n\t\t* @default true\n\t\t* @public\n\t\t*/\n\t\tautoShowOverlay: true,\n\n\t\t/**\n\t\t* If `true`, the overlay will be shown in response to pointer movement (in addition to\n\t\t* `up` and `down` events).\n\t\t*\n\t\t* @type {Boolean}\n\t\t* @default false\n\t\t* @public\n\t\t*/\n\t\tshakeAndWake: false,\n\n\t\t/**\n\t\t* If `false`, the top [infoComponents]{@link module:moonstone/VideoPlayer~VideoPlayer#infoComponents} are\n\t\t* not automatically shown or hidden in response to `up` events.\n\t\t*\n\t\t* @type {Boolean}\n\t\t* @default true\n\t\t* @public\n\t\t*/\n\t\tautoShowInfo: true,\n\n\t\t/**\n\t\t* If `false`, the bottom slider/controls are not automatically shown or hidden in\n\t\t* response to `down` events.\n\t\t*\n\t\t* @type {Boolean}\n\t\t* @default true\n\t\t* @public\n\t\t*/\n\t\tautoShowControls: true,\n\n\t\t/**\n\t\t* When `true`, the top [infoComponents]{@link module:moonstone/VideoPlayer~VideoPlayer#infoComponents} are\n\t\t* shown with no timeout; when `false` (the default), they are shown based on the\n\t\t* value of the [autoShowInfo]{@link module:moonstone/VideoPlayer~VideoPlayer#autoShowInfo} property.\n\t\t*\n\t\t* @type {Boolean}\n\t\t* @default false\n\t\t* @public\n\t\t*/\n\t\tshowInfo: false,\n\n\t\t/**\n\t\t* When `false`, the player starts in fullscreen mode; when `true`, it starts in\n\t\t* inline mode. As this is meant to be initialized on startup, fire the\n\t\t* [onRequestToggleFullscreen]{@link module:moonstone/VideoPlayer~VideoPlayer#onRequestToggleFullscreen}\n\t\t* event from a child control or call\n\t\t* [toggleFullscreen()]{@link module:moonstone/VideoPlayer~VideoPlayer#toggleFullscreen} to dynamically\n\t\t* toggle between fullscreen and inline mode.\n\t\t*\n\t\t* @type {Boolean}\n\t\t* @default false\n\t\t* @public\n\t\t*/\n\t\tinline: false,\n\n\t\t/**\n\t\t* Amount of time (in seconds) to jump in response to jump buttons. This value is ignored\n\t\t* when [jumpStartEnd]{@link module:moonstone/VideoPlayer~VideoPlayer#jumpStartEnd} is `true`.\n\t\t*\n\t\t* @type {Number}\n\t\t* @default 30\n\t\t* @public\n\t\t*/\n\t\tjumpSec: 30,\n\n\t\t/**\n\t\t* If `true`, the \"jump forward\" and \"jump back\" buttons jump to the start and end of the\n\t\t* video, respectively.\n\t\t*\n\t\t* @type {Boolean}\n\t\t* @default false\n\t\t* @public\n\t\t*/\n\t\tjumpStartEnd: false,\n\n\t\t/**\n\t\t* When `true`, popups opened from the video player's client controls are automatically\n\t\t* hidden.\n\t\t*\n\t\t* @type {Boolean}\n\t\t* @default true\n\t\t* @public\n\t\t*/\n\t\tautoHidePopups: true,\n\n\t\t/**\n\t\t* If `false`, the progress bar is removed and any additional controls are moved\n\t\t* downward.\n\t\t*\n\t\t* @type {Boolean}\n\t\t* @default true\n\t\t* @public\n\t\t*/\n\t\tshowProgressBar: true,\n\n\t\t/**\n\t\t* If `false`, the transport controls are removed, but the icon button area is kept.\n\t\t*\n\t\t* @type {Boolean}\n\t\t* @default true\n\t\t* @public\n\t\t*/\n\t\tshowPlaybackControls: true,\n\n\t\t/**\n\t\t* When `true`, playback controls are hidden when the slider is hovered over.\n\t\t*\n\t\t* @type {Boolean}\n\t\t* @default false\n\t\t* @public\n\t\t*/\n\t\thideButtonsOnSlider: false,\n\n\t\t/**\n\t\t* If `true`, the slider is disabled and will not be enabled when video data has\n\t\t* loaded.\n\t\t*\n\t\t* @type {Boolean}\n\t\t* @default false\n\t\t* @public\n\t\t*/\n\t\tdisableSlider: false,\n\n\t\t/**\n\t\t* If `false`, the \"jump forward\" and \"jump back\" buttons are hidden.\n\t\t*\n\t\t* @type {Boolean}\n\t\t* @default true\n\t\t* @public\n\t\t*/\n\t\tshowJumpControls: true,\n\n\t\t/**\n\t\t* When `true`, the fast-forward and rewind buttons are visible.\n\t\t*\n\t\t* @type {Boolean}\n\t\t* @default true\n\t\t* @public\n\t\t*/\n\t\tshowFFRewindControls: true,\n\n\t\t/**\n\t\t* If `true`, the slider and playback controls are disabled. If the user taps the\n\t\t* controls, an\n\t\t* [onPlaybackControlsTapped]{@link module:moonstone/VideoPlayer~VideoPlayer#onPlaybackControlsTapped}\n\t\t* event will be bubbled.\n\t\t*\n\t\t* @type {Boolean}\n\t\t* @default false\n\t\t* @public\n\t\t*/\n\t\tdisablePlaybackControls: false,\n\n\t\t/**\n\t\t* When `true`, playback controls are only active when the video player has a valid\n\t\t* source URL and no errors occur during video loading.\n\t\t*\n\t\t* @type {Boolean}\n\t\t* @default true\n\t\t* @public\n\t\t*/\n\t\tdisablePlaybackControlsOnUnload: true,\n\n\t\t/**\n\t\t* If `false`, the Play/Pause control is hidden.\n\t\t*\n\t\t* @type {Boolean}\n\t\t* @default true\n\t\t* @public\n\t\t*/\n\t\tshowPlayPauseControl: true,\n\n\t\t/**\n\t\t* If `false`, the video element is hidden.\n\t\t*\n\t\t* @type {Boolean}\n\t\t* @default true\n\t\t* @public\n\t\t*/\n\t\tshowVideo: true,\n\n\t\t/**\n\t\t* When `true`, a spinner is automatically shown when video is in the play state but\n\t\t* is still loading/buffering.\n\t\t*\n\t\t* @type {Boolean}\n\t\t* @default true\n\t\t* @public\n\t\t*/\n\t\tautoShowSpinner: true,\n\n\t\t/**\n\t\t* Source of image file to show when video isn't available or user has not yet tapped the\n\t\t* play button.\n\t\t*\n\t\t* @type {String}\n\t\t* @default ''\n\t\t* @public\n\t\t*/\n\t\tposter: '',\n\n\t\t/**\n\t\t* If `false`, video player won't respond to remote control.\n\t\t*\n\t\t* @type {Boolean}\n\t\t* @default true\n\t\t* @public\n\t\t*/\n\t\thandleRemoteControlKey: true,\n\n\t\t/**\n\t\t* Sliders will increase or decrease as much as this percentage value in either direction\n\t\t* when left or right key is pressed in 5-Way mode.\n\t\t*\n\t\t* @type {Number|String}\n\t\t* @default '5%'\n\t\t* @public\n\t\t*/\n\t\tknobIncrement: '5%',\n\n\t\t/**\n\t\t* Base URL for icons\n\t\t*\n\t\t* @private\n\t\t*/\n\t\ticonPath: 'images/video-player/',\n\n\t\t/**\n\t\t* Name of font-based icon or image file.\n\t\t*\n\t\t* @private\n\t\t*/\n\t\tjumpBackIcon: 'skipbackward',\n\n\t\t/**\n\t\t* Name of font-based icon or image file.\n\t\t*\n\t\t* @private\n\t\t*/\n\t\trewindIcon: 'backward',\n\n\t\t/**\n\t\t* Name of font-based icon or image file.\n\t\t*\n\t\t* @private\n\t\t*/\n\t\tplayIcon: 'play',\n\n\t\t/**\n\t\t* Name of font-based icon or image file.\n\t\t*\n\t\t* @private\n\t\t*/\n\t\tpauseIcon: 'pause',\n\n\t\t/**\n\t\t* Name of font-based icon or image file.\n\t\t*\n\t\t* @private\n\t\t*/\n\t\tfastForwardIcon: 'forward',\n\n\t\t/**\n\t\t* Name of font-based icon or image file.\n\t\t*\n\t\t* @private\n\t\t*/\n\t\tjumpForwardIcon: 'skipforward',\n\n\t\t/**\n\t\t* Name of font-based icon or image file.\n\t\t*\n\t\t* @private\n\t\t*/\n\t\tmoreControlsIcon: 'ellipsis',\n\n\t\t/**\n\t\t* Name of font-based icon or image file.\n\t\t*\n\t\t* @private\n\t\t*/\n\t\tlessControlsIcon: 'arrowhookleft',\n\n\t\t/**\n\t\t* Name of font-based icon or image file.\n\t\t*\n\t\t* @private\n\t\t*/\n\t\tinlinePlayIcon: 'play',\n\n\t\t/**\n\t\t* Name of font-based icon or image file.\n\t\t*\n\t\t* @private\n\t\t*/\n\t\tinlinePauseIcon: 'pause',\n\n\t\t/**\n\t\t* Name of font-based icon or image file.\n\t\t*\n\t\t* @private\n\t\t*/\n\t\tinlineFullscreenIcon: 'fullscreen',\n\n\t\t/**\n\t\t* Default hash of playback states and their associated playback rates.\n\t\t* playbackRateHash: {\n\t\t*\tfastForward: ['2', '4', '8', '16'],\n\t\t*\trewind: ['-2', '-4', '-8', '-16'],\n\t\t*\tslowForward: ['1/4', '1/2'],\n\t\t*\tslowRewind: ['-1/2', '-1']\n\t\t* }\n\t\t*\n\t\t* @private\n\t\t*/\n\t\tplaybackRateHash: {\n\t\t\tfastForward: ['2', '4', '8', '16'],\n\t\t\trewind: ['-2', '-4', '-8', '-16'],\n\t\t\tslowForward: ['1/4', '1/2'],\n\t\t\tslowRewind: ['-1/2', '-1']\n\t\t}\n\t},\n\n\t/**\n\t* @private\n\t*/\n\thandlers: {\n\t\tonRequestTimeChange: 'timeChange',\n\t\tonRequestToggleFullscreen: 'toggleFullscreen',\n\t\tonSpotlightKeyUp: 'spotlightKeyUpHandler',\n\t\tonSpotlightKeyDown: 'spotlightKeyDownHandler',\n\t\tonSpotlightUp: 'spotlightUpHandler',\n\t\tonSpotlightDown: 'spotlightDownHandler',\n\t\tonSpotlightLeft: 'spotlightLeftRightFilter',\n\t\tonSpotlightRight: 'spotlightLeftRightFilter',\n\t\tonresize: 'handleResize',\n\t\tonholdpulse: 'onHoldPulseHandler',\n\t\tonrelease: 'onReleaseHandler'\n\t},\n\n\t/**\n\t* @private\n\t*/\n\teventsToCapture: {\n\t\tonSpotlightFocus: 'capturedFocus'\n\t},\n\n\t/**\n\t* @private\n\t*/\n\tbindings: [\n\t\t{from: 'src',\t\t\t\t\t\tto:'$.video.src'},\n\t\t{from: 'sources',\t\t\t\t\tto:'$.video.sourceComponents'},\n\t\t{from: 'playbackRateHash',\t\t\tto:'$.video.playbackRateHash'},\n\t\t{from: 'poster',\t\t\t\t\tto:'$.video.poster'},\n\t\t{from: 'constrainToBgProgress',\t\tto:'$.slider.constrainToBgProgress'},\n\t\t{from: 'elasticEffect',\t\t\t\tto:'$.slider.elasticEffect'},\n\t\t{from: 'knobIncrement',\t\t\t\tto:'$.slider.knobIncrement'},\n\t\t{from: 'showJumpControls',\t\t\tto:'$.jumpForward.showing'},\n\t\t{from: 'showJumpControls',\t\t\tto:'$.jumpBack.showing'},\n\t\t{from: 'showFFRewindControls',\t\tto:'$.fastForward.showing'},\n\t\t{from: 'showFFRewindControls',\t\tto:'$.rewind.showing'},\n\t\t{from: 'showPlayPauseControl',\t\tto:'$.fsPlayPause.showing'},\n\t\t{from: 'showVideo',\t\t\t\t\tto:'$.videoContainer.showing'}\n\t],\n\n\t/**\n\t* @private\n\t*/\n\tobservers: {\n\t\tupdateSource: ['src', 'sources']\n\t},\n\n\t/**\n\t* @private\n\t*/\n\t_isPlaying: false,\n\n\t/**\n\t* @private\n\t*/\n\t_canPlay: false,\n\n\t/**\n\t* @private\n\t*/\n\t_autoCloseTimer: null,\n\n\t/**\n\t* @private\n\t*/\n\t_currentTime: 0,\n\n\t/**\n\t* @private\n\t*/\n\t_panelsShowing: false,\n\n\t/**\n\t* @private\n\t*/\n\tcomponents: [\n\t\t{kind: Signals, onPanelsShown: 'panelsShown', onPanelsHidden: 'panelsHidden', onPanelsHandleFocused: 'panelsHandleFocused', onPanelsHandleBlurred: 'panelsHandleBlurred', onFullscreenChange: 'fullscreenChanged', onkeyup:'remoteKeyHandler', onlocalechange: 'updateMoreButton'},\n\t\t{name: 'videoContainer', kind: Control, classes: 'moon-video-player-container', components: [\n\t\t\t{name: 'video', kind: Video, classes: 'moon-video-player-video',\n\t\t\t\tontimeupdate: 'timeUpdate', onloadedmetadata: 'metadataLoaded', durationchange: 'durationUpdate', onloadeddata: 'dataloaded', onprogress: '_progress', onPlay: '_play', onpause: '_pause', onStart: '_start',  onended: '_stop',\n\t\t\t\tonFastforward: '_fastforward', onSlowforward: '_slowforward', onRewind: '_rewind', onSlowrewind: '_slowrewind',\n\t\t\t\tonJumpForward: '_jumpForward', onJumpBackward: '_jumpBackward', onratechange: 'playbackRateChange', ontap: 'videoTapped', oncanplay: '_setCanPlay', onwaiting: '_waiting', onerror: '_error'\n\t\t\t},\n\t\t\t{name: 'spinner', kind: Spinner, accessibilityLabel: $L('Loading'), classes: 'moon-video-player-spinner'}\n\t\t]},\n\n\t\t//* Fullscreen controls\n\t\t{name: 'fullscreenControl', kind: Control, classes: 'moon-video-player-fullscreen enyo-fit scrim', onmousemove: 'mousemove', components: [\n\n\t\t\t{name: 'videoInfoHeaderClient', kind: Control, showing: false, classes: 'moon-video-player-top'},\n\n\t\t\t{name: 'playerControl', kind: Control, classes: 'moon-video-player-bottom', showing: false, components: [\n\t\t\t\t{name: 'controls', kind: FittableColumns, classes: 'moon-video-player-controls-frame', ontap: 'resetAutoTimeout', components: [\n\n\t\t\t\t\t{name: 'leftPremiumPlaceHolder', kind: Control, classes: 'moon-video-player-premium-placeholder-left'},\n\t\t\t\t\t{classes: 'moon-video-player-controls-frame-center', fit: true, components: [\n\n\t\t\t\t\t\t{name: 'controlsContainer', kind: Panels, reverseForRtl: true, index: 0, popOnBack: false, cacheViews: false, classes: 'moon-video-player-controls-container', components: [\n\t\t\t\t\t\t\t{name: 'trickPlay', kind: Control, ontap:'playbackControlsTapped', components: [\n\t\t\t\t\t\t\t\t{name: 'playbackControls', kind: Control, rtl: false, classes: 'moon-video-player-control-buttons', components: [\n\t\t\t\t\t\t\t\t\t{name: 'jumpBack',\t\tkind: IconButton, small: false, backgroundOpacity: 'translucent', ontap: 'onjumpBackward', accessibilityLabel: $L('Previous')},\n\t\t\t\t\t\t\t\t\t{name: 'rewind',\t\tkind: IconButton, small: false, backgroundOpacity: 'translucent', ontap: 'rewind', accessibilityLabel: $L('Rewind')},\n\t\t\t\t\t\t\t\t\t{name: 'fsPlayPause',\tkind: IconButton, small: false, backgroundOpacity: 'translucent', ontap: 'playPause'},\n\t\t\t\t\t\t\t\t\t{name: 'fastForward',\tkind: IconButton, small: false, backgroundOpacity: 'translucent', ontap: 'fastForward', accessibilityLabel: $L('Fast Forward')},\n\t\t\t\t\t\t\t\t\t{name: 'jumpForward',\tkind: IconButton, small: false, backgroundOpacity: 'translucent', ontap: 'onjumpForward', accessibilityLabel: $L('Next')}\n\t\t\t\t\t\t\t\t]}\n\t\t\t\t\t\t\t]},\n\t\t\t\t\t\t\t{name: 'client', kind: Control, rtl: false,  classes: 'moon-video-player-more-controls'}\n\t\t\t\t\t\t]}\n\t\t\t\t\t]},\n\n\t\t\t\t\t{name: 'rightPremiumPlaceHolder', kind: Control, classes: 'moon-video-player-premium-placeholder-right', components: [\n\t\t\t\t\t\t{name: 'moreButton', kind: IconButton, small: false, backgroundOpacity: 'translucent', ontap: 'moreButtonTapped', accessibilityLabel: $L('More')}\n\t\t\t\t\t]}\n\t\t\t\t]},\n\n\t\t\t\t{name: 'sliderContainer', kind: Control, classes: 'moon-video-player-slider-frame', components: [\n\t\t\t\t\t{name: 'slider', kind: VideoTransportSlider, rtl: false, disabled: true, onSeekStart: 'sliderSeekStart', onSeek: 'sliderSeek', onSeekFinish: 'sliderSeekFinish',\n\t\t\t\t\t\tonEnterTapArea: 'onEnterSlider', onLeaveTapArea: 'onLeaveSlider', ontap:'playbackControlsTapped'\n\t\t\t\t\t}\n\t\t\t\t]}\n\t\t\t]}\n\t\t]},\n\t\t//* Inline controls\n\t\t{name: 'inlineControl', kind: Control, classes: 'moon-video-player-inline-control', components: [\n\t\t\t{name: 'currPosAnimator', kind: Animator, onStep: 'currPosAnimatorStep', onEnd: 'currPosAnimatorComplete'},\n\t\t\t{name: 'bgProgressStatus', kind: Control, classes: 'moon-video-player-inline-control-bgprogress'},\n\t\t\t{name: 'progressStatus', kind: Control, classes: 'moon-video-player-inline-control-progress'},\n\t\t\t{kind: Control, classes: 'moon-video-player-inline-control-text', components: [\n\t\t\t\t{name: 'currTime', kind: Control, content: '00:00 / 00:00'}\n\t\t\t]},\n\t\t\t{name: 'ilPlayPause', kind: IconButton, ontap: 'playPause', classes: 'moon-icon-playpause'},\n\t\t\t{name: 'ilFullscreen', kind: VideoFullscreenToggleButton, small: true}\n\t\t]}\n\t],\n\n\t/**\n\t* @private\n\t*/\n\tcreate: function () {\n\t\tControl.prototype.create.apply(this, arguments);\n\t\tthis.durfmt = new DurationFmt({length: 'medium', style: 'clock', useNative: false});\n\t\tthis.updateSource();\n\t\tthis.createInfoControls();\n\t\tthis.inlineChanged();\n\t\tthis.showInfoChanged();\n\t\tthis.autoShowInfoChanged();\n\t\tthis.autoShowControlsChanged();\n\t\tthis.autoplayChanged();\n\t\tthis.updateMoreButton();\n\t\tthis.showPlaybackControlsChanged();\n\t\tthis.showProgressBarChanged();\n\t\tthis.jumpSecChanged();\n\t\tthis.updatePlaybackControlState();\n\t\tthis.retrieveIconsSrcOrFont(this.$.jumpBack, this.jumpBackIcon);\n\t\tthis.retrieveIconsSrcOrFont(this.$.rewind, this.rewindIcon);\n\t\tthis.retrieveIconsSrcOrFont(this.$.fsPlayPause, this.pauseIcon);\n\t\tthis.retrieveIconsSrcOrFont(this.$.fastForward, this.fastForwardIcon);\n\t\tthis.retrieveIconsSrcOrFont(this.$.jumpForward, this.jumpForwardIcon);\n\t\tthis.retrieveIconsSrcOrFont(this.$.ilFullscreen, this.inlineFullscreenIcon);\n\t\tthis.$.ilFullscreen.removeClass('moon-icon-exitfullscreen-font-style');\n\t},\n\n\t/**\n\t* @private\n\t*/\n\tcheckIconType: function (icon) {\n\t\tvar imagesrcRegex=/\\.(jpg|jpeg|png|gif|svg)$/i;\n\t\tvar iconType=imagesrcRegex.test(icon)?'image':'iconfont';\n\t\treturn iconType;\n\t},\n\n\t/**\n\t* @private\n\t*/\n\tdisablePlaybackControlsChanged: function () {\n\t\tthis.updatePlaybackControlState();\n\t},\n\n\t/**\n\t* @private\n\t*/\n\tdisablePlaybackControlsOnUnloadChanged: function () {\n\t\tthis.updatePlaybackControlState();\n\t},\n\n\t/**\n\t* @private\n\t*/\n\tupdatePlaybackControlState: function () {\n\t\tvar disabled = this.disablePlaybackControls ||\n\t\t\tthis._panelsShowing ||\n\t\t\t(this.disablePlaybackControlsOnUnload && (this._errorCode || (!this.getSrc() && !this.getSources()) ));\n\t\tthis.updateSliderState();\n\t\tthis.$.playbackControls.addRemoveClass('disabled', disabled);\n\t\tthis.$.jumpBack.setDisabled(disabled);\n\t\tthis.$.rewind.setDisabled(disabled);\n\t\tthis.$.fsPlayPause.setDisabled(disabled);\n\t\tthis.$.fastForward.setDisabled(disabled);\n\t\tthis.$.jumpForward.setDisabled(disabled);\n\t\tthis.$.ilPlayPause.setDisabled(disabled);\n\t\tvar currentSpot = Spotlight.getCurrent();\n\t\tif (currentSpot && currentSpot.disabled) {\n\t\t\tif (this.isFullscreen() || !this.getInline()) {\n\t\t\t\tthis.spotFSBottomControls();\n\t\t\t} else {\n\t\t\t\tSpotlight.spot(this.$.ilFullscreen);\n\t\t\t}\n\t\t}\n\t},\n\n\t/**\n\t* @private\n\t*/\n\tplaybackControlsTapped: function () {\n\t\tif (this.disablePlaybackControls) {\n\t\t\tthis.bubble('onPlaybackControlsTapped');\n\t\t}\n\t},\n\n\t/**\n\t* @private\n\t*/\n\trendered: function () {\n\t\tControl.prototype.rendered.apply(this, arguments);\n\t\t//* Change aspect ratio based on initialAspectRatio\n\t\tthis.aspectRatioChanged();\n\t},\n\n\t/**\n\t* @private\n\t*/\n\tshowPlaybackControlsChanged: function (was) {\n\t\tthis.$.trickPlay.set('showing', this.showPlaybackControls);\n\t\tthis.$.moreButton.set('showing', this.showPlaybackControls && this.clientComponentsCount > 2);\n\t\tthis.toggleSpotlightForMoreControls(!this.showPlaybackControls);\n\t\tthis.$.client.addRemoveClass('moon-video-player-more-controls', this.showPlaybackControls);\n\t},\n\n\t/**\n\t* @private\n\t*/\n\tshowProgressBarChanged: function (was) {\n\t\tthis.$.sliderContainer.setShowing(this.showProgressBar);\n\t},\n\n\t/**\n\t* @private\n\t*/\n\tupdateSource: function (old, value, source) {\n\t\tthis._canPlay = false;\n\t\tthis.set('_isPlaying', this.autoplay);\n\t\tthis._errorCode = null;\n\t\tthis.updatePlayPauseButtons();\n\t\tthis.updateSpinner();\n\t\tthis.updatePlaybackControlState();\n\t\tthis._resetTime();\n\n\t\t// since src and sources are mutually exclusive, clear the other property\n\t\t// when one changes\n\t\tif (source === 'src') {\n\t\t\tthis.sources = null;\n\t\t} else if (source === 'sources') {\n\t\t\tthis.src = '';\n\t\t}\n\t},\n\n\t/**\n\t* Returns the underlying {@link module:enyo/Video~Video} control (wrapping the HTML5 video node).\n\t*\n\t* @returns {enyo/Video~Video} - An {@link module:enyo/Video~Video} control.\n\t* @public\n\t*/\n\tgetVideo: function () {\n\t\treturn this.$.video;\n\t},\n\n\t/**\n\t* @private\n\t*/\n\tcreateInfoControls: function () {\n\t\tvar owner = this.hasOwnProperty('infoComponents') ? this.getInstanceOwner() : this;\n\t\tthis.$.videoInfoHeaderClient.createComponents(this.infoComponents, {owner: owner});\n\t},\n\n\t/**\n\t* @private\n\t*/\n\tcreateClientComponents: function (comps) {\n\t\tcomps = (comps) ? util.clone(comps) : [];\n\t\tthis.clientComponentsCount = comps.length;\n\t\tif (!this._buttonsSetup) {\n\t\t\tthis._buttonsSetup = true;\n\t\t\tif (!comps || comps.length === 0) {\n\t\t\t\t// No components - destroy more button\n\t\t\t\tthis.$.leftPremiumPlaceHolder.hide();\n\t\t\t\tthis.$.rightPremiumPlaceHolder.hide();\n\t\t\t} else if (comps.length <= 2) {\n\t\t\t\t// One or two components - destroy more button and utilize left/right premium placeholders\n\t\t\t\tthis.$.leftPremiumPlaceHolder.createComponent(comps.shift(), {owner: this.getInstanceOwner()});\n\t\t\t\tif (comps.length === 1) {\n\t\t\t\t\tthis.$.rightPremiumPlaceHolder.createComponent(comps.shift(), {owner: this.getInstanceOwner()});\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\t// More than two components - use extra panel, with left premium plaeholder for first component\n\t\t\t\tthis.$.leftPremiumPlaceHolder.createComponent(comps.shift(), {owner: this.getInstanceOwner()});\n\t\t\t}\n\t\t\t// Create the rest of the components in the client (panels)\n\t\t\tthis.createComponents(comps, {owner: this.getInstanceOwner()});\n\t\t} else {\n\t\t\tControl.prototype.createClientComponents.apply(this, arguments);\n\t\t}\n\t},\n\n\t/**\n\t* @private\n\t*/\n\tplayIconChanged: function () {\n\t\tthis.updatePlayPauseButtons();\n\t},\n\n\t/**\n\t* @private\n\t*/\n\tpauseIconChanged: function () {\n\t\tthis.updatePlayPauseButtons();\n\t},\n\n\t/**\n\t* @private\n\t*/\n\tinlinePlayIconChanged: function () {\n\t\tthis.updatePlayPauseButtons();\n\t},\n\n\t/**\n\t* @private\n\t*/\n\tinlinePauseIconChanged: function () {\n\t\tthis.updatePlayPauseButtons();\n\t},\n\n\t/**\n\t* @private\n\t*/\n\tmoreControlsIconChanged: function () {\n\t\tthis.updateMoreButton();\n\t},\n\n\t/**\n\t* @private\n\t*/\n\tlessControlsIconChanged: function () {\n\t\tthis.updateMoreButton();\n\t},\n\n\t/**\n\t* @private\n\t*/\n\tautoplayChanged: function () {\n\t\tthis.$.video.setAutoplay(this.autoplay);\n\t\tthis.set('_isPlaying', this.autoplay);\n\t\tthis.updatePlayPauseButtons();\n\t\tthis.updateSpinner();\n\t},\n\n\t/**\n\t* @private\n\t*/\n\tjumpSecChanged: function () {\n\t\tthis.$.video.setJumpSec(this.jumpSec);\n\t},\n\n\t/**\n\t* @private\n\t*/\n\tdisableSliderChanged: function () {\n\t\tthis.updateSliderState();\n\t},\n\n\t/**\n\t* @private\n\t*/\n\tupdateSliderState: function () {\n\t\t//* this should be be called on create because default slider status should be disabled.\n\t\tvar disabled =\n\t\t\tthis.disableSlider ||\n\t\t\tthis.disablePlaybackControls ||\n\t\t\t!this._loaded ||\n\t\t\t(this.disablePlaybackControlsOnUnload && (this._errorCode || (!this.getSrc() && !this.getSources()) ));\n\t\tthis.$.slider.setDisabled(disabled);\n\t\t// We need an explicit call to showKnobStatus as moon.Slider's disabledChanged method\n\t\t// only handles hiding of the knob status. This behavior should not be changed in\n\t\t// disabledChanged, as the normal behavior of moon.Slider is to display the knob status\n\t\t// upon dragging, whereas moon.VideoPlayer is forcing the knob status to be shown when\n\t\t// the slider is visible.\n\t\tif (!disabled) {\n\t\t\tthis.$.slider.showKnobStatus();\n\t\t}\n\t},\n\n\t/**\n\t* @private\n\t*/\n\tautoShowOverlayChanged: function () {\n\t\tthis.autoShowInfoChanged();\n\t\tthis.autoShowControlsChanged();\n\t\tif (this.autoShowOverlay) {\n\t\t\tthis.resetAutoTimeout();\n\t\t}\n\t},\n\n\t/**\n\t* @private\n\t*/\n\tautoShowInfoChanged: function () {\n\t\tif (this.$.videoInfoHeaderClient.getShowing() && !this.autoShowInfo && !this.showInfo) {\n\t\t\tthis.$.videoInfoHeaderClient.hide();\n\t\t}\n\t\tif (this.autoShowInfo) {\n\t\t\tthis.resetAutoTimeout();\n\t\t}\n\t},\n\n\t/**\n\t* @private\n\t*/\n\tautoShowControlsChanged: function () {\n\t\tif (this.$.playerControl.getShowing() && !this.autoShowControls) {\n\t\t\tthis.$.playerControl.hide();\n\t\t}\n\t\tif (this.autoShowControls) {\n\t\t\tthis.resetAutoTimeout();\n\t\t}\n\t},\n\n\t/**\n\t* @private\n\t*/\n\tshowInfoChanged: function () {\n\t\tthis.$.videoInfoHeaderClient.setShowing(this.showInfo);\n\n\t\tif (this.showInfo) {\n\t\t\t// Kick off any marquees in the video info header\n\t\t\tthis.$.videoInfoHeaderClient.waterfallDown('onRequestStartMarquee');\n\t\t}\n\t},\n\n\t/**\n\t* @private\n\t*/\n\tinlineChanged: function () {\n\t\t// Force fullscreen\n\t\tthis.addRemoveClass('enyo-fullscreen enyo-fit', !this.inline);\n\t\t// Padding-bottom contains inline controls\n\t\tthis.addRemoveClass('moon-video-player-inline', this.inline);\n\t\t// show hide controls visibility\n\t\tthis.$.inlineControl.setShowing(this.inline);\n\t\tthis.$.fullscreenControl.setShowing(!this.inline);\n\t\tif (!this.inline) {\n\t\t\tthis.$.inlineControl.canGenerate = false;\n\t\t}\n\t\tthis.spotlight = !this.inline;\n\t},\n\n\t/**\n\t* Unloads the current video source, stopping all playback and buffering.\n\t*\n\t* @public\n\t*/\n\tunload: function () {\n\t\tthis.$.video.unload();\n\t\tthis._resetTime();\n\t\tthis._loaded = false;\n\t\tthis.set('_isPlaying', false);\n\t\tthis._canPlay = false;\n\t\tthis._errorCode = null;\n\t\tthis.src = '';\n\t\tthis.sources = null;\n\t\tthis.updatePlaybackControlState();\n\t\tthis.updateSpinner();\n\t},\n\tshowScrim: function (show) {\n\t\tthis.$.fullscreenControl.addRemoveClass('scrim', !show);\n\t},\n\n\t/**\n\t* @private\n\t*/\n\tupdateSpotability: function () {\n\t\tvar spotState = this._panelsShowing ? false : (this._controlsShowing ? 'container' : true);\n\t\tthis.updatePlaybackControlState();\n\t\tthis.set('spotlight', spotState);\n\t\tthis.$.leftPremiumPlaceHolder.spotlightDisabled = this._panelsShowing;\n\t\tthis.$.rightPremiumPlaceHolder.spotlightDisabled = this._panelsShowing;\n\t},\n\n\t/**\n\t* @private\n\t*/\n\tpanelsShown: function (sender, e) {\n\t\tif (this.isDescendantOf(e.panels)) return;\n\t\tthis._panelsShowing = true;\n\t\tthis._controlsShowing = false;\n\t\tthis._infoShowing = false;\n\t\tthis.updateSpotability();\n\t\tif (e.initialization) {\n\t\t\treturn;\n\t\t}\n\n\t\tif ((this.isFullscreen() || !this.getInline()) && this.isOverlayShowing()) {\n\t\t\tthis.hideFSControls();\n\t\t\tSpotlight.unspot();\n\t\t}\n\t},\n\n\t/**\n\t* @private\n\t*/\n\tpanelsHidden: function (sender, e) {\n\t\tvar current;\n\t\tif (this.isDescendantOf(e.panels)) return;\n\n\t\tthis._panelsShowing = false;\n\t\tthis.updateSpotability();\n\n\t\tcurrent = Spotlight.getCurrent();\n\t\tif (!current || !current.isDescendantOf(this)) {\n\t\t\tSpotlight.spot(this);\n\t\t}\n\t},\n\n\t/**\n\t* @private\n\t*/\n\tpanelsHandleFocused: function (sender, e) {\n\t\tthis._infoShowing = this.$.videoInfoHeaderClient.getShowing();\n\t\tthis._controlsShowing = this.$.playerControl.getShowing();\n\t\tthis.hideFSControls(true);\n\t},\n\n\t/**\n\t* @private\n\t*/\n\tpanelsHandleBlurred: function (sender, e) {\n\t\tif (this.isLarge() && !this.isOverlayShowing()) {\n\t\t\tif (this._infoShowing) {\n\t\t\t\tthis.showFSInfo();\n\t\t\t}\n\t\t\tif (this._controlsShowing) {\n\t\t\t\tutil.asyncMethod(this, 'showFSBottomControls');\n\t\t\t}\n\t\t}\n\t},\n\n\t/**\n\t* @private\n\t*/\n\tisLarge: function () {\n\t\treturn this.isFullscreen() || !this.get('inline');\n\t},\n\n\t///// Fullscreen controls /////\n\n\t/**\n\t* @private\n\t*/\n\t_holdPulseThreadhold: 400,\n\n\t/**\n\t* @private\n\t*/\n\t_holding: false,\n\n\t/**\n\t* @private\n\t*/\n\t_sentHold: false,\n\n\t/**\n\t* @private\n\t*/\n\tspotlightLeftRightFilter: function (sender, e) {\n\t\tif (this._sentHold) return;\n\n\t\treturn this.spotlightModal && e.originator === this;\n\t},\n\n\t/**\n\t* @private\n\t*/\n\tspotlightUpHandler: function (sender, e) {\n\t\tif (this._sentHold) return;\n\n\t\tif (this.hasClass('spotlight-5way-mode')) this.removeClass('spotlight-5way-mode');\n\t\tif (this._shouldHandleUpDown) {\n\t\t\tvar current = Spotlight.getCurrent();\n\n\t\t\tif (current.isDescendantOf(this.$.slider)) {\n\t\t\t\tif (this.$.controlsContainer.get('index')) return false;\n\t\t\t\telse Spotlight.spot(this.$.fsPlayPause);\n\t\t\t}\n\t\t\telse if (current == this || current.isDescendantOf(this.$.controls)) {\n\t\t\t\t// Toggle info header on 'up' press\n\t\t\t\tif (!this.$.videoInfoHeaderClient.getShowing()) {\n\t\t\t\t\tthis.showFSInfo();\n\t\t\t\t} else {\n\t\t\t\t\tif (this.allowBackKey) EnyoHistory.drop();\n\t\t\t\t\tthis.hideFSInfo();\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn true;\n\t\t}\n\t},\n\n\t/**\n\t* @private\n\t*/\n\tspotlightKeyUpHandler: function(sender, e) {\n\t\tthis.resetAutoTimeout();\n\t\tgesture.drag.endHold();\n\t},\n\n\t/**\n\t* @private\n\t*/\n\tspotlightDownHandler: function (sender, e) {\n\t\tif (this._sentHold) return;\n\n\t\tif (this._shouldHandleUpDown) {\n\t\t\tvar current = Spotlight.getCurrent();\n\n\t\t\tif (current == this) this.showFSBottomControls();\n\t\t\telse if (current.isDescendantOf(this.$.controls)) {\n\t\t\t\tthis.addClass('spotlight-5way-mode');\n\t\t\t\tSpotlight.spot(this.$.slider);\n\t\t\t}\n\t\t\telse if (current.isDescendantOf(this.$.slider)) {\n\t\t\t\tif (this.allowBackKey) EnyoHistory.drop();\n\t\t\t\tthis.hideFSBottomControls();\n\t\t\t}\n\t\t\treturn true;\n\t\t}\n\t},\n\n\t/**\n\t* @private\n\t*/\n\tspotlightKeyDownHandler: function (sender, e) {\n\t\tif (!Spotlight.Accelerator.isAccelerating()) {\n\t\t\tgesture.drag.beginHold(e);\n\t\t}\n\t\tthis._shouldHandleUpDown = this.isLarge() && (e.originator === this || Spotlight.getParent(e.originator) === this);\n\t},\n\n\t/**\n\t* Returns `true` if any piece of the overlay is showing.\n\t*\n\t* @private\n\t*/\n\tisOverlayShowing: function () {\n\t\treturn this.$.videoInfoHeaderClient.getShowing() || this.$.playerControl.getShowing();\n\t},\n\n\t/**\n\t* Resets the timeout, or wakes the overlay.\n\t*\n\t* @private\n\t*/\n\tmousemove: function (sender, e) {\n\t\tif (this.isOverlayShowing()) {\n\t\t\tthis.resetAutoTimeout();\n\t\t} else if (this.shakeAndWake) {\n\t\t\tthis.showFSControls();\n\t\t}\n\t},\n\n\t/**\n\t* Sets `this.visible` to `true` and clears hide job.\n\t*\n\t* @private\n\t*/\n\tshowFSControls: function (sender, e) {\n\t\tthis.showFSInfo();\n\t\tthis.showFSBottomControls();\n\t},\n\n\t/**\n\t* @private\n\t*/\n\thideFSControls: function (spottingHandled) {\n\t\tvar dropCount;\n\t\tif (this.isOverlayShowing()) {\n\t\t\tif (this.allowBackKey) {\n\t\t\t\tdropCount = 0;\n\t\t\t\tif (this.$.videoInfoHeaderClient.get('showing')) dropCount++;\n\t\t\t\tif (this.$.playerControl.get('showing')) dropCount++;\n\t\t\t\tEnyoHistory.drop(dropCount);\n\t\t\t}\n\n\t\t\tthis.hideFSInfo();\n\t\t\tthis.hideFSBottomControls();\n\t\t}\n\t\tif (!spottingHandled) {\n\t\t\tSpotlight.setPointerMode(false);\n\t\t\tSpotlight.spot(this);\n\t\t}\n\t\tthis.stopJob('autoHide');\n\t},\n\n\t/**\n\t* Sets `this.visible` to `true` and clears hide job.\n\t*\n\t* @private\n\t*/\n\tshowFSBottomControls: function (sender, e) {\n\t\tif (this.autoShowOverlay && this.autoShowControls) {\n\t\t\tthis.resetAutoTimeout();\n\t\t\tthis.showScrim(true);\n\t\t\tthis.$.playerControl.setShowing(true);\n\t\t\tthis.$.playerControl.resize();\n\t\t\tif (!this.showPlaybackControls) {\n\t\t\t\t//* Fixed index\n\t\t\t\tthis.$.controlsContainer.set('index', 1);\n\t\t\t}\n\n\t\t\t//* Initial spot\n\t\t\tthis.spotFSBottomControls();\n\n\t\t\tthis.$.slider.showKnobStatus();\n\t\t\tif (this.$.video.isPaused()) {\n\t\t\t\tthis.updateFullscreenPosition();\n\t\t\t}\n\t\t\t// When controls are visible, set as container to remember last focused control\n\t\t\tthis.set('spotlight', 'container');\n\t\t\tif (this.allowBackKey) {\n\t\t\t\tthis.pushBackHistory();\n\t\t\t}\n\t\t}\n\t},\n\n\t/**\n\t* @private\n\t*/\n\tspotFSBottomControls: function () {\n\t\tif (this.showPlaybackControls) {\n\t\t\tif (this.$.controlsContainer.get('index') === 0) {\n\t\t\t\tif (Spotlight.spot(this.$.fsPlayPause) === false) {\n\t\t\t\t\tif(Spotlight.spot(this.$.fastForward) === false){\n\t\t\t\t\t\tif(Spotlight.spot(this.$.jumpForward) === false) {\n\t\t\t\t\t\t\tSpotlight.spot(Spotlight.getFirstChild(this.$.controls));\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tSpotlight.spot(Spotlight.getFirstChild(this.$.controlsContainer.getActivePanel()));\n\t\t\t}\n\t\t} else {\n\t\t\tvar oTarget = Spotlight.getFirstChild(this.$.leftPremiumPlaceHolder);\n\t\t\tSpotlight.spot(oTarget);\n\t\t}\n\t},\n\n\t/**\n\t* Sets `this.visible` to `false`.\n\t*\n\t* @private\n\t*/\n\thideFSBottomControls: function () {\n\t\t// When controls are hidden, set as just a spotlight true component,\n\t\t// so that it is spottable (since it won't have any spottable children),\n\t\t// and then spot itself\n\t\tthis.set('spotlight', true);\n\t\t// when FSBottomControls is closed with timeout, we should recover to get mouse event\n\t\tif (this.hasClass('spotlight-5way-mode')) this.removeClass('spotlight-5way-mode');\n\t\t// Only spot the player if hiding is triggered from player control\n\t\tif (Spotlight.hasCurrent() && Spotlight.getParent(Spotlight.getCurrent()) === this) {\n\t\t\tSpotlight.spot(this);\n\t\t}\n\t\tif (this.autoHidePopups) {\n\t\t\t// Hide enyo/Popup-based popups (including moon/Popup)\n\t\t\tthis.$.playerControl.waterfall('onRequestHide');\n\t\t\t// Hide moon/ContextualPopups\n\t\t\tthis.$.playerControl.waterfall('onRequestHidePopup');\n\t\t}\n\t\tthis.showScrim(false);\n\t\tthis.$.playerControl.setShowing(false);\n\t},\n\n\t/**\n\t* Sets `this.visible` to `true` and clears hide job.\n\t*\n\t* @private\n\t*/\n\tshowFSInfo: function () {\n\t\tif (this.autoShowOverlay && this.autoShowInfo) {\n\t\t\tthis.resetAutoTimeout();\n\t\t\tthis.$.videoInfoHeaderClient.setShowing(true);\n\t\t\tthis.$.videoInfoHeaderClient.resize();\n\n\t\t\t// Kick off any marquees in the video info header\n\t\t\tthis.$.videoInfoHeaderClient.waterfallDown('onRequestStartMarquee');\n\t\t\tif (this.allowBackKey) {\n\t\t\t\tthis.pushBackHistory();\n\t\t\t}\n\t\t}\n\t},\n\n\t/**\n\t* Sets `this.visible` to `false`.\n\t*\n\t* @private\n\t*/\n\thideFSInfo: function () {\n\t\tif (!this.showInfo) {\n\t\t\tthis.$.videoInfoHeaderClient.setShowing(false);\n\t\t}\n\t},\n\n\t/**\n\t* @private\n\t*/\n\tresetAutoTimeout: function () {\n\t\tif (this.isFullscreen() || !this.getInline()) {\n\t\t\tthis.startJob('autoHide', this.bindSafely('hideFSControls'), this.getAutoCloseTimeout());\n\t\t}\n\t},\n\n\t/**\n\t* Toggles play/pause state based on `this.playing`.\n\t*\n\t* @private\n\t*/\n\tplayPause: function (sender, e) {\n\t\tif (this._isPlaying) {\n\t\t\tthis.pause(sender, e);\n\t\t} else {\n\t\t\tthis.play(sender, e);\n\t\t}\n\t\tthis.resetAutoTimeout();\n\t\treturn true;\n\t},\n\n\t/**\n\t* @private\n\t*/\n\tonHoldPulseHandler: function (sender, e) {\n\t\tthis.stopJob('autoHide');\n\t\tif (!this.jumpStartEnd) {\n\t\t\tif (e.holdTime > this._holdPulseThreadhold) {\n\t\t\t\tif (sender._sentHold !== true) {\n\t\t\t\t\tif (sender == this.$.jumpBack) {\n\t\t\t\t\t\tthis.jumpToStart(sender, e);\n\t\t\t\t\t\tsender._sentHold = true;\n\t\t\t\t\t}\n\t\t\t\t\telse if (sender == this.$.jumpForward) {\n\t\t\t\t\t\tthis.jumpToEnd(sender, e);\n\t\t\t\t\t\tsender._sentHold = true;\n\t\t\t\t\t}\n\t\t\t\t\telse this._sentHold = true;\n\t\t\t\t\treturn true;\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tif (sender == this.$.jumpBack || sender == this.$.jumpForward) {\n\t\t\t\t\tsender._holding = true;\n\t\t\t\t\tsender._sentHold = false;\n\t\t\t\t} else {\n\t\t\t\t\tthis._holding = true;\n\t\t\t\t\tthis._sentHold = false;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t},\n\n\t/**\n\t* @private\n\t*/\n\tonReleaseHandler: function (sender, e) {\n\t\tif (sender == this.$.jumpBack || sender == this.$.jumpForward) {\n\t\t\tif (sender._sentHold && sender._sentHold === true) sender._sentHold = false;\n\t\t} else {\n\t\t\tif (this._sentHold && this._sentHold === true) this._sentHold = false;\n\t\t}\n\t\tthis.resetAutoTimeout();\n\t},\n\n\t/**\n\t* @private\n\t*/\n\tonEnterSlider: function (sender, e) {\n\t\tif (this.hideButtonsOnSlider) {\n\t\t\tthis.$.controls.setShowing(false);\n\t\t}\n\t},\n\n\t/**\n\t* @private\n\t*/\n\tonLeaveSlider: function (sender, e) {\n\t\tif (this.hideButtonsOnSlider && !this.$.slider.isDragging()) {\n\t\t\tthis.$.controls.setShowing(true);\n\t\t}\n\t\tif (this.hasClass('spotlight-5way-mode')) this.removeClass('spotlight-5way-mode');\n\t},\n\n\t/**\n\t* @private\n\t*/\n\tonjumpBackward: function (sender, e) {\n\t\tif (this.jumpStartEnd) {\n\t\t\tthis.jumpToStart(sender, e);\n\t\t} else {\n\t\t\tif (!sender._holding || (sender._holding && sender._sentHold !== true)) {\n\t\t\t\tthis.jumpBackward(sender, e);\n\t\t\t}\n\t\t\tsender._holding = false;\n\t\t}\n\t},\n\n\t/**\n\t* @private\n\t*/\n\tonjumpForward: function (sender, e) {\n\t\tif (this.jumpStartEnd) {\n\t\t\tthis.jumpToEnd(sender, e);\n\t\t} else {\n\t\t\tif (!sender._holding || (sender._holding && sender._sentHold !== true)) {\n\t\t\t\tthis.jumpForward(sender, e);\n\t\t\t}\n\t\t\tsender._holding = false;\n\t\t}\n\t},\n\n\t/**\n\t* @private\n\t*/\n\tsendFeedback: function (msg, params, persist, leftSrc, rightSrc) {\n\t\tparams = params || {};\n\t\tthis.$.slider.feedback(msg, params, persist, leftSrc, rightSrc);\n\t},\n\n\t////// Slider event handling //////\n\n\t/**\n\t* When seeking starts, pauses video.\n\t*\n\t* @private\n\t*/\n\tsliderSeekStart: function (sender, e) {\n\t\tthis._isPausedBeforeDrag = this.$.video.isPaused();\n\t\tthis.pause();\n\t\treturn true;\n\t},\n\n\t/**\n\t* When seeking completes, plays video.\n\t*\n\t* @private\n\t*/\n\tsliderSeekFinish: function (sender, e) {\n\t\tif (e.value < this.duration - 1) {\n\t\t\tif (!this._isPausedBeforeDrag) {\n\t\t\t\tthis.play();\n\t\t\t} else {\n\t\t\t\tthis.pause();\n\t\t\t}\n\t\t\tthis._isPausedBeforeDrag = this.$.video.isPaused();\n\t\t}\n\t\tif (!this.$.slider.isInPreview()) {\n\t\t\tthis.$.controls.show();\n\t\t}\n\t\tthis.setCurrentTime(e.value);\n\t\treturn true;\n\t},\n\n\t/**\n\t* When seeking, sets video time.\n\t*\n\t* @private\n\t*/\n\tsliderSeek: function (sender, e) {\n\t\tthis.setCurrentTime(e.value);\n\t\treturn true;\n\t},\n\n\t/**\n\t* Programatically updates slider position to match `this.currentTime`/`this.duration`.\n\t*\n\t* @private\n\t*/\n\tupdateFullscreenPosition: function () {\n\t\tif (this.$.slider.isDragging()) {\n\t\t\treturn;\n\t\t}\n\t\tthis.$.slider.setValue(this._currentTime);\n\t},\n\n\t/**\n\t* @private\n\t*/\n\tcapture: function () {\n\t\tdispatcher.capture(this, this.eventsToCapture);\n\t},\n\n\t/**\n\t* @private\n\t*/\n\trelease: function () {\n\t\tdispatcher.release(this);\n\t},\n\n\t/**\n\t* @private\n\t*/\n\tcapturedFocus: function (sender, event) {\n\t\tSpotlight.spot(this);\n\t\treturn true;\n\t},\n\n\t///// Inline controls /////\n\n\t/**\n\t* @private\n\t*/\n\tupdateInlinePosition: function () {\n\t\tvar percentComplete = this.duration ? Math.round(this._currentTime * 1000 / this.duration) / 10 : 0;\n\t\tthis.$.progressStatus.applyStyle('width', percentComplete + '%');\n\t\tthis.$.currTime.setContent(this.formatTime(this._currentTime) + ' / ' + this.formatTime(this.duration));\n\t},\n\n\t/**\n\t* @private\n\t*/\n\tvideoTapped: function () {\n\t\tif (this.getInline() && !this.isFullscreen()) {\n\t\t\tthis.playPause();\n\t\t}\n\t},\n\n\t/**\n\t* Toggles fullscreen state.\n\t*\n\t* @public\n\t*/\n\ttoggleFullscreen: function () {\n\t\tif (this.isFullscreen()) {\n\t\t\tif (this.allowBackKey) EnyoHistory.drop();\n\t\t\tthis.cancelFullscreen();\n\t\t} else {\n\t\t\tif (this.allowBackKey) this.pushBackHistory();\n\t\t\tthis.requestFullscreen();\n\t\t}\n\t},\n\n\t/**\n\t* @private\n\t*/\n\tfullscreenChanged: function (sender, e) {\n\t\tSpotlight.unspot();\n\t\tif (this.isFullscreen()) {\n\t\t\tthis.$.ilFullscreen.undepress();\n\t\t\tthis.$.ilFullscreen.removeClass('moon-icon-exitfullscreen-font-style');\n\t\t\tthis.spotlight = true;\n\t\t\tthis.spotlightModal = true;\n\t\t\tthis.removeClass('inline');\n\t\t\tthis.$.inlineControl.setShowing(false);\n\t\t\tthis.$.fullscreenControl.setShowing(true);\n\t\t\tthis.showFSControls();\n\t\t\tthis.$.controlsContainer.resize();\n\t\t\tthis.capture();\n\t\t} else {\n\t\t\tthis.release();\n\t\t\tthis.stopJob('autoHide');\n\t\t\tthis.addClass('inline');\n\t\t\tthis.$.inlineControl.setShowing(true);\n\t\t\tthis.$.fullscreenControl.setShowing(false);\n\t\t\tSpotlight.spot(this.$.ilFullscreen);\n\t\t\tthis.spotlight = false;\n\t\t\tthis.spotlightModal = false;\n\t\t}\n\t\tthis.updatePosition();\n\t},\n\n\t/**\n\t* Plays the video.\n\t*\n\t* @public\n\t*/\n\tplay: function () {\n\t\tthis.currTimeSync = true;\n\t\tthis.set('_isPlaying', true);\n\t\tthis.$.video.play();\n\t\tthis.updatePlayPauseButtons();\n\t\tthis.updateSpinner();\n\t},\n\n\t/**\n\t* Pauses the video.\n\t*\n\t* @public\n\t*/\n\tpause: function () {\n\t\tthis.set('_isPlaying', false);\n\t\tthis.$.video.pause();\n\t\tthis.updatePlayPauseButtons();\n\t\tthis.updateSpinner();\n\t},\n\n\t/**\n\t* Changes the playback speed based on the previous playback setting, by cycling through\n\t* the appropriate speeds.\n\t*\n\t* @public\n\t*/\n\trewind: function () {\n\t\tthis.set('_isPlaying', false);\n\t\tthis.$.video.rewind();\n\t\tthis.updatePlayPauseButtons();\n\t\tthis.updateSpinner();\n\t},\n\n\t/**\n\t* Jumps to beginning of media [source]{@link module:moonstone/VideoPlayer~VideoPlayer#src} and sets\n\t* [playbackRate]{@link module:enyo/Video~Video#playbackRate} to `1`.\n\t*\n\t* @public\n\t*/\n\tjumpToStart: function () {\n\t\tthis.$.video.jumpToStart();\n\t\tthis.updatePlayPauseButtons();\n\t\tthis.updateSpinner();\n\t\tif(this._isPlaying){\n\t\t\tthis.$.video.play();\n\t\t}\n\t},\n\n\t/**\n\t* Jumps backward [jumpSec]{@link module:moonstone/VideoPlayer~VideoPlayer#jumpSec} seconds from the current time.\n\t*\n\t* @public\n\t*/\n\tjumpBackward: function () {\n\t\tthis.$.video.jumpBackward();\n\t\tthis.updatePlayPauseButtons();\n\t\tthis.updateSpinner();\n\t},\n\n\t/**\n\t* Changes the playback speed based on the previous playback setting, by cycling through\n\t* the appropriate speeds.\n\t*\n\t* @public\n\t*/\n\tfastForward: function () {\n\t\tthis.set('_isPlaying', false);\n\t\tthis.$.video.fastForward();\n\t\tthis.updatePlayPauseButtons();\n\t\tthis.updateSpinner();\n\t},\n\n\t/**\n\t* Jumps to end of media [source]{@link module:moonstone/VideoPlayer~VideoPlayer#src} and sets\n\t* [playbackRate]{@link module:enyo/Video~Video#playbackRate} to `1`.\n\t*\n\t* @public\n\t*/\n\tjumpToEnd: function () {\n\t\tthis.set('_isPlaying', false);\n\t\tif ( this.$.video.isPaused() ) {\n\t\t\t//* Make video able to go futher than the buffer\n\t\t\tthis.$.video.play();\n\t\t}\n\t\tthis.$.video.jumpToEnd();\n\t\tthis.updatePlayPauseButtons();\n\t\tthis.updateSpinner();\n\t},\n\n\t/**\n\t* Jumps forward [jumpSec]{@link module:moonstone/VideoPlayer~VideoPlayer#jumpSec} seconds from the current time.\n\t*\n\t* @public\n\t*/\n\tjumpForward: function () {\n\t\tthis.$.video.jumpForward();\n\t\tthis.updatePlayPauseButtons();\n\t\tthis.updateSpinner();\n\t},\n\n\t/**\n\t* Sets the current time in the video.\n\t*\n\t* @param {Number} val - The current time to set the video to, in seconds.\n\t* @public\n\t*/\n\tsetCurrentTime: function (val) {\n\t\tthis.$.video.setCurrentTime(val);\n\t},\n\n\t/**\n\t* Responds to `onRequestTimeChange` event by setting current video time.\n\t*\n\t* @private\n\t*/\n\ttimeChange: function (sender, e) {\n\t\tthis.setCurrentTime(e.value);\n\t},\n\n\t/**\n\t* Refreshes size of video player.\n\t*\n\t* @private\n\t*/\n\thandleResize: function () {\n\t\tthis.aspectRatioChanged();\n\t},\n\n\t/**\n\t* Updates the height/width based on the video's aspect ratio.\n\t*\n\t* @private\n\t*/\n\taspectRatioChanged: function () {\n\t\t// Case 5: Fixed size provided by user\n\t\tif (!this.inline || this.aspectRatio == 'none' || !this.aspectRatio) { return; }\n\n\t\tvar videoAspectRatio = null,\n\t\t\twidth = this.getComputedStyleValue('width'),\n\t\t\theight = this.getComputedStyleValue('height'),\n\t\t\tratio = 1;\n\n\t\tvideoAspectRatio = this.aspectRatio.split(':');\n\n\t\t// If fixedHeight is true, update width based on aspect ratio\n\t\tif (this.fixedHeight) {\n\t\t\t// Case 2: Automatic resize based on video aspect ratio (fixed height):\n\t\t\t// Case 4: Fixed aspect ratio provided by user (fixed-height):\n\t\t\tratio = videoAspectRatio[0] / videoAspectRatio[1];\n\t\t\tthis.applyStyle('width', dom.unit(parseInt(height, 10) * ratio, 'rem'));\n\t\t// If fixedHeight is false, update height based on aspect ratio\n\t\t} else if (!this.fixedHeight) {\n\t\t\t// Case 1: Automatic resize based on video aspect ratio (fixed width):\n\t\t\t// Case 3: Fixed aspect ratio provided by user (fixed-width):\n\t\t\tratio = videoAspectRatio[1] / videoAspectRatio[0];\n\t\t\tthis.applyStyle('height', dom.unit(parseInt(width, 10) * ratio, 'rem'));\n\t\t}\n\t},\n\n\t/**\n\t* @private\n\t*/\n\tupdatePosition: function () {\n\t\tif (this.isFullscreen() || !this.getInline()) {\n\t\t\tthis.updateFullscreenPosition();\n\t\t} else {\n\t\t\tthis.updateInlinePosition();\n\t\t}\n\t},\n\n\t/**\n\t* Properly formats time.\n\t*\n\t* @private\n\t*/\n\tformatTime: function (val) {\n\t\tvar hour = Math.floor(val / (60*60));\n\t\tvar min = Math.floor((val / 60) % 60);\n\t\tvar sec = Math.floor(val % 60);\n\t\tvar time = {minute: min, second: sec};\n\t\tif (hour) {\n\t\t\ttime.hour = hour;\n\t\t}\n\t\treturn this.durfmt.format(time);\n\t},\n\n\t/**\n\t* Time formatting helper.\n\t*\n\t* @private\n\t*/\n\tpadDigit: function (val) {\n\t\treturn (val) ? (String(val).length < 2) ? '0'+val : val : '00';\n\t},\n\n\t/**\n\t* Switches play/pause buttons as appropriate.\n\t*\n\t* @private\n\t*/\n\tupdatePlayPauseButtons: function () {\n\t\tif (this._isPlaying) {\n\t\t\tthis.retrieveIconsSrcOrFont(this.$.fsPlayPause, this.pauseIcon);\n\t\t} else {\n\t\t\tthis.retrieveIconsSrcOrFont(this.$.fsPlayPause, this.playIcon);\n\t\t}\n\t\tif (this._isPlaying) {\n\t\t\tthis.retrieveIconsSrcOrFont(this.$.ilPlayPause, this.inlinePauseIcon);\n\t\t} else {\n\t\t\tthis.retrieveIconsSrcOrFont(this.$.ilPlayPause, this.inlinePlayIcon);\n\t\t}\n\t},\n\n\t/**\n\t* Retrieves icons through either `setSrc()` or `setIcon()`, depending on the icon type.\n\t*\n\t* @private\n\t*/\n\tretrieveIconsSrcOrFont:function (src, icon) {\n\t\tvar iconType = this.checkIconType(icon);\n\n\t\tif (iconType == 'image') {\n\t\t\tsrc.set('icon', null);\n\t\t\tsrc.set('src', this.iconPath + icon);\n\t\t} else {\n\t\t\tsrc.set('src', null);\n\t\t\tsrc.set('icon', icon);\n\t\t}\n\t},\n\n\t/**\n\t* Turns spinner on or off, as appropriate.\n\t*\n\t* @private\n\t*/\n\tupdateSpinner: function () {\n\t\tvar spinner = this.$.spinner;\n\t\tif (this.autoShowSpinner && this._isPlaying && !this._canPlay && !this._errorCode) {\n\t\t\tspinner.start();\n\t\t\tthis.addClass(\"spinner-showing\");\n\t\t} else if (spinner.getShowing()) {\n\t\t\tthis.removeClass(\"spinner-showing\");\n\t\t\tspinner.stop();\n\t\t}\n\t},\n\n\t/**\n\t* @private\n\t*/\n\tautoShowSpinnerChanged: function () {\n\t\tthis.updateSpinner();\n\t},\n\n\t/**\n\t* When `moreButton` is tapped, toggles visibility of player controls and extra\n\t* functionality.\n\t*\n\t* @private\n\t*/\n\tmoreButtonTapped: function (sender, e) {\n\t\tif (this.$.controlsContainer.isTransitioning()) return true;\n\n\t\tvar index = this.$.controlsContainer.get('index');\n\t\tif (index === 0) {\n\t\t\tthis.retrieveIconsSrcOrFont(this.$.moreButton, this.lessControlsIcon);\n\t\t\tthis.toggleSpotlightForMoreControls(true);\n\t\t\tthis.$.controlsContainer.next();\n\t\t} else {\n\t\t\tthis.retrieveIconsSrcOrFont(this.$.moreButton, this.moreControlsIcon);\n\t\t\tthis.toggleSpotlightForMoreControls(false);\n\t\t\tthis.$.controlsContainer.previous();\n\t\t}\n\t},\n\n\t/**\n\t* @private\n\t*/\n\tupdateMoreButton: function () {\n\t\tvar index = this.$.controlsContainer.get('index');\n\t\tif (index === 0) {\n\t\t\tthis.retrieveIconsSrcOrFont(this.$.moreButton, this.moreControlsIcon);\n\t\t} else {\n\t\t\tthis.retrieveIconsSrcOrFont(this.$.moreButton, this.lessControlsIcon);\n\t\t}\n\t},\n\n\t/**\n\t* @private\n\t*/\n\ttoggleSpotlightForMoreControls: function (moreControlsSpottable) {\n\t\tthis.$.playbackControls.spotlightDisabled = moreControlsSpottable;\n\t\tthis.$.client.spotlightDisabled = !moreControlsSpottable;\n\t},\n\n\t///////// VIDEO EVENT HANDLERS /////////\n\n\t/**\n\t* Updates the video time.\n\t*\n\t* @private\n\t*/\n\ttimeUpdate: function (sender, e) {\n\t\t//* Update _this.duration_ and _this.currentTime_\n\t\tif (!e && e.target || e.currentTime === null) {\n\t\t\treturn;\n\t\t}\n\n\t\tthis.duration = e.duration;\n\t\tthis._currentTime = e.currentTime;\n\n\t\tthis.updatePosition();\n\n\t\tthis.$.slider.timeUpdate(this._currentTime);\n\t},\n\n\t/**\n\t* Called when video successfully loads video metadata.\n\t*\n\t* @private\n\t*/\n\tmetadataLoaded: function (sender, e) {\n\t\t//* Update aspect ratio based on actual video aspect ratio when autoResize is true.\n\t\tif (this.autoResize && this.$.video) {\n\t\t\tthis.setAspectRatio(this.$.video.getAspectRatio());\n\t\t}\n\t\tthis.durationUpdate(sender, e);\n\t},\n\n\t/**\n\t* @private\n\t*/\n\tdurationUpdate: function (sender, e) {\n\t\tthis.duration = this.$.video.getDuration();\n\t\tthis._currentTime = this.$.video.getCurrentTime();\n\n\t\tthis.$.slider.setMin(0);\n\t\tthis.$.slider.setMax(this.duration);\n\n\t\tthis.updatePosition();\n\n\t\tthis.$.slider.durationUpdate(this.duration);\n\t},\n\n\t/**\n\t* @private\n\t*/\n\t_loaded: false,\n\n\t/**\n\t* @private\n\t*/\n\tdataloaded: function (sender, e) {\n\t\tthis._loaded = true;\n\t\tthis.updateSliderState();\n\t\tthis.durationUpdate(sender, e);\n\t},\n\n\t/**\n\t* @private\n\t*/\n\t_getBufferedProgress: function (node) {\n\t\tvar bufferData = node.buffered,\n\t\t\tnumberOfBuffers = bufferData.length,\n\t\t\thighestBufferPoint = 0,\n\t\t\tduration = node.duration || 0,\n\t\t\tendPoint = 0,\n\t\t\ti\n\t\t;\n\n\t\tif (duration === 0 || isNaN(duration)) {\n\t\t\treturn {value: 0, percent: 0};\n\t\t}\n\n\t\t// Find furthest along buffer end point and use that (only supporting one buffer range for now)\n\t\tfor (i = 0; i < numberOfBuffers; i++) {\n\t\t\tendPoint = bufferData.end(i);\n\t\t\thighestBufferPoint = (endPoint > highestBufferPoint) ? endPoint : highestBufferPoint;\n\t\t}\n\t\treturn {value: highestBufferPoint, percent: highestBufferPoint/duration*100};\n\t},\n\n\t/**\n\t* We get this event while buffering is in progress.\n\t*\n\t* @private\n\t*/\n\t_progress: function (sender, e) {\n\t\tvar buffered = this._getBufferedProgress(e.target);\n\t\tif (this.isFullscreen() || !this.getInline()) {\n\t\t\tthis.$.slider.setBgProgress(buffered.value);\n\t\t} else {\n\t\t\tthis.$.bgProgressStatus.applyStyle('width', buffered.percent + '%');\n\t\t}\n\t},\n\n\t/**\n\t* @private\n\t*/\n\t_resetTime: function () {\n\t\tthis._currentTime = 0;\n\t\tthis.duration = 0;\n\t\tthis.updatePosition();\n\t\tthis.$.slider.setBgProgress(0);\n\t\tthis.$.bgProgressStatus.applyStyle('width', 0);\n\t},\n\n\t/**\n\t* @private\n\t*/\n\t_play: function (sender, e) {\n\t\tif(e.playbackRate != this.playbackRateHash.slowRewind[0] && e.playbackRate != this.playbackRateHash.slowForward[0]){\n\t\t\tthis.sendFeedback('Play');\n\t\t}\n\t},\n\n\t/**\n\t* @private\n\t*/\n\t_pause: function (sender, e) {\n\t\t// Don't send pause feedback if we are rewinding\n\t\tif (e.target.playbackRate < 0) {\n\t\t\treturn;\n\t\t}\n\t\tif (e.target.currentTime === 0) {\n\t\t\tthis.sendFeedback('Stop', {}, true);\n\t\t\treturn;\n\t\t}\n\t\tthis.sendFeedback('Pause', {}, true);\n\t},\n\n\t/**\n\t* @private\n\t*/\n\t_stop: function (sender, e) {\n\t\tthis.pause();\n\t\tthis.updatePlayPauseButtons();\n\t\tthis.updateSpinner();\n\t\tthis.sendFeedback('Stop');\n\t},\n\n\t/**\n\t* @private\n\t*/\n\t_fastforward: function (sender, e) {\n\t\tthis.sendFeedback('Fastforward', {playbackRate: e.playbackRate}, true);\n\t},\n\n\t/**\n\t* @private\n\t*/\n\t_slowforward: function (sender, e) {\n\t\tthis.sendFeedback('Slowforward', {playbackRate: e.playbackRate}, true);\n\t},\n\n\t/**\n\t* @private\n\t*/\n\t_rewind: function (sender, e) {\n\t\tthis.sendFeedback('Rewind', {playbackRate: e.playbackRate}, true);\n\t},\n\n\t/**\n\t* @private\n\t*/\n\t_slowrewind: function (sender, e) {\n\t\tthis.sendFeedback('Slowrewind', {playbackRate: e.playbackRate}, true);\n\t},\n\n\t/**\n\t* @private\n\t*/\n\t_jumpForward: function (sender, e) {\n\t\tthis.sendFeedback('JumpForward', {jumpSize: e.jumpSize}, false);\n\t},\n\n\t/**\n\t* @private\n\t*/\n\t_jumpBackward: function (sender, e) {\n\t\tthis.sendFeedback('JumpBackward', {jumpSize: e.jumpSize}, false);\n\t},\n\n\t/**\n\t* @private\n\t*/\n\t_waiting: function (sender, e) {\n\t\tthis._canPlay = false;\n\t\tthis.updateSpinner();\n\t},\n\n\t/**\n\t* @private\n\t*/\n\t_setCanPlay: function (sender, e) {\n\t\tthis._canPlay = true;\n\t\tthis.updateSpinner();\n\t},\n\n\t/**\n\t* @private\n\t*/\n\t_error: function (sender, e) {\n\t\t// Error codes in e.currentTarget.error.code\n\t\t// 1: MEDIA_ERR_ABORTED, 2: MEDIA_ERR_NETWORK, 3: MEDIA_ERR_DECODE,\n\t\t// 4: MEDIA_ERR_SRC_NOT_SUPPORTED\n\t\tthis._errorCode = e.currentTarget.error.code;\n\t\tthis._loaded = false;\n\t\tthis.set('_isPlaying', false);\n\t\tthis._canPlay = false;\n\t\tthis.$.currTime.setContent($L('Error'));\n\t\tthis._stop();\n\t\tthis.updateSpinner();\n\t\tthis.updatePlaybackControlState();\n\t},\n\n\t/**\n\t* @private\n\t*/\n\tremoteKeyHandler: function (sender, e) {\n\t\tif (this.handleRemoteControlKey && !this.disablePlaybackControls) {\n\t\t\tvar showControls = false;\n\t\t\tswitch (e.keySymbol) {\n\t\t\tcase 'play':\n\t\t\t\tthis.play(sender, e);\n\t\t\t\tshowControls = true;\n\t\t\t\tbreak;\n\t\t\tcase 'pause':\n\t\t\t\tthis.pause(sender, e);\n\t\t\t\tshowControls = true;\n\t\t\t\tbreak;\n\t\t\tcase 'rewind':\n\t\t\t\tif (this.showFFRewindControls) {\n\t\t\t\t\tthis.rewind(sender, e);\n\t\t\t\t\tshowControls = true;\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\tcase 'fastforward':\n\t\t\t\tif (this.showFFRewindControls) {\n\t\t\t\t\tthis.fastForward(sender, e);\n\t\t\t\t\tshowControls = true;\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\tcase 'stop':\n\t\t\t\tthis.set('_isPlaying', false);\n\t\t\t\tthis.jumpToStart();\n\t\t\t\tthis.$.slider.setValue(0);\n\t\t\t\tthis.sendFeedback('Stop');\n\t\t\t\tshowControls = true;\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\tif (showControls) {\n\t\t\t\tif(!this.$.playerControl.getShowing()) {\n\t\t\t\t\tthis.showFSBottomControls();\n\t\t\t\t} else {\n\t\t\t\t\tthis.resetAutoTimeout();\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\treturn true;\n\t},\n\n\t/**\n\t* @private\n\t*/\n\tbackKeyHandler: function () {\n\t\tvar visibleUp = this.$.videoInfoHeaderClient.getShowing(),\n\t\t\tvisibleDown = this.$.playerControl.getShowing();\n\n\t\t// if videoInfoHeaderClient and playerControl are visible\n\t\t// it means that we pushed video player into history stack twice.\n\t\t// to set correct target for next back key, we should pop one instance.\n\t\tif (visibleUp && visibleDown) {\n\t\t\tEnyoHistory.drop();\n\t\t}\n\n\t\tif (visibleUp) this.hideFSInfo();\n\t\tif (visibleDown) this.hideFSBottomControls();\n\n\t\t// if both the videoInfoHeaderClient and playerControl are hidden, then the remaining action\n\t\t// to \"reverse\" is fullscreen mode\n\t\tif (!visibleUp && !visibleDown && this.isFullscreen()) {\n\t\t\tthis.cancelFullscreen();\n\t\t}\n\n\t\treturn true;\n\t},\n\n\t// Accessibility\n\n\t/**\n\t* @private\n\t*/\n\tariaObservers: [\n\t\t{path: '_isPlaying', method: function () {\n\t\t\tvar label = this._isPlaying ? $L('Pause') : $L('Play');\n\t\t\tthis.$.fsPlayPause.set('accessibilityLabel', label);\n\t\t\tthis.$.ilPlayPause.set('accessibilityLabel', label);\n\t\t}},\n\t\t{path: '$.controlsContainer.index', method: function () {\n\t\t\tvar index = this.$.controlsContainer.index,\n\t\t\t\tlabel = index === 0 ? $L('More') : $L('Back');\n\t\t\tthis.$.moreButton.set('accessibilityLabel', label);\n\t\t}},\n\t\t{path: '$.videoInfoHeaderClient.showing', method: function () {\n\t\t\tvar client = this.$.videoInfoHeaderClient,\n\t\t\t\tshowing = client.get('showing');\n\n\t\t\tclient.set('accessibilityAlert', showing);\n\t\t\tclient.setAriaAttribute('aria-live', showing ? 'off' : null);\n\t\t\tif (!showing) {\n\t\t\t\tclient.set('accessibilityDisabled', false);\n\t\t\t}\n\t\t}},\n\t\t{path: '$.playerControl.showing', method: function () {\n\t\t\tvar client = this.$.videoInfoHeaderClient;\n\t\t\tif (client.get('showing')) {\n\t\t\t\tclient.set('accessibilityDisabled', true);\n\t\t\t}\n\t\t}}\n\t]\n});\n","require('moonstone');\n\n/**\n* Contains the declarations for the {@link module:moonstone/ListActions~ListActions}\n* and {@link module:moonstone/ListActions~ListActionsPopup} kinds, and the\n* {@link module:moonstone/ListActions~ListActionActivationSupport} mixin.\n* @module moonstone/ListActions\n*/\n\nvar\n\tdom = require('enyo/dom'),\n\tri = require('enyo/resolution');\n\nvar\n\tContextualPopup = require('moonstone/ContextualPopup'),\n\tContextualPopupDecorator = require('moonstone/ContextualPopupDecorator'),\n\tIconButton = require('moonstone/IconButton');\n\n/**\n* An internally-used support mixin added to a {@link module:moonstone/ListActions~ListActions}\n* menu, which decorates `activate` events with the menu's `action` property.\n*\n* @mixin ListActionActivationSupport\n* @private\n*/\nvar ListActionActivationSupport = {\n\n\t/**\n\t* @private\n\t*/\n\tname: 'ListActionActivationSupport',\n\n\t/**\n\t* @private\n\t*/\n\thandlers: {\n\t\tonActivate: 'activate'\n\t},\n\n\t/**\n\t* @private\n\t*/\n\tactivate: function (sender, e) {\n\t\te.action = this.action;\n\t}\n};\n\n/**\n* {@link module:moonstone/ListActions~ListActionsPopup} is a\n* [control]{@link module:moonstone/ContextualPopup~ContextualPopup} used by\n* {@link module:moonstone/ListActions~ListActions} to house a menu of selectable options.\n*\n* @class ListActionsPopup\n* @extends module:moonstone/ContextualPopup~ContextualPopup\n* @ui\n* @private\n*/\nvar ListActionsPopup = ContextualPopup.kind(\n\t/** @lends module:moonstone/ListActions~ListActionsPopup */ {\n\n\t/**\n\t* @private\n\t*/\n\tclasses: 'moon-list-actions-popup below',\n\n\t/**\n\t* @see moonstone/ContextualPopup~ContextualPopup#spotlightModal\n\t*/\n\tspotlightModal: true,\n\n\t/**\n\t* @see moonstone/ContextualPopup~ContextualPopup#showCloseButton\n\t*/\n\tshowCloseButton: true,\n\n\t/**\n\t* @private\n\t*/\n\tresetDirection: function () {\n\t\tthis.removeClass(this.arrowClasses);\n\t\tthis.removeClass('right');\n\t\tthis.removeClass('left');\n\t},\n\n\t/**\n\t* Adjust popup direction, anchor to the edge of screen if it goes over, and adjust arrow\n\t* positions.\n\t*\n\t* @private\n\t* @override\n\t*/\n\talterDirection: function () {\n\t\tif (this.showing) {\n\t\t\tvar clientRect = this.getBoundingRect(this.node),\n\t\t\t\tviewPortWidth = dom.getWindowWidth(),\n\t\t\t\toffsetWidth = (clientRect.width - this.activatorOffset.width) / 2,\n\t\t\t\tpopupMargin = ri.scale(24),\n\t\t\t\ticonButtonWidth = this.activatorOffset.width + popupMargin,\n\t\t\t\tbounds = {top: null, left: null},\n\t\t\t\tc;\n\n\t\t\tthis.resetDirection();\n\n\t\t\tif(this.activatorOffset.left < offsetWidth) {\n\t\t\t\t// flip towards right-side\n\t\t\t\tthis.addClass('right');\n\n\t\t\t\t// adjust arrow position\n\t\t\t\tc = Math.round((this.activatorOffset.left - popupMargin) / iconButtonWidth);\n\t\t\t\tthis.arrowClasses = 'list-actions-' + (c + 1) + 'h';\n\t\t\t\tthis.addClass(this.arrowClasses);\n\n\t\t\t\t// anchor to the far left\n\t\t\t\tbounds.left = popupMargin;\n\t\t\t} else if(viewPortWidth - this.activatorOffset.right < offsetWidth) {\n\t\t\t\t// flip towards left-side\n\t\t\t\tthis.addClass('left');\n\n\t\t\t\t// adjust arrow position\n\t\t\t\tc = Math.round((viewPortWidth - this.activatorOffset.right - popupMargin) / iconButtonWidth);\n\t\t\t\tthis.arrowClasses = 'list-actions-' + (c + 1) + 'h';\n\t\t\t\tthis.addClass(this.arrowClasses);\n\n\t\t\t\t// anchor to the far right\n\t\t\t\tbounds.left = viewPortWidth - clientRect.width - popupMargin;\n\t\t\t} else {\n\t\t\t\tbounds.left = this.activatorOffset.left - offsetWidth;\n\t\t\t}\n\n\t\t\tbounds.top = this.activatorOffset.bottom;\n\n\t\t\tthis.setBounds(bounds);\n\t\t}\n\t}\n});\n\n/**\n* {@link module:moonstone/ListActions~ListActions} is a [control]{@link module:enyo/Control~Control}\n* designed to live within a {@link module:moonstone/Header~Header}. It is used to perform actions on\n* an associated list of items. A ListActions [object]{@glossary Object} combines an activating\n* control with a drawer containing a user-defined menu of selectable options for acting on items in\n* the list. When a menu item is selected, an action--such as filtering, sorting, moving, or\n* deleting--may be invoked in the application by handling change events from the selected\n* items.\n*\n* @class ListActions\n* @extends module:moonstone/ContextualPopupDecorator~ContextualPopupDecorator\n* @ui\n* @public\n*/\nvar ListActions = ContextualPopupDecorator.kind({\n\n\t/**\n\t* @private\n\t*/\n\tclasses: 'moon-list-actions',\n\n\t/**\n\t* If `true`, the popup will automatically close when the user selects a menu item.\n\t*\n\t* Note: There is a known issue where {@link module:enyo/DataList~DataList} is used in\n\t* `listActions` block and want to set `autoCollapse` to `true`, it will close the popup as it\n\t* resizes. In case you need to use the data-bound list in `listActions` block, please use\n\t* {@link module:enyo/DataRepeater~DataRepeater} instead.\n\t*\n\t* @type {Boolean}\n\t* @default false\n\t* @public\n\t*/\n\tautoCollapse: false,\n\n\t/**\n\t* A block of one or more controls to be displayed inside the list actions menu. It should\n\t* typically contain a {@link module:moonstone/Divider~Divider} identifying the category and a\n\t* {@link module:moonstone/Scroller~Scroller}, containing instances of\n\t* {@link module:moonstone/CheckboxItem~CheckboxItem}, \n\t* {@link module:moonstone/ToggleItem~ToggleItem}, or\n\t* {@link module:moonstone/SelectableItem~SelectableItem} for setting options for the underlying\n\t* [panel]{@link module:moonstone/Panel~Panel}. Alternatively, a\n\t* {@link module:enyo/DataRepeater~DataRepeater} or a {@link module:moonstone/DataList~DataList}\n\t* may be used for populating a data-bound list of options.\n\t* {@link module:enyo/DataRepeater~DataRepeater} is preferrable as performance gain from\n\t* pagination starts when you have more than two pages worth of items, 11 or more in ListActions\n\t* case, in the list.\n\t*\n\t* More than one option group may be added to the `listActions` block, in which options\n\t* are laid out horizontally.\n\t*\n\t* Each group should have a string value set for the `action` property, as this will\n\t* be passed in all events that bubble from the `ListActions`, to allow the user to\n\t* identify which category changed.\n\t*\n\t* @type {Object[]}\n\t* @default null\n\t* @public\n\t*/\n\tlistActions: null,\n\n\t/**\n\t* Icon name to be used by the activator button (as in {@link module:moonstone/Icon~Icon} and\n\t* {@link module:moonstone/IconButton~IconButton}).\n\t*\n\t* @type {String}\n\t* @default ''\n\t* @public\n\t*/\n\ticon: '',\n\n\t/**\n\t* Source URL for icon image.\n\t*\n\t* @type {String|module:enyo/resolution#selectSrc~src}\n\t* @default ''\n\t* @public\n\t*/\n\ticonSrc: '',\n\n\t/**\n\t* The background-color opacity of the {@link module:moonstone/ListActions~ListActions}' activator\n\t* (which is a {@link module:moonstone/IconButton~IconButton}). Please see the valid values defined by\n\t* {@link module:moonstone/Button~Button#backgroundOpacity}.\n\t*\n\t* @type {String}\n\t* @default 'opaque'\n\t* @public\n\t*/\n\tbackgroundOpacity: 'opaque',\n\n\t/**\n\t* @private\n\t*/\n\tcomponents: [\n\t\t{name: 'activator', kind: IconButton},\n\t\t{name: 'listActionsPopup', kind: ListActionsPopup, accessibilityReadAll: false, components: [\n\t\t\t{name: 'listActionsWrapper', classes: 'moon-hspacing top moon-list-actions-scroller', controlClasses: 'moon-list-actions-popup-width', onActivate: 'optionSelected'}\n\t\t]}\n\t],\n\n\t/**\n\t* @private\n\t*/\n\tbindings: [\n\t\t{from: 'iconSrc', to: '$.activator.src'},\n\t\t{from: 'icon', to: '$.activator.icon'},\n\t\t{from: 'disabled', to: '$.activator.disabled', oneWay: false},\n\t\t{from: 'backgroundOpacity', to: '$.activator.backgroundOpacity'}\n\t],\n\n\t/**\n\t* @private\n\t*/\n\tcreate: function() {\n\t\tContextualPopupDecorator.prototype.create.apply(this, arguments);\n\t\tthis.disabledChanged();\n\t\tthis.listActionsChanged();\n\t},\n\n\t/**\n\t* @private\n\t*/\n\tdisabledChanged: function () {\n\t\tthis.addRemoveClass('disabled', this.disabled);\n\t},\n\n\t/**\n\t* @private\n\t*/\n\tlistActionsChanged: function() {\n\t\tvar i,\n\t\t\tlistAction;\n\n\t\tfor (i = 0; (listAction = this.listActions[i]); i++) {\n\t\t\tlistAction.mixins = this.addListActionMixin(listAction);\n\t\t\tthis.$.listActionsWrapper.createComponent(\n\t\t\t\tlistAction, {\n\t\t\t\t\towner: this.hasOwnProperty('listActions') ? this.getInstanceOwner() : this\n\t\t\t\t});\n\t\t}\n\n\t\tif (this.hasNode()) {\n\t\t\tthis.$.listActionsWrapper.render();\n\t\t}\n\t},\n\n\t/**\n\t* Adds a mixin to each list action menu that decorates `activate` events with the menu's\n\t* `action` property.\n\t*\n\t* @private\n\t*/\n\taddListActionMixin: function (listAction) {\n\t\tvar mixins = listAction.mixins || [];\n\t\tif (mixins.indexOf(ListActionActivationSupport) === -1) {\n\t\t\tmixins.push(ListActionActivationSupport);\n\t\t}\n\t\treturn mixins;\n\t},\n\n\t/**\n\t* @private\n\t*/\n\toptionSelected: function() {\n\t\tif (this.autoCollapse && this.$.listActionsPopup.getAbsoluteShowing()) {\n\t\t\tthis.startJob('hidePopupJob', function() {\n\t\t\t\tthis.$.listActionsPopup.hide();\n\t\t\t}, 300);\n\t\t}\n\t},\n\n\t/**\n\t* @override\n\t* @private\n\t*/\n\tpopupShown: function() {\n\t\tContextualPopupDecorator.prototype.popupShown.apply(this,arguments);\n\t\tthis.bubble('onRequestMuteTooltip');\n\t},\n\n\t/**\n\t* @override\n\t* @private\n\t*/\n\tpopupHidden: function() {\n\t\tContextualPopupDecorator.prototype.popupHidden.apply(this,arguments);\n\t\tthis.bubble('onRequestUnmuteTooltip');\n\t}\n});\n\nmodule.exports = ListActions;","require('moonstone');\n\n/**\n* Contains the declaration for the {@link module:moonstone/ApplicationCloseButton~ApplicationCloseButton} kind.\n* @module moonstone/ApplicationCloseButton\n*/\n\nvar\n\tkind = require('enyo/kind'),\n\tdom = require('enyo/dom'),\n\tri = require('enyo/resolution');\n\nvar\n\t$L = require('../i18n'),\n\tTooltipDecorator = require('moonstone/TooltipDecorator'),\n\tTooltip = require('moonstone/Tooltip'),\n\tIconButton = require('moonstone/IconButton');\n\nvar buttonDescription = $L('Exit app');\n\n/**\n* {@link module:moonstone/ApplicationCloseButton~ApplicationCloseButton}\n* may be added to {@link module:moonstone/Panels~Panels}, or other\n* full-screen controls. It includes basic positioning styles that may require\n* adjustment for your particular usage. When activated, an `onApplicationClose`\n* event is emitted. On its own, an ApplicationCloseButton has no function; you\n* must provide your own event handler to close the application. The recommended\n* action to take in response to the event is `window.close()`, but you may also\n* want to also perform operations such as saving user work or closing database\n* connections.\n*\n* @class ApplicationCloseButton\n* @extends module:moonstone/TooltipDecorator~TooltipDecorator\n* @ui\n* @public\n*/\nmodule.exports = kind(\n\t/** @lends module:moonstone/ApplicationCloseButton~ApplicationCloseButton.prototype */ {\n\t/**\n\t* @private\n\t*/\n\tname: 'moon.ApplicationCloseButton',\n\n\t/**\n\t* @private\n\t*/\n\tkind: TooltipDecorator,\n\n\t/**\n\t* @private\n\t*/\n\tclasses: 'moon-application-close-button',\n\n\t/**\n\t* Boolean indicating whether the tooltip is shown soon after the button is focused.\n\t*\n\t* @type {Boolean}\n\t* @default false\n\t* @public\n\t*/\n\tautoShow: false,\n\n\t/**\n\t* @private\n\t*/\n\tevents: {\n\t\tonApplicationClose: ''\n\t},\n\n\t/**\n\t* @private\n\t*/\n\tcomponents: [\n\t\t{name: 'button', kind: IconButton, icon: 'closex', small: true, backgroundOpacity: 'transparent', ontap: 'handleButtonTap'},\n\t\t{kind: Tooltip, content: buttonDescription, floating: true, position: 'below'}\n\t],\n\n\thandlers: {\n\t\tonCustomizeCloseButton: 'handleCustomizeCloseButton'\n\t},\n\n\t/**\n\t* @private\n\t*/\n\tcustomizeCloseButton: function (properties) {\n\t\tvar prop, style;\n\n\t\tif (properties && typeof properties == 'object') {\n\t\t\tfor (prop in properties) {\n\t\t\t\tif (prop == 'styles' && typeof properties[prop] == 'object') {\n\t\t\t\t\tfor (style in properties[prop]) {\n\t\t\t\t\t\tthis.$.button.applyStyle(style, properties[prop][style]);\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tthis.$.button.set(prop, properties[prop]);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t},\n\n\t/**\n\t* This takes action when the CustomizeCloseButton event is received. It accepts several event\n\t* properties, and in their absence resets each to its original value.\n\t*\n\t* Possible `ev` object members:\n\t*   x - (Number|String), positive or negative measurement to offset the X from its natural position.\n\t*       This value is automatically inverted in RtL mode.\n\t*   y - (Number|String), positive or negative measurement to offset the X from its natural position.\n\t*   properties {Object} An object containing key/value pairs to be `set` on the close button.\n\t*   For example, this can be used to set the `showing` property of the close button. If present\n\t*   and an object, the `styles` member will be iterated through and each style will be applied\n\t*   individually and those styles with a `null` value will be removed.\n\t*\n\t* Ex:\n\t*    this.doCustomizeCloseButton({parameters: {showing: false});\n\t*\n\t* @private\n\t*/\n\thandleCustomizeCloseButton: function (sender, ev) {\n\t\tvar shiftX = ev.x,\n\t\t\tshiftY = typeof ev.y == 'number' ? dom.unit(ri.scale(ev.y), 'rem') : ev.y;\n\n\t\tswitch (typeof shiftX) {\n\t\t\tcase 'number':\n\t\t\t\tshiftX = dom.unit(ri.scale( this.rtl ? shiftX * -1 : shiftX ), 'rem');\n\t\t\t\tbreak;\n\t\t\tcase 'string':\n\t\t\t\tif (this.rtl) {\n\t\t\t\t\tif (shiftX.indexOf('-') === 0) {\n\t\t\t\t\t\tshiftX = shiftX.substring(1);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tshiftX = '-' + shiftX;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t}\n\t\t// Only apply changes that are present. (Undef means don't change me.) dom.transform preserves successive assignments.\n\t\tif (typeof shiftX != 'undefined') dom.transform(this, {translateX: shiftX});\n\t\tif (typeof shiftY != 'undefined') dom.transform(this, {translateY: shiftY});\n\n\t\tthis.customizeCloseButton(ev.properties);\n\t\treturn true;\n\t},\n\n\t/**\n\t* @private\n\t*/\n\tcreate: function () {\n\t\tTooltipDecorator.prototype.create.apply(this, arguments);\n\t\tthis.autoShowChanged();\n\t},\n\n\t/**\n\t* @private\n\t*/\n\tautoShowChanged: function () {\n\t\tTooltipDecorator.prototype.autoShowChanged.apply(this, arguments);\n\t\t// Only add an accessibilityLabel to the button if we aren't displaying a tooltip, so the\n\t\t// accessibility system doesn't read the label twice, once for the button, and again for the tooltip.\n\t\tthis.$.button.set('accessibilityLabel', this.autoShow ? null : buttonDescription);\n\t},\n\n\t/**\n\t* @private\n\t*/\n\thandleButtonTap: function (sender, ev) {\n\t\tthis.doApplicationClose();\n\t}\n});\n","require('moonstone');\n\n/**\n* Contains the declaration for the {@link module:moonstone/GridListImageItem~GridListImageItem} kind.\n* @module moonstone/GridListImageItem\n*/\n\nvar\n\tkind = require('enyo/kind'),\n\tEnyoImage = require('enyo/Image');\n\nvar\n\tGridListImageItem = require('layout/GridListImageItem');\n\nvar\n\tImg = require('../Image'),\n\tMarquee = require('../Marquee'),\n\tMarqueeSupport = Marquee.Support,\n\tMarqueeText = Marquee.Text,\n\tOverlay = require('../Overlay');\n\n/**\n* {@link module:moonstone/GridListImageItem~GridListImageItem} extends {@link module:layout/GridListImageItem~GridListImageItem}, adding\n* Moonstone-specific configuration, styling, decorators, and focus-state management.\n*\n* You may create an image grid by adding instances of this kind as components of a\n* {@link module:moonstone/DataGridList~DataGridList}.\n*\n* @class GridListImageItem\n* @extends module:layout/GridListImageItem~GridListImageItem\n* @mixes module:moonstone/MarqueeSupport~MarqueeSupport\n* @ui\n* @public\n*/\nmodule.exports = kind(\n\t/** @lends module:moonstone/GridListImageItem~GridListImageItem.prototype */ {\n\n\t/**\n\t* @private\n\t*/\n\tname: 'moon.GridListImageItem',\n\n\t/**\n\t* @private\n\t*/\n\tkind: GridListImageItem,\n\n\t/**\n\t* @private\n\t*/\n\tmixins: [MarqueeSupport, Overlay.Container],\n\n\t/**\n\t* @private\n\t*/\n\toverlayTarget: 'image',\n\n\t/**\n\t* Placeholder image used while [source]{@link module:moonstone/GridListImageItem~GridListImageItem#source} is loaded\n\t*\n\t* @see module:enyo/Image~Image#placeholder\n\t* @type {String}\n\t* @default module:enyo/Image~Image#placeholder\n\t* @public\n\t*/\n\tplaceholder: EnyoImage.placeholder,\n\n\t/**\n\t* @private\n\t*/\n\tspotlight: true,\n\n\t/**\n\t* @private\n\t*/\n\tcentered: true,\n\n\t/**\n\t* @private\n\t*/\n\tclasses: 'moon-gridlist-imageitem',\n\n\t/**\n\t* @private\n\t*/\n\tcomponentOverrides: {\n\t\tcaption: {kind: MarqueeText},\n\t\tsubCaption: {kind: MarqueeText},\n\t\timage: {kind: Img}\n\t},\n\n\t/**\n\t* @private\n\t*/\n\tbindings: [\n\t\t{from: '.allowHtml', to: '.$.caption.allowHtml'},\n\t\t{from: '.allowHtml', to: '.$.subCaption.allowHtml'}\n\t],\n\n\t/**\n\t* @private\n\t*/\n\thandlers: {\n\t\tonSpotlightFocused: 'focused'\n\t},\n\n\t/**\n\t* @fires module:moonstone/Scroller~Scroller#onRequestScrollIntoView\n\t* @private\n\t*/\n\tfocused: function (inSender, inEvent) {\n\t\tif (inEvent.originator === this) {\n\t\t\tthis.bubble('onRequestScrollIntoView');\n\t\t}\n\t},\n\n\t// Accessibility\n\n\t/**\n\t* @private\n\t*/\n\tariaObservers: [\n\t\t{path: ['caption', 'subCaption', 'accessibilityHint', 'accessibilityLabel'], method: function () {\n\t\t\tvar content = this.caption + ' ' + this.subCaption,\n\t\t\t\tprefix = this.accessibilityLabel || content || null,\n\t\t\t\tlabel = this.accessibilityHint && prefix && (prefix + ' ' + this.accessibilityHint) ||\n\t\t\t\t\t\tthis.accessibilityHint ||\n\t\t\t\t\t\tthis.accessibilityLabel ||\n\t\t\t\t\t\tnull;\n\n\t\t\t\tthis.setAriaAttribute('aria-label', label);\n\t\t}}\n\t]\n});\n","require('moonstone');\n\n/**\n* Contains the declaration for the {@link module:moonstone/ToggleItem~ToggleItem} kind.\n* @module moonstone/ToggleItem\n*/\n\nvar\n\tkind = require('enyo/kind');\n\nvar\n\tCheckboxItem = require('../CheckboxItem'),\n\tToggleSwitch = require('../ToggleSwitch');\n\n/**\n* {@link module:moonstone/ToggleItem~ToggleItem} is a control that combines a {@link module:moonstone/ToggleSwitch~ToggleSwitch}\n* with a text label.\n*\n* @class ToggleItem\n* @extends module:moonstone/CheckboxItem~CheckboxItem\n* @ui\n* @public\n*/\nmodule.exports = kind(\n\t/** @lends module:moonstone/ToggleItem~ToggleItem.prototype */ {\n\n\t/**\n\t* @private\n\t*/\n\tname: 'moon.ToggleItem',\n\n\t/**\n\t* @private\n\t*/\n\tkind: CheckboxItem,\n\n\t/**\n\t* @private\n\t*/\n\ticon: 'circle',\n\n\t/**\n\t* @private\n\t*/\n\tclasses: 'moon-toggle-item',\n\n\t/**\n\t* @private\n\t*/\n\tcheckboxOnRight: true,\n\n\t/**\n\t* @private\n\t*/\n\tcomponentOverrides: {\n\t\tclient: {classes: 'moon-toggle-item-label-wrapper'},\n\t\tinput: {kind: ToggleSwitch, spotlight: false}\n\t}\n});\n","require('moonstone');\n\n/**\n* Contains the declaration for the {@link module:moonstone/ImageItem~ImageItem} kind.\n* @module moonstone/ImageItem\n*/\n\nvar\n\tkind = require('enyo/kind'),\n\tControl = require('enyo/Control'),\n\tImg = require('enyo/Image');\n\nvar\n\tItem = require('../Item'),\n\tLabeledTextItem = require('../LabeledTextItem');\n\n/**\n* {@link module:moonstone/ImageItem~ImageItem}, which derives from {@link module:moonstone/Item~Item}, is a control that combines an\n* {@link module:enyo/Image~Image} with a {@link module:moonstone/LabeledTextItem~LabeledTextItem}. By default, the image is displayed to\n* the left of the text; to display the image on the right, set\n* [imageAlignRight]{@link module:moonstone/ImageItem~ImageItem#imageAlignRight} to `true`.\n*\n* @class ImageItem\n* @extends module:moonstone/Item~Item\n* @ui\n* @public\n*/\nmodule.exports = kind(\n\t/** @lends module:moonstone/ImageItem~ImageItem.prototype */ {\n\n\t/**\n\t* @private\n\t*/\n\tname: 'moon.ImageItem',\n\n\t/**\n\t* @private\n\t*/\n\tclasses: 'moon-imageitem',\n\n\t/**\n\t* @private\n\t*/\n\tkind: Item,\n\n\t/**\n\t* @private\n\t*/\n\tcomponents:[\n\t\t{name: 'image', kind: Img},\n\t\t{name: 'textItem', kind: LabeledTextItem, spotlight: false}\n\t],\n\n\t/**\n\t* @private\n\t* @lends module:moonstone/ImageItem~ImageItem.prototype\n\t*/\n\tpublished: {\n\n\t\t/**\n\t\t* The absolute URL path to the image.\n\t\t*\n\t\t* @type {String|module:enyo/resolution#selectSrc~src}\n\t\t* @default ''\n\t\t* @public\n\t\t*/\n\t\tsource: '',\n\n\t\t/**\n\t\t* The label to be displayed along with the text.\n\t\t*\n\t\t* @type {String}\n\t\t* @default ''\n\t\t* @public\n\t\t*/\n\t\tlabel: '',\n\n\t\t/**\n\t\t* The text to be displayed in the item.\n\t\t*\n\t\t* @type {String}\n\t\t* @default ''\n\t\t* @public\n\t\t*/\n\t\ttext: '',\n\n\t\t/**\n\t\t* Set to `true` to align image to right of text.\n\t\t*\n\t\t* @type {Boolean}\n\t\t* @default false\n\t\t* @public\n\t\t*/\n\t\timageAlignRight: false\n\t},\n\n\t/**\n\t* @private\n\t*/\n\tbindings: [\n\t\t{from: 'allowHtml', to: '$.textItem.allowHtml'},\n\t\t{from: 'source', to: '$.image.src'}\n\t],\n\n\t/**\n\t* @private\n\t*/\n\tcreate: function () {\n\t\tControl.prototype.create.apply(this, arguments);\n\t\tthis.labelChanged();\n\t\tthis.textChanged();\n\t\tthis.imageAlignRightChanged();\n\t},\n\n\t/**\n\t* @private\n\t*/\n\tlabelChanged: function () {\n\t\tthis.$.textItem.setLabel(this.label);\n\t},\n\n\t/**\n\t* @private\n\t*/\n\ttextChanged: function () {\n\t\tthis.$.textItem.setText(this.text);\n\t},\n\n\t/**\n\t* @private\n\t*/\n\timageAlignRightChanged: function () {\n\t\tthis.addRemoveClass('align-right', this.imageAlignRight);\n\t},\n\n\t// Accessibility\n\n\t/**\n\t* @private\n\t*/\n\tariaObservers: [\n\t\t{path: ['label', 'text', 'accessibilityHint', 'accessibilityLabel'], method: function () {\n\t\t\tvar content = this.label + ' ' + this.text ,\n\t\t\t\tprefix = this.accessibilityLabel || content || null,\n\t\t\t\tlabel = this.accessibilityHint && prefix && (prefix + ' ' + this.accessibilityHint) ||\n\t\t\t\t\t\tthis.accessibilityHint ||\n\t\t\t\t\t\tthis.accessibilityLabel ||\n\t\t\t\t\t\tnull;\n\n\t\t\t\tthis.setAriaAttribute('aria-label', label);\n\t\t}}\n\t]\n});\n","/**\n* Contains the declaration for the {@link module:moonstone/ExpandableListItem/ExpandableListItemHeader~ExpandableListItemHeader} kind.\n* @module moonstone/ExpandableListItem/ExpandableListItemHeader\n*/\n\nvar\n\tkind = require('enyo/kind'),\n\tComponent = require('enyo/Component');\n\nvar\n\tMarquee = require('../Marquee'),\n\tLabeledTextItem = require('../LabeledTextItem');\n\n/**\n* @class ExpandableListItemHeader\n* @extends module:moonstone/LabeledTextItem~LabeledTextItem\n* @ui\n* @private\n*/\nmodule.exports = kind(\n\t/** @lends module:moonstone/ExpandableListItem/ExpandableListItemHeader~ExpandableListItemHeader.prototype */ {\n\n\t/**\n\t* @private\n\t*/\n\tname: 'moon.ExpandableListItemHeader',\n\n\t/**\n\t* @private\n\t*/\n\tkind: LabeledTextItem,\n\n\t/**\n\t* When `true`, the value of {@link module:moonstone/LabeledTextItem~LabeledTextItem#text}\n\t* will be displayed\n\t*\n\t* @type {Boolean}\n\t* @default true\n\t* @public\n\t*/\n\ttextShowing: true,\n\n\t/**\n\t* @private\n\t*/\n\tbindings: [\n\t\t{from: 'textShowing', to: '$.text.showing'},\n\t\t{from: 'allowHtml', to: '$.text.allowHtml'}\n\t],\n\n\t/**\n\t* @private\n\t*/\n\tinitComponents: function () {\n\t\tthis.kindComponents = Component.overrideComponents(this.kindComponents, {text: {kind: Marquee.Text}});\n\t\tLabeledTextItem.prototype.initComponents.apply(this, arguments);\n\t},\n\n\t// Accessibility\n\n\t/**\n\t* @private\n\t*/\t\n\tariaObservers: [\n\t\t{from: 'textShowing', method: function () {\n\t\t\tthis.$.text.set('accessibilityDisabled', !this.textShowing);\n\t\t}}\n\t]\n});\n","/**\n* Contains the declaration for {@link module:moonstone/Panels~Panels} and supporting kinds.\n* @module moonstone/Panels\n*/\n\nrequire('moonstone');\n\nvar\n\tkind = require('enyo/kind'),\n\tdispatcher = require('enyo/dispatcher'),\n\tdom = require('enyo/dom'),\n\tutil = require('enyo/utils'),\n\tControl = require('enyo/Control'),\n\tEnyoHistory = require('enyo/History'),\n\tSignals = require('enyo/Signals'),\n\tri = require('enyo/resolution'),\n\tViewPreloadSupport = require('enyo/ViewPreloadSupport');\n\nvar\n\tPanels = require('layout/Panels');\n\nvar\n\tSpotlight = require('spotlight');\n\nvar\n\t$L = require('../i18n');\n\nvar\n\tApplicationCloseButton = require('../ApplicationCloseButton'),\n\tHistorySupport = require('../HistorySupport'),\n\tMoonAnimator = require('../MoonAnimator'),\n\tMoonArranger = require('../MoonArranger'),\n\tMoonOptions = require('../options'),\n\tPanel = require('../Panel'),\n\tStyleAnimator = require('../StyleAnimator');\n\n/**\n* {@link module:moonstone/Panels~PanelsHandle} is a helper kind for\n* {@link module:moonstone/Panels~Panels}. It implements a spottable handle\n* that the user may interact with to hide and show the `moonstone/Panels`\n* control.\n*\n* @class PanelsHandle\n* @extends module:enyo/Control~Control\n* @ui\n* @public\n*/\nvar PanelsHandle = kind(\n\t/** @lends module:moonstone/Panels~PanelsHandle.prototype */ {\n\n\t/**\n\t* @private\n\t*/\n\tname: 'moon.PanelsHandle',\n\n\t/**\n\t* @private\n\t*/\n\tkind: Control,\n\n\t/**\n\t* @private\n\t*/\n\tmixins: [HistorySupport],\n\n\t/*\n\t* @private\n\t*/\n\tclasses: 'moon-panels-handle',\n\n\t/**\n\t* @private\n\t*/\n\thandlers: {\n\t\tontap: 'handleTap'\n\t},\n\n\t/**\n\t* @private\n\t*/\n\thandleTap: function () {\n\t\tif (!EnyoHistory.isProcessing()) {\n\t\t\tthis.pushBackHistory();\n\t\t}\n\t},\n\n\t/**\n\t* @private\n\t*/\n\tbackKeyHandler: function () {\n\t\tthis.bubble('ontap');\n\t\treturn true;\n\t},\n\n\t/**\n\t* We override getAbsoluteShowing so that the handle's spottability is not dependent on the\n\t* showing state of its parent, the {@link module:moonstone/Panels~Panels} control.\n\t*\n\t* @private\n\t*/\n\tgetAbsoluteShowing: function (ignoreBounds) {\n\t\tvar bounds = !ignoreBounds ? this.getBounds() : null;\n\n\t\tif (!this.generated || this.destroyed || !this.showing || (bounds &&\n\t\t\tbounds.height === 0 && bounds.width === 0)) {\n\t\t\treturn false;\n\t\t}\n\n\t\treturn true;\n\t}\n});\n\n/**\n* {@link module:moonstone/Panels~Breadcrumb} is a helper kind for\n* {@link module:moonstone/Panels~Panels}. It implements a breadcrumb that\n* displays the panel index.\n*\n* @class Breadcrumb\n* @extends module:enyo/Control~Control\n* @ui\n* @public\n*/\nvar Breadcrumb = kind(\n\t/** @lends module:moonstone/Panels~Breadcrumb.prototype */ {\n\n\t/**\n\t* @private\n\t*/\n\tname: 'moon.Breadcrumb',\n\n\t/**\n\t* @private\n\t*/\n\tkind: Control,\n\n\t/**\n\t* @private\n\t* @lends module:moonstone/Panels~Breadcrumb.prototype\n\t*/\n\tpublished: {\n\t\t/*\n\t\t* @private\n\t\t*/\n\t\tindex: 0\n\t},\n\n\t/**\n\t* @private\n\t*/\n\tspotlight: true,\n\n\t/**\n\t* @private\n\t*/\n\tisOffscreen: false,\n\n\t/**\n\t* @private\n\t*/\n\taccessibilityLabel: $L('go to previous'),\n\n\t/**\n\t* @private\n\t*/\n\thandlers: {\n\t\tontap: 'tapHandler',\n\t\tonSpotlightRight: 'rightHandler'\n\t},\n\n\t/**\n\t* @private\n\t*/\n\tclasses: 'moon-panels-breadcrumb',\n\n\t/**\n\t* @private\n\t*/\n\tcomponents: [\n\t\t{name: 'number', kind: Control, classes: 'moon-panels-breadcrumb-header'}\n\t],\n\n\t/**\n\t* @private\n\t*/\n\tbindings: [\n\t\t{from: 'index', to: '$.number.content', transform: 'formatNumber'}\n\t],\n\n\t/**\n\t* @private\n\t*/\n\tformatNumber: function (n) {\n\t\tvar i=n+1;\n\t\treturn '< ' + ((i < 10) ? '0' : '') + i;\n\t},\n\n\t/**\n\t* @private\n\t*/\n\ttapHandler: function (sender, event) {\n\t\t// decorate\n\t\tevent.breadcrumbTap = true;\n\t\tevent.index = this.index;\n\t},\n\n\t/**\n\t* @private\n\t*/\n\trightHandler: function(sender, event) {\n\t\tvar panels = this.owner;\n\t\tif (this.index+1 ==\tpanels.index) {\n\t\t\tSpotlight.spot(panels.getActive());\n\t\t\treturn true;\n\t\t}\n\t},\n\n\t/**\n\t* @private\n\t*/\n\tupdateSpotability: function () {\n\t\tthis.spotlightDisabled = this.isOffscreen;\n\t},\n\n\t/**\n\t* @private\n\t*/\n\tupdateBreadcrumb: function (info) {\n\t\tthis.set('isOffscreen', info.isOffscreen);\n\t\tthis.updateSpotability();\n\t}\n});\n\n\n/**\n* {@link module:moonstone/Panels~Panels} extends {@link module:layout/Panels~Panels},\n* adding support for 5-way focus (Spotlight) and pre-configured Moonstone panels\n* design patterns. By default, controls added to a Panels container are instances\n* of {@link module:moonstone/Panel~Panel}.\n*\n* `moonstone/Panels` introduces the concept of patterns for panel display.\n* Set [pattern]{@link module:moonstone/Panels~Panels#pattern} to `'activity'`\n* or `'alwaysViewing'` to use one of two patterns designed for apps on Smart TV systems.\n*\n* @class Panels\n* @extends module:layout/Panels~Panels\n* @ui\n* @public\n*/\nmodule.exports = kind(\n\t/** @lends module:moonstone/Panels~Panels.prototype */ {\n\n\t/**\n\t* @private\n\t*/\n\tname: 'moon.Panels',\n\n\t/**\n\t* @private\n\t*/\n\tkind : Panels,\n\n\t/**\n\t* @private\n\t*/\n\tmixins : [HistorySupport, ViewPreloadSupport],\n\n\t/**\n\t* @private\n\t*/\n\tclasses : 'moon-panels enyo-fit',\n\n\t/**\n\t* @private\n\t*/\n\tspotlightDecorate : false,\n\n\t/**\n\t* @private\n\t* @lends module:moonstone/Panels~Panels.prototype\n\t*/\n\tpublished: {\n\t\t/**\n\t\t* A convenience property for configuring {@link module:moonstone/Panels~Panels} according to a\n\t\t* particular design pattern.  Valid values are `'none'` (default), `'activity'`,\n\t\t* and `'alwaysviewing'`. Note that this property may only be set at creation\n\t\t* time, and should not be changed at runtime.\n\t\t*\n\t\t* The `'alwaysviewing'` pattern uses the {@link module:moonstone/BreadcrumbArranger~BreadcrumbArranger} with\n\t\t* semi-transparent panels (depending on the color theme) over the right half\n\t\t* of the screen, allowing multiple breadcrumbs to accumulate on the left\n\t\t* half of the screen.\n\t\t*\n\t\t* The `'activity'` pattern  uses the `BreadcrumbArranger` with opaque\n\t\t* panels over the full screen and only one breadcrumb showing onscreen.\n\t\t*\n\t\t* The `'none'` pattern should be used when selecting other arrangers, such as\n\t\t* {@link module:layout/CarouselArranger~CarouselArranger} or {@link module:layout/CardArranger~CardArranger}.\n\t\t*\n\t\t* @type {String}\n\t\t* @default 'none'\n\t\t* @public\n\t\t*/\n\t\tpattern: 'none',\n\n\t\t/**\n\t\t* When [useHandle]{@link module:moonstone/Panels~Panels#useHandle} is used, it is automatically\n\t\t* hidden after this amount of time (in milliseconds).\n\t\t*\n\t\t* @type {Number}\n\t\t* @default 4000\n\t\t* @public\n\t\t*/\n\t\tautoHideTimeout: 4000,\n\n\t\t/**\n\t\t* When `true`, a handle is created to allow the user to control the showing\n\t\t* state of the panels using animation. When `false`, no handle is created and\n\t\t* panels may only be hidden/shown programmatically with no animation.\n\t\t* When `'auto'` (the default), `useHandle` is set to `true` if the\n\t\t* [pattern]{@link module:moonstone/Panels~Panels#pattern} is `'alwaysviewing'` and to `false` if\n\t\t* the `pattern` is `'activity'`. Note that this property may only be set at\n\t\t* creation time, and should not be changed at runtime. This property\n\t\t* only has an effect when using the `'activity'` or `'alwaysviewing'` pattern.\n\t\t*\n\t\t* @type {String|Boolean}\n\t\t* @default 'auto'\n\t\t* @public\n\t\t*/\n\t\tuseHandle: 'auto',\n\n\t\t/**\n\t\t* Dynamically controls whether the handle is showing.\n\t\t* When `true` (the default), the handle is shown and panels may be shown by\n\t\t* activating the handle and hidden by re-activating the handle or by tapping\n\t\t* outside the panel area. When `false`, the handle is hidden and panels may\n\t\t* only be shown or hidden programmatically using the\n\t\t* [showing]{@link module:enyo/Control~Control#showing} property or the\n\t\t* [show()]{@link module:enyo/Control~Control#show}/[hide()]{@link module:enyo/Control~Control#hide} API.\n\t\t* This property only has an effect when [useHandle]{@link module:moonstone/Panels~Panels#useHandle}\n\t\t* is `true` (or `'auto'`, resulting in `true`).\n\t\t*\n\t\t* @type {Boolean}\n\t\t* @default true\n\t\t* @public\n\t\t*/\n\t\thandleShowing: true,\n\n\t\t/**\n\t\t* When `true`, panels are automatically popped when the user moves back.\n\t\t*\n\t\t* @type {Boolean}\n\t\t* @default false\n\t\t* @public\n\t\t*/\n\t\tpopOnBack: false,\n\n\t\t/**\n\t\t* When `true`, an ApplicationCloseButton is added to ActivityPanels arranger's Panel Headers.\n\t\t*\n\t\t* @type {Boolean}\n\t\t* @default true\n\t\t* @public\n\t\t*/\n\t\thasCloseButton: true,\n\n\t\t/**\n\t\t* When `true`, navigating the panel-stack (forward and backward) by 5-way key is disabled.\n\t\t* This feature may be helpful to prevent accidental navigation in \"wizard\" interface\n\t\t* scenarios where the user must take explicit action to advance or regress.\n\t\t*\n\t\t* @type {Boolean}\n\t\t* @default false\n\t\t* @public\n\t\t*/\n\t\tpreventKeyNavigation: false,\n\n\t\t/**\n\t\t* When `true`, focus can move from panel to breadcrumb when press left key.\n\t\t*\n\t\t* @type {Boolean}\n\t\t* @default true\n\t\t* @deprecated This property will be removed in the future.\n\t\t* @public\n\t\t*/\n\t\tleftKeyToBreadcrumb: true,\n\n\t\t/**\n\t\t* When `true`, existing views are cached for reuse; otherwise, they are destroyed.\n\t\t*\n\t\t* @type {Boolean}\n\t\t* @default false\n\t\t* @public\n\t\t*/\n\t\tcacheViews: false\n\t},\n\n\t/**\n\t* @private\n\t*/\n\tnarrowFit: false,\n\n\t/**\n\t* @private\n\t*/\n\tfractions: {panel: 1, breadcrumb: 1},\n\n\t/**\n\t* @private\n\t*/\n\thandlers: {\n\t\tontap:\t\t\t\t\t\t'tapped',\n\t\tonSpotlightUp:\t\t\t\t'spotlightUp',\n\t\tonSpotlightDown:\t\t\t'spotlightDown',\n\t\tonSpotlightRight:\t\t\t'spotlightRight',\n\t\tonSpotlightLeft:\t\t\t'spotlightLeft',\n\t\tonSpotlightFocus:\t\t\t'spotlightFocus',\n\t\tonSpotlightContainerLeave:\t'onSpotlightPanelLeave',\n\t\tonSpotlightContainerEnter:\t'onSpotlightPanelEnter',\n\t\tonCustomizeCloseButton:\t\t'handleCustomizeCloseButton'\n\t},\n\n\t/**\n\t* @private\n\t*/\n\tapplicationTools: [\n\t\t{name: 'appClose', kind: ApplicationCloseButton, onSpotlightUp: 'spotlightFromCloseButton', onSpotlightDown: 'spotlightFromCloseButton', onSpotlightRight: 'spotlightFromCloseButton', onSpotlightLeft: 'spotlightFromCloseButton'}\n\t],\n\n\t/**\n\t* @private\n\t*/\n\thandleTools: [\n\t\t{name: 'backgroundScrim', kind: Control, classes: 'moon-panels-background-scrim'},\n\t\t{name: 'clientWrapper', kind: Control, classes: 'enyo-fill moon-panels-client-wrapper', components: [\n\t\t\t{name: 'scrim', kind: Control, classes: 'moon-panels-panel-scrim'},\n\t\t\t{name: 'breadcrumbs', kind: Control, classes: 'moon-panels-breadcrumbs'},\n\t\t\t{name: 'panelsViewport', kind: Control, classes: 'moon-panels-viewport', components: [\n\t\t\t\t{name: 'client', kind: Control, tag: null}\n\t\t\t]}\n\t\t]},\n\t\t{name: 'showHideHandle', kind: PanelsHandle, classes: 'hidden', canGenerate: false, ontap: 'handleTap', onSpotlightLeft: 'handleSpotLeft', onSpotlightRight: 'handleSpotRight', onSpotlightFocused: 'handleFocused', onSpotlightBlur: 'handleBlur', tabIndex: -1},\n\t\t{name: 'showHideAnimator', kind: StyleAnimator, onComplete: 'showHideAnimationComplete'}\n\t],\n\n\t/**\n\t* @private\n\t*/\n\tanimatorTools: [\n\t\t{name: 'animator', kind: MoonAnimator, onStep: 'step', useBezier: true, onEnd: 'animationEnded', configs: {\n\t\t\tpanel: {\n\t\t\t\tforward: { startValue: 0, endValue: 1, delay: 0, duration: 230, bezier: [0.69,0.01,0.97,0.59]},\n\t\t\t\tbackward: { startValue: 0, endValue: 1, delay: 0, duration: 300, bezier: [0.06,0.53,0.38,0.99] }\n\t\t\t},\n\t\t\tbreadcrumb: {\n\t\t\t\tforward: { startValue: 0, endValue: 1, delay: 230, duration: 70, bezier: [0.46,0.28,0.76,0.57] },\n\t\t\t\tbackward: { startValue: 0, endValue: 1, delay: 150, duration: 150, bezier: [0.08,0.51,0.24,0.99] }\n\t\t\t}\n\t\t}}\n\t],\n\n\t/**\n\t* @private\n\t*/\n\tdefaultKind: Panel,\n\n\t/**\n\t* When `false`, dragging is disabled.\n\t*\n\t* @private\n\t*/\n\tdraggable: false,\n\n\t/**\n\t* Default to using `BreadcrumbArranger`.\n\t*\n\t* @private\n\t*/\n\tarrangerKind: MoonArranger,\n\n\t/**\n\t* Index of panel set in the middle of transition.\n\t*\n\t* @private\n\t*/\n\tqueuedIndex: null,\n\n\t/**\n\t* Flag for blocking consecutive push/pop/replace panel actions to protect\n\t* create/render/destroy time.\n\t*\n\t* @private\n\t*/\n\tisModifyingPanels: false,\n\n\t/**\n\t* Flag to indicate if the Panels are currently transitioning to a new index.\n\t*\n\t* @private\n\t*/\n\ttransitioning: false,\n\n\t/**\n\t* Width of breadcrumb.\n\t*\n\t* @private\n\t*/\n\tbreadcrumbWidth: 96,\n\n\t/**\n\t* Checks the state of panel transitions.\n\t*\n\t* @return {Boolean} `true` if a transition between panels is currently in progress;\n\t* otherwise, `false`.\n\t* @public\n\t*/\n\tinTransition: function () {\n\t\treturn this.transitioning;\n\t},\n\n\t/**\n\t* Returns list of breadcrumb objects\n\t*\n\t* @return {Array} List of breadcrumbs.\n\t* @public\n\t*/\n\tgetBreadcrumbs: function () {\n\t\treturn this.$.breadcrumbs ? this.$.breadcrumbs.children : [];\n\t},\n\n\t/**\n\t* Returns reference to breadcrumb at the specified index.\n\t*\n\t* @public\n\t*/\n\tgetBreadcrumbForIndex: function (index) {\n\t\tvar breadcrumbs = this.getBreadcrumbs();\n\t\treturn breadcrumbs[(index + breadcrumbs.length) % breadcrumbs.length];\n\t},\n\n\t/**\n\t* Returns maximum number of breadcrumbs that can be fit in the breadcrumb area.\n\t*\n\t* @return {Number} Number of breadcrumbs.\n\t* @public\n\t*/\n\tgetBreadcrumbMax: function () {\n\t\tif (this.pattern == 'activity') return 1;\n\t\t// Always viewing pattern is using half screen to show breadcrumbs\n\t\treturn Math.round(window.innerWidth / 2 / ri.scale(this.breadcrumbWidth));\n\t},\n\n\t/**\n\t* Returns range of breadcrumb index.\n\t*\n\t* @return {Object} Object contains start and end value as a hash. '{start: start, end: end}'\n\t* @public\n\t*/\n\tgetBreadcrumbRange: function () {\n\t\t/** To support fly weight pattern, we use a concept of a window.\n\t\t*\tIf we are seeing maximum 1 breadcrumb on screen (case of activity pattern),\n\t\t*\twe arrange 2 breadcrumbs at a time (current and previous) to show animation.\n\t\t*\tIf we move forward from index 2 to 3 (active is 3), the window can be [2, 3].\n\t\t*/\n\t\tvar end = this.index,\n\t\t\tstart = end - this.getBreadcrumbs().length;\n\n\t\t// If we move backward from index 4 to 3 (active is 3), the window can be [3, 4].\n\t\tif (this.fromIndex > this.toIndex) {\n\t\t\tstart = start+1;\n\t\t\tend = end+1;\n\t\t}\n\t\treturn {start: start, end: end};\n\t},\n\n\t/**\n\t* We just recalculate transition position on pushPanel, because reflow is high cost operation.\n\t* @private\n\t*/\n\trecalcLayout: function () {\n\t\tif (this.layout && this.layout.calcTransitionPositions) {\n\t\t\tthis.arrangements = [];\n\t\t\tthis.layout.calcTransitionPositions();\n\t\t} else {\n\t\t\tthis.reflow();\n\t\t}\n\t},\n\n\t/**\n\t* Determines the id of the given view.\n\t*\n\t* @param {Object} view - The view whose id we will determine.\n\t* @return {String} The id of the given view.\n\t* @public\n\t*/\n\tgetViewId: function (view) {\n\t\treturn view.id;\n\t},\n\n\t/**\n\t* Retrieves an array of either cached panels, if found, or creates a new array of panels\n\t*\n\t* @param {Object[]} info - The declarative {@glossary kind} definitions.\n\t* @param {Object} moreInfo - Additional properties to be applied (defaults).\n\t* @return {Array} List of found or created controls\n\t* @private\n\t*/\n\tcreatePanels: function (info, moreInfo) {\n\t\tvar newPanels = [],\n\t\t\tnewPanel, idx;\n\n\t\tfor (idx = 0; idx < info.length; idx++) {\n\t\t\tnewPanel = this.createPanel(info[idx], moreInfo);\n\t\t\tnewPanels.push(newPanel);\n\t\t}\n\n\t\treturn newPanels;\n\t},\n\n\t/**\n\t* Retrieves a cached panel or, if not found, creates a new panel\n\t*\n\t* @param {Object} info - The declarative {@glossary kind} definition.\n\t* @param {Object} moreInfo - Additional properties to be applied (defaults).\n\t* @return {Object} - Found or created control\n\t* @private\n\t*/\n\tcreatePanel: function (info, moreInfo) {\n\t\tvar panel,\n\t\t\tpanelId = this.getViewId(info);\n\n\t\tif (this.cacheViews && panelId) {\n\t\t\tpanel = this.restoreView(panelId);\n\t\t}\n\n\t\tpanel = panel || this.createComponent(info, moreInfo);\n\t\treturn panel;\n\t},\n\n\t/**\n\t* Creates a panel on top of the stack and increments index to select that component.\n\t*\n\t* @param {Object} info - The declarative {@glossary kind} definition.\n\t* @param {Object} moreInfo - Additional properties to be applied (defaults).\n\t* @return {Object} The instance of the panel that was created on top of the stack.\n\t* @public\n\t*/\n\tpushPanel: function (info, moreInfo) { // added\n\t\tvar startingPanelCount, lastIndex, panel;\n\n\t\tif (this.transitioning || this.isModifyingPanels) return null;\n\n\t\tthis.isModifyingPanels = true;\n\n\t\tstartingPanelCount = this.getPanels().length;\n\t\tlastIndex = startingPanelCount - 1;\n\t\tpanel = this.createPanel(info, moreInfo);\n\n\t\tpanel.render();\n\t\tthis.addBreadcrumb(true);\n\t\tthis.recalcLayout();\n\t\tpanel.resize();\n\t\tthis.setIndex(lastIndex+1);\n\n\t\t// when we push the first panel, we need to explicitly let our observers know about this as\n\t\t// there would not be a change in actual index value\n\t\tif (startingPanelCount === 0) {\n\t\t\t// Accessibility - when we push the first panel, we need to set alert role for reading title.\n\t\t\tif (MoonOptions.accessibility) {\n\t\t\t\tthis.setAlertRole();\n\t\t\t}\n\t\t\tthis.notifyObservers('index');\n\t\t}\n\n\t\tthis.isModifyingPanels = false;\n\n\t\treturn panel;\n\t},\n\n\t/**\n\t* Options for the [Panels.pushPanels()]{@link module:moonstone/Panels~Panels.pushPanels} method.\n\t*\n\t* @typedef {Object} module:moonstone/Panels~Panels.pushPanels~options\n\t* @property {Number} targetIndex - The panel index number to immediately switch to. Leaving\n\t*\tthis blank or not setting it will perform the default action, which transitions to the\n\t*\tfirst of the new panels. Setting this to a negative and other 'out of bounds' values\n\t*\twork in conjunction with the `wrap: true` property. Negative values count backward from\n\t*\tthe end, while indices greater than the total Panels' panel length wrap around and start\n\t*\tcounting again from the beginning.\n\t* @property {Boolean} transition - Whether to transition or jump directly to the next panel.\n\t* @public\n\t*/\n\n\t/**\n\t* Creates multiple panels on top of the stack and updates index to select the last one\n\t* created. Supports an optional `options` object as the third parameter.\n\t*\n\t* @param {Object[]} info - The declarative {@glossary kind} definitions.\n\t* @param {Object} commonInfo - Additional properties to be applied (defaults).\n\t* @param {Object} options - Additional options for pushPanels.\n\t* @return {null|Object[]} Array of the panels that were created on top of the stack, or\n\t*\t`null` if panels could not be created.\n\t* @public\n\t*/\n\tpushPanels: function (info, commonInfo, options) { // added\n\t\tvar startingPanelCount, lastIndex, panels, panel;\n\n\t\tif (this.transitioning || this.isModifyingPanels) return null;\n\n\t\tthis.isModifyingPanels = true;\n\n\t\tif (!options) options = {};\n\n\t\tstartingPanelCount = this.getPanels().length;\n\t\tlastIndex = startingPanelCount;\n\t\tpanels = this.createPanels(info, commonInfo);\n\n\t\tfor (panel = 0; panel < panels.length; ++panel) {\n\t\t\tpanels[panel].render();\n\t\t}\n\t\tthis.addBreadcrumb(true);\n\t\tthis.recalcLayout();\n\t\tif (options.targetIndex || options.targetIndex === 0) {\n\t\t\tlastIndex = options.targetIndex;\n\t\t}\n\t\tlastIndex = this.clamp(lastIndex);\n\t\tfor (panel = 0; panel < panels.length; ++panel) {\n\t\t\tpanels[panel].resize();\n\t\t}\n\t\t// If transition was explicitly set to false, since null or undefined indicate 'never set' or unset\n\t\tif (options.transition === false) {\n\t\t\tthis.setIndexDirect(lastIndex);\n\t\t} else {\n\t\t\tthis.setIndex(lastIndex);\n\t\t}\n\n\t\t// when we push the first panel, we need to explicitly let our observers know about this as\n\t\t// there would not be a change in actual index value\n\t\tif (startingPanelCount === 0) {\n\t\t\t// Accessibility - when we push the first panel, we need to set alert role for reading title.\n\t\t\tif (MoonOptions.accessibility) {\n\t\t\t\tthis.setAlertRole();\n\t\t\t}\n\t\t\tthis.notifyObservers('index');\n\t\t}\n\n\t\tthis.isModifyingPanels = false;\n\n\t\treturn panels;\n\t},\n\n\t/**\n\t* Destroys panels whose index is greater than or equal to a specified value.\n\t*\n\t* @param {Number} index - Index at which to start removing panels.\n\t* @param {Number} [direction] - The direction in which we are changing indices. A negative\n\t*\tvalue signifies that we are moving backwards, and want to remove panels whose indices are\n\t*\tgreater than the current index. Conversely, a positive value signifies that we are moving\n\t*\tforwards, and panels whose indices are less than the current index should be removed. To\n\t*\tmaintain backwards-compatibility with the existing API, this parameter is optional and, if\n\t*\tnot specified, will default to the popOnBack behavior.\n\t* @public\n\t*/\n\tpopPanels: function (index, direction) {\n\t\tif (this.transitioning || this.isModifyingPanels) return;\n\n\t\tvar panels = this.getPanels(),\n\t\t\ti;\n\n\t\tthis.isModifyingPanels = true;\n\n\t\tif (direction > 0) {\n\t\t\tfor (i = 0; i <= index; ++i) {\n\t\t\t\tthis.removePanel(panels[i], true);\n\t\t\t}\n\t\t} else {\n\t\t\tindex = index || panels.length - 1;\n\n\t\t\tfor (i = panels.length - 1; i >= index; i--) {\n\t\t\t\tthis.removePanel(panels[i]);\n\t\t\t}\n\t\t}\n\n\t\tthis.removeBreadcrumb();\n\t\tthis.recalcLayout();\n\t\tthis.isModifyingPanels = false;\n\t},\n\n\t/**\n\t* Removes an individual panel.\n\t*\n\t* @param {Object} panel - The panel to remove.\n\t* @param {Boolean} [preserve] - If {@link module:moonstone/Panels~Panels#cacheViews} is `true`,\n\t*\tthis value is used to determine whether or not to preserve the current panel's position in\n\t*\tthe component hierarchy and on the screen, when caching.\n\t* @private\n\t*/\n\tremovePanel: function (panel, preserve) {\n\t\tif (panel) {\n\t\t\tif (this.cacheViews) {\n\t\t\t\tthis.cacheView(panel, preserve);\n\t\t\t} else {\n\t\t\t\tpanel.destroy();\n\t\t\t}\n\t\t}\n\t},\n\n\t/**\n\t* Destroys specified panel and creates new panel in-place without transition effect.\n\t*\n\t* @param {Number} index - Index of panel to destroy.\n\t* @param {Object} info - The declarative {@glossary kind} definition.\n\t* @param {Object} moreInfo - Additional properties to be applied (defaults).\n\t* @public\n\t*/\n\treplacePanel: function (index, info, moreInfo) {\n\t\tif (this.transitioning || this.isModifyingPanels) {return;}\n\t\tthis.isModifyingPanels = true;\n\t\tvar oPanel = null;\n\n\t\tif (this.getPanels().length > index) {\n\t\t\tthis.getPanels()[index].destroy();\n\t\t\tif (this.getPanels().length > index) {\n\t\t\t\tmoreInfo = util.mixin({addBefore: this.getPanels()[index]}, moreInfo);\n\t\t\t}\n\t\t}\n\t\toPanel = this.createPanel(info, moreInfo);\n\t\toPanel.render();\n\t\tthis.resize();\n\t\tthis.isModifyingPanels = false;\n\t},\n\n\t/**\n\t* Finds and returns the panel index of the passed-in control. Returns `-1` if\n\t* panel is not found.\n\t*\n\t* @param {Object} oControl - A control to look for.\n\t* @return {Number} Panel index of control, or `-1` if panel is not found.\n\t* @public\n\t*/\n\tgetPanelIndex: function (oControl) {\n\t\tvar oPanel = null;\n\n\t\twhile (oControl && oControl.parent) {\n\t\t\t// Parent of a panel can be a client or a panels.\n\t\t\tif (oControl.parent === this.$.client || oControl.parent === this) {\n\t\t\t\toPanel = oControl;\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\toControl = oControl.parent;\n\t\t}\n\n\t\tif (oPanel) {\n\t\t\tfor (var n=0; n<this.getPanels().length; n++) {\n\t\t\t\tif (this.getPanels()[n] == oPanel) {\n\t\t\t\t\treturn n;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\treturn -1;\n\t},\n\n\t/**\n\t* Returns `true` if the passed-in control is a child panel of this Panels instance.\n\t*\n\t* @param {Object} control - A panel control.\n\t* @return {Boolean} `true` if the specified control is a child panel of this Panels\n\t* instance.\n\t* @public\n\t*/\n\tisPanel: function (control) {\n\t\tfor (var n=0; n<this.getPanels().length; n++) {\n\t\t\tif (this.getPanels()[n] == control) {\n\t\t\t\treturn true;\n\t\t\t}\n\t\t}\n\t},\n\n\t/**\n\t* @private\n\t*/\n\trefresh: function () {\n\t\tif (this.isMoonAnimatorUsed) {\n\t\t\tfor(var k in this.$.animator.configs) {\n\t\t\t\tthis.fractions[k] = 1;\n\t\t\t}\n\t\t}\n\t\tPanels.prototype.refresh.apply(this, arguments);\n\t},\n\n\t/**\n\t* @private\n\t*/\n\tstep: function (sender) {\n\t\tif (this.isMoonAnimatorUsed) {\n\t\t\tfor(var k in this.$.animator.configs) {\n\t\t\t\tthis.fractions[k] = sender.values[k];\n\t\t\t}\n\t\t}\n\t\tPanels.prototype.step.apply(this, arguments);\n\t\treturn true;\n\t},\n\n\t/**\n\t* @private\n\t*/\n\tstepTransition: function () {\n\t\tif (!this.hasNode()) return;\n\n\t\tif (this.isMoonAnimatorUsed) {\n\t\t\tthis.arrangement = this.arrangement ? this.arrangement : {};\n\t\t\tfor(var k in this.$.animator.configs) {\n\t\t\t\tthis.arrangement[k] = this.interpolatesArrangement(this.fractions[k]);\n\t\t\t}\n\t\t\tif (this.layout && this.arrangement.panel && this.arrangement.breadcrumb) {\n\t\t\t\tthis.layout.flowArrangement();\n\t\t\t}\n\t\t} else {\n\t\t\tPanels.prototype.stepTransition.apply(this, arguments);\n\t\t}\n\t},\n\n\t/**\n\t* Interpolates between arrangements as needed.\n\t*\n\t* @param {Number} [fraction] - A value between 0 to 1.\n\t* @private\n\t*/\n\tinterpolatesArrangement: function (fraction) {\n\t\t// select correct transition points and normalize fraction.\n\t\tvar t$ = this.transitionPoints;\n\t\tvar r = (fraction || 0) * (t$.length-1);\n\t\tvar i = Math.floor(r);\n\t\tr = r - i;\n\t\tvar s = t$[i], f = t$[i+1];\n\t\t// get arrangements and lerp between them\n\t\tvar s0 = this.fetchArrangement(s);\n\t\tvar s1 = this.fetchArrangement(f);\n\t\treturn s0 && s1 ? Panels.lerp(s0, s1, r) : (s0 || s1);\n\t},\n\n\t/**\n\t* @method\n\t* @private\n\t*/\n\tcreate: function () {\n\t\tPanels.prototype.create.apply(this, arguments);\n\t\tthis.set('animate', this.animate && MoonOptions.accelerate, true);\n\n\t\t// we need to ensure our handler has the opportunity to modify the flow during\n\t\t// initialization\n\t\tthis.showingChanged();\n\t\t// make other panel to spotlightDisabled without the initialPanel;\n\t\tthis.notifyPanels('initPanel');\n\t},\n\n\t/**\n\t* @private\n\t*/\n\tinitComponents: function () {\n\t\tthis.applyPattern();\n\t\tPanels.prototype.initComponents.apply(this, arguments);\n\t\tthis.isMoonAnimatorUsed = (this.$.animator instanceof MoonAnimator);\n\t\tthis.addBreadcrumb();\n\t\tthis.initializeShowHideHandle();\n\t\tthis.handleShowingChanged();\n\t},\n\n\t/**\n\t* @private\n\t*/\n\trendered: function () {\n\t\tPanels.prototype.rendered.apply(this, arguments);\n\n\t\tthis.notifyBreadcrumbs('updateBreadcrumb');\n\n\t\t// Direct hide if not showing and using handle\n\t\tif (this.useHandle === true) {\n\t\t\tif (this.showing) {\n\t\t\t\tthis._directShow();\n\t\t\t} else {\n\t\t\t\tthis._directHide();\n\t\t\t}\n\t\t}\n\t},\n\n\t/**\n\t* @private\n\t*/\n\ttapped: function (oSender, oEvent) {\n\t\tif (oEvent.originator === this.$.showHideHandle || this.pattern === 'none' ||\n\t\t\tthis.transitioning === true || this.isModifyingPanels === true) {\n\t\t\treturn;\n\t\t}\n\n\t\t// If tapped on breadcrambs area (which is located in the left side of panel)\n\t\tif (oEvent.originator === this.$.breadcrumbs) {\n\t\t\tif (this.showing && (this.useHandle === true) && this.handleShowing) {\n\t\t\t\tthis.hide();\n\t\t\t}\n\t\t} else {\n\t\t\t// If tapped on breadcrumb, go to that panel\n\t\t\tif (oEvent.breadcrumbTap && oEvent.index !== this.getIndex()) {\n\t\t\t\tthis.setIndex(oEvent.index);\n\t\t\t}\n\t\t}\n\t},\n\n\t/**\n\t* This takes action when the CustomizeCloseButton event is received. It accepts several event\n\t* properties, and in their absence resets each to its original value.\n\t*\n\t* Values:\n\t*   x - (Number|String), positive or negative measurement to offset the X from its natural position.\n\t*       This value is automatically inverted in RtL mode.\n\t*   y - (Number|String), positive or negative measurement to offset the X from its natural position.\n\t*   properties {Object} An object containing key/value pairs to be `set` on the close button.\n\t*   For example, this can be used to set the `showing` property of the close button. If present\n\t*   and an object, the `styles` member will be iterated through and each style will be applied\n\t*   individually and those styles with a `null` value will be removed.\n\t*\n\t* Ex:\n\t*    this.doCustomizeCloseButton({parameters: {showing: false});\n\t*\n\t* @private\n\t*/\n\thandleCustomizeCloseButton: function (sender, ev) {\n\t\tif (this.$.appClose) {\n\t\t\tthis.$.appClose.handleCustomizeCloseButton.apply(this.$.appClose, arguments);\n\t\t}\n\t},\n\n\t/**\n\t* Given a direction and starting control, walks up the lineage chain until a suitable control to\n\t* spot has been found.\n\t*\n\t* @param {String} dir - The direction of movement.\n\t* @param {Object} control - The starting control.\n\t* @returns {Object} The target that should be spotted.\n\t* @private\n\t*/\n\tgetSpotlightTarget: function (dir, control) {\n\t\tvar ref = control,\n\t\t\ttarget,\n\t\t\tparent,\n\t\t\text;\n\n\t\t// Look at all of the NearestNeighbors up the lineage chain, until we find a good one.\n\t\twhile (!target) {\n\t\t\tif (!ref || ref instanceof Panel) break;\n\t\t\tparent = Spotlight.getParent(ref);\n\t\t\t// Add app close button as a child of Panel\n\t\t\tif (this.hasCloseButton && parent instanceof Panel) {\n\t\t\t\text = {extraCandidates: this.$.appClose};\n\t\t\t}\n\t\t\ttarget = Spotlight.NearestNeighbor.getNearestNeighbor(dir, ref, ext);\n\t\t\tref = parent;\n\t\t\text = null;\n\t\t}\n\n\t\treturn target;\n\t},\n\n\t/**\n\t* Considers whether or not the application close button should be spotted, and spots\n\t* accordingly, based on the given movement direction and originating control.\n\t*\n\t* @param {String} dir - The direction of movement.\n\t* @param {Object} orig - The originating control.\n\t* @returns {Boolean} If `true`, the application close button has been spotted; otherwise,\n\t*\t`false` is returned.\n\t* @private\n\t*/\n\tconsiderSpottingCloseButton: function (dir, orig) {\n\t\tvar target;\n\n\t\ttarget = this.getSpotlightTarget(dir, orig);\n\n\t\tif (target && target.parent instanceof ApplicationCloseButton) {\n\t\t\tSpotlight.spot(target);\n\t\t\treturn true;\n\t\t}\n\n\t\treturn false;\n\t},\n\n\t/**\n\t* @private\n\t*/\n\tspotlightUp: function (sender, ev) {\n\t\treturn this.considerSpottingCloseButton('UP', ev.originator);\n\t},\n\n\t/**\n\t* @private\n\t*/\n\tspotlightDown: function (sender, ev) {\n\t\treturn this.considerSpottingCloseButton('DOWN', ev.originator);\n\t},\n\n\t/**\n\t* @private\n\t*/\n\tspotlightLeft: function (sender, ev) {\n\t\tif (!this.preventKeyNavigation && !this.leftKeyToBreadcrumb && this.toIndex !== null) {\n\t\t\tthis.queuedIndex = this.toIndex - 1;\n\t\t\t//queuedIndex could have out boundary value. It will be managed in setIndex()\n\t\t}\n\t\tvar orig = ev.originator,\n\t\t\tidx = this.getPanelIndex(orig);\n\n\t\tif (this.considerSpottingCloseButton('LEFT', orig)) {\n\t\t\treturn true;\n\t\t} else if (orig instanceof Panel) {\n\t\t\tif (idx === 0) {\n\t\t\t\tif (!this.preventKeyNavigation && this.showing && (this.useHandle === true)\n\t\t\t\t\t\t&& this.handleShowing) {\n\t\t\t\t\tthis.hide();\n\t\t\t\t\treturn true;\n\t\t\t\t}\n\t\t\t} else if (!this.leftKeyToBreadcrumb) {\n\t\t\t\tif (!this.preventKeyNavigation) {\n\t\t\t\t\tthis.previous();\n\t\t\t\t} else {\n\t\t\t\t\tSpotlight.spot(Spotlight.getLastControl());\n\t\t\t\t}\n\t\t\t\treturn true;\n\t\t\t} else if (sender instanceof ApplicationCloseButton && this.$.breadcrumbs) {\n\t\t\t\tSpotlight.spot(this.$.breadcrumbs);\n\t\t\t\treturn true;\n\t\t\t}\n\t\t}\n\t},\n\n\t/**\n\t* @private\n\t*/\n\tspotlightRight: function (sender, ev) {\n\t\tif (!this.preventKeyNavigation && this.toIndex !== null) {\n\t\t\tthis.queuedIndex = this.toIndex + 1;\n\t\t\t//queuedIndex could have out boundary value. It will be managed in setIndex()\n\t\t}\n\t\tvar orig = ev.originator,\n\t\t\tidx = this.getPanelIndex(orig),\n\t\t\tnext = this.getPanels()[idx + 1];\n\n\t\tif (this.considerSpottingCloseButton('RIGHT', orig)) {\n\t\t\treturn true;\n\t\t} else if (next && orig instanceof Panel) {\n\t\t\tif (this.useHandle === true && this.handleShowing && idx == this.index) {\n\t\t\t\tSpotlight.spot(this.$.showHideHandle);\n\t\t\t\treturn true;\n\t\t\t}\n\t\t\telse {\n\t\t\t\tif (!this.preventKeyNavigation) {\n\t\t\t\t\tthis.next();\n\t\t\t\t\treturn true;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t},\n\n\t/**\n\t* @private\n\t*/\n\tspotlightFromCloseButton: function (sender, ev) {\n\t\tvar p = this.getActive(),\n\t\t\tidx = this.getPanelIndex(p),\n\t\t\tdirection = ev.type.substring(11).toUpperCase(),\t\t// Derive direction from type\n\t\t\ttarget = Spotlight.NearestNeighbor.getNearestNeighbor(direction, ev.originator, {root: p});\n\n\t\tif (target) {\n\t\t\tSpotlight.spot(target);\n\t\t\treturn true;\n\t\t} else if (direction == 'RIGHT') {\n\t\t\tif (this.useHandle === true && this.handleShowing && idx == this.index) {\n\t\t\t\tSpotlight.spot(this.$.showHideHandle);\n\t\t\t\treturn true;\n\t\t\t}\n\t\t} else if (direction == 'LEFT') {\n\t\t\tthis.spotlightLeft(sender, {originator: p});\n\t\t\treturn true;\n\t\t}\n\t},\n\n\t/**\n\t* @private\n\t*/\n\tspotlightFocus: function (oSender, oEvent) {\n\t\tvar orig = oEvent.originator;\n\t\tvar idx = this.getPanelIndex(orig);\n\t\tif (orig.owner === this.$.appClose) {\n\t\t\tSpotlight.Container.setLastFocusedChild(this.getActive(), orig);\n\t\t}\n\t\tif (this.index !== idx && idx !== -1) {\n\t\t\tthis.setIndex(idx);\n\t\t}\n\t},\n\n\t/**\n\t* Responds to tap on show/hide handle.\n\t*\n\t* @private\n\t*/\n\thandleTap: function () {\n\t\tthis.setShowing(!this.showing);\n\t},\n\n\t/**\n\t* @private\n\t*/\n\thandleSpotLeft: function () {\n\t\tif (this.showing) {\n\t\t\tSpotlight.spot(this.getActive());\n\t\t} else {\n\t\t\tSpotlight.unspot();\n\t\t}\n\t\treturn true;\n\t},\n\n\t/**\n\t* @private\n\t*/\n\thandleSpotRight: function (sender, event) {\n\t\tif (this.showing) {\n\t\t\treturn true;\n\t\t}\n\t},\n\n\t/**\n\t* @private\n\t*/\n\thandleBlur: function (sender, event) {\n\t\tif (this.isHandleFocused) {\n\t\t\tthis.set('isHandleFocused', false);\n\t\t\tif (!Spotlight.getPointerMode()) {\n\t\t\t\tif (!this.showing) {\n\t\t\t\t\tthis.sendPanelsHiddenSignal();\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tthis.resetHandleAutoHide();\n\t\tif (!this.showing) {\n\t\t\tSignals.send('onPanelsHandleBlurred');\n\t\t}\n\t},\n\n\t/**\n\t* @private\n\t*/\n\tsendPanelsHiddenSignal: function () {\n\t\tSignals.send('onPanelsHidden', {panels: this});\n\t},\n\n\t/**\n\t* @private\n\t*/\n\tresetHandleAutoHide: function (sender, event) {\n\t\tthis.startJob('autoHide', 'stashHandle', this.getAutoHideTimeout());\n\t},\n\n\t/**\n\t* @private\n\t*/\n\tstopHandleAutoHide: function (sender, event) {\n\t\tthis.stopJob('autoHide');\n\t},\n\n\t/**\n\t* @private\n\t*/\n\tstashHandle: function () {\n\t\tthis.$.showHideHandle.addRemoveClass('stashed', !this.showing);\n\t},\n\n\t/**\n\t* @private\n\t*/\n\tunstashHandle: function () {\n\t\tthis.stopHandleAutoHide();\n\t\tthis.$.showHideHandle.removeClass('stashed');\n\t},\n\n\t/**\n\t* @private\n\t*/\n\thandleFocused: function () {\n\t\tthis.unstashHandle();\n\t\tthis.startJob('autoHide', 'handleSpotLeft', this.getAutoHideTimeout());\n\t\tthis.set('isHandleFocused', true);\n\t\tSignals.send('onPanelsHandleFocused');\n\t},\n\n\t/**\n\t* @private\n\t*/\n\thandleShowingChanged: function () {\n\t\t//* show handle only when useHandle is true\n\t\tif (this.useHandle !== true) { return; }\n\t\tthis.$.showHideHandle.addRemoveClass('hidden', !this.handleShowing);\n\t\tthis.$.showHideHandle.spotlight = this.handleShowing;\n\t},\n\n\t/**\n\t* Called when focus enters one of the panels. If currently hiding and\n\t* `this.useHandle` is `true`, shows handle.\n\t*\n\t* @private\n\t*/\n\tonSpotlightPanelEnter: function () {\n\t\tif (!this.showing && (this.useHandle === true) && this.handleShowing ) {\n\t\t\tSpotlight.spot(this.$.showHideHandle);\n\t\t\treturn true;\n\t\t}\n\t},\n\n\t/**\n\t* Sets the index of the active panel, possibly transitioning the panel into view.\n\t*\n\t* @param {number} index - Index of the panel to make active.\n\t* @public\n\t*/\n\tsetIndex: function (index) {\n\t\tvar willAnimate = this.shouldAnimate();\n\n\t\t// Normally this.index cannot be smaller than 0 and larger than panels.length\n\t\t// However, if panels uses handle and there is sequential key input during transition\n\t\t// then index could have -1. It means that panels will be hidden.\n\t\tif (this.toIndex === null || this.useHandle === false) {\n\t\t\tindex = this.clamp(index);\n\t\t}\n\n\t\tif (index === this.index || this.toIndex != null) {\n\t\t\treturn;\n\t\t}\n\n\t\tvar panels, toPanel;\n\n\t\t// Clear before start\n\t\tthis.queuedIndex = null;\n\t\tthis._willMove = null;\n\n\t\t// Set indexes before notify panels\n\t\tthis.fromIndex = this.index;\n\t\tthis.toIndex = index;\n\n\t\t// Turn on the close-x so it's ready for the next panel; if hasCloseButton is true\n\t\t// and remove spottability of close button during transitions.\n\t\tif (this.$.appClose) {\n\t\t\tif (this.hasNode()) this.$.appClose.customizeCloseButton({'spotlight': false});\n\t\t\tthis.$.appClose.set('showing', this.hasCloseButton);\n\t\t}\n\t\tthis.notifyPanels('initPanel');\n\t\tthis.notifyBreadcrumbs('updateBreadcrumb');\n\n\t\t// Ensure any VKB is closed when transitioning panels\n\t\tthis.blurActiveElementIfHiding(index);\n\n\t\tif (this.cacheViews) {\n\t\t\tpanels = this.getPanels();\n\t\t\ttoPanel = panels[this.toIndex];\n\n\t\t\tif (!toPanel.generated) {\n\t\t\t\tif (this.toIndex < this.fromIndex) toPanel.addBefore = panels[this.fromIndex];\n\t\t\t\ttoPanel.render();\n\t\t\t}\n\t\t}\n\n\t\t// If panels will move for this index change, kickoff animation. Otherwise skip it.\n\t\tif (willAnimate) {\n\t\t\tSpotlight.mute(this);\n\t\t\tthis.startTransition();\n\t\t\tthis.addClass('transitioning');\n\t\t}\n\n\t\tthis._setIndex(this.toIndex);\n\t},\n\n\t/**\n\t* @private\n\t*/\n\tblurActiveElementIfHiding: function (index) {\n\t\tvar activeElement = document.activeElement,\n\t\t\tactiveComponent = activeElement ? dispatcher.$[activeElement.id] : null,\n\t\t\tpanels = this.getPanels(),\n\t\t\tpanel,\n\t\t\tpanelInfo;\n\t\tif (activeComponent) {\n\t\t\tfor (var i = 0; i < panels.length; i++) {\n\t\t\t\tpanel = panels[i];\n\t\t\t\tif (activeComponent.isDescendantOf(panel)) {\n\t\t\t\t\tpanelInfo = this.getTransitionInfo(i, index);\n\t\t\t\t\tif (panelInfo.isOffscreen) {\n\t\t\t\t\t\tdocument.activeElement.blur();\n\t\t\t\t\t}\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t},\n\n\t/**\n\t* Returns `true` if the panels should animate in the transition from `fromIndex` to\n\t* `toIndex`.\n\t*\n\t* @private\n\t*/\n\tshouldAnimate: function () {\n\t\tif (this._willMove === null) {\n\t\t\t/*jshint -W093 */\n\t\t\treturn (this._willMove = this.animate && this.shouldArrange() && this.getAbsoluteShowing());\n\t\t\t/*jshint +W093 */\n\t\t}\n\t\telse {\n\t\t\treturn this._willMove;\n\t\t}\n\t},\n\n\t/**\n\t* Returns `true` if any panels will move in the transition from `fromIndex` to `toIndex`.\n\t*\n\t* @private\n\t*/\n\tshouldArrange: function () {\n\t\treturn this.layout.shouldArrange ? this.layout.shouldArrange(this.fromIndex, this.toIndex) : true;\n\t},\n\n\t/**\n\t*\n\t* @private\n\t*/\n\t_setIndex: function (index) {\n\t\tvar prev = this.get('index');\n\t\tthis.index = this.clamp(index);\n\t\t// Accessibility - Before reading the focused item, it must have a alert role for reading the title,\n\t\t// so setAlertRole() must be called before notifyObservers('index', prev, index).\n\t\tif (MoonOptions.accessibility) {\n\t\t\tthis.setAlertRole();\n\t\t}\n\t\tthis.notifyObservers('index', prev, index);\n\t},\n\n\t/**\n\t* Called when the arranger animation completes.\n\t*\n\t* @private\n\t*/\n\tanimationEnded: function () {\n\t\tif (this.animate) {\n\t\t\tthis.removeClass('transitioning');\n\t\t\tthis.completed();\n\t\t} else {\n\t\t\tPanels.prototype.animationEnded.apply(this, arguments);\n\t\t}\n\n\t\treturn true;\n\t},\n\n\t/**\n\t* @private\n\t*/\n\tgetTransitionInfo: function (inPanelIndex) {\n\t\tvar to = (this.toIndex || this.toIndex === 0) ? this.toIndex : this.index,\n\t\t\tinfo = {};\n\t\tinfo.isOffscreen = (inPanelIndex != to);\n\t\tinfo.from = this.fromIndex;\n\t\tinfo.to = this.toIndex;\n\t\tinfo.index = inPanelIndex;\n\t\tinfo.animate = this.animate;\n\t\treturn info;\n\t},\n\n\t/**\n\t* @private\n\t*/\n\tgetBreadcrumbPositionInfo: function (bounds, containerBounds) {\n\t\tvar right = bounds ? bounds.right : null,\n\t\t\tleft = bounds ? bounds.left : null,\n\t\t\tpanelEdge = containerBounds ? containerBounds.right : null;\n\n\t\treturn {isOffscreen: (right == null || left == null || panelEdge == null || right <= 0 || left >= panelEdge)};\n\t},\n\n\t/**\n\t* Set index to breadcrumb to display number\n\t*\n\t* @private\n\t*/\n\tassignBreadcrumbIndex: function() {\n\t\tvar range = this.getBreadcrumbRange(),\n\t\t\tcontrol, i;\n\n\t\tif (this.pattern != 'none') {\n\t\t\tfor (i=range.start; i<range.end; i++) {\n\t\t\t\tcontrol = this.getBreadcrumbForIndex(i);\n\t\t\t\tcontrol.set('index', i);\n\t\t\t}\n\t\t}\n\t},\n\n\t/**\n\t* @private\n\t*/\n\taddBreadcrumb: function (forceRender) {\n\t\tif (this.pattern == 'none' || !this.$.breadcrumbs) return;\n\n\t\t// If we have 1 panel then we don't need breadcrumb.\n\t\t// If we have more then 1 panel then we need panel - 1 number of breadcrumbs.\n\t\t// But, if we can only see 1 breadcrumb on screen like activity pattern\n\t\t// then we need 2 breadcrumbs to show animation.\n\t\tvar len = Math.max(2, Math.min(this.getPanels().length-1, this.getBreadcrumbMax()+1)),\n\t\t\tdefs = [],\n\t\t\tprevLen = this.getBreadcrumbs().length,\n\t\t\tbreadcrumbs, i;\n\n\t\tfor(i=0; i<len-prevLen; i++) {\n\t\t\tdefs[i] = {kind: Breadcrumb};\n\t\t}\n\t\tthis.$.breadcrumbs.createComponents(defs, {owner: this});\n\t\tif (forceRender) {\n\t\t\tbreadcrumbs = this.getBreadcrumbs();\n\t\t\tfor (i=prevLen; i<len; i++) {\n\t\t\t\tbreadcrumbs[i].render();\n\t\t\t}\n\t\t}\n\t},\n\n\t/**\n\t* @private\n\t*/\n\tremoveBreadcrumb: function () {\n\t\tif (this.pattern == 'none' || !this.$.breadcrumbs) return;\n\n\t\t// If we have 1 panel then we don't need breadcrumb.\n\t\t// If we have more then 1 panel then we need panel - 1 number of breadcrumbs.\n\t\t// But, if we can only see 1 breadcrumb on screen like activity pattern\n\t\t// then we need 2 breadcrumbs to show animation.\n\t\tvar len = Math.max(2, Math.min(this.getPanels().length-1, this.getBreadcrumbMax()+1));\n\n\t\t// If we have more than the number of necessary breadcrumb then destroy.\n\t\twhile (this.getBreadcrumbs().length > len) {\n\t\t\tthis.getBreadcrumbs()[this.getBreadcrumbs().length-1].destroy();\n\t\t}\n\t},\n\n\t/**\n\t* Assign direction property on animator to select proper timing function.\n\t*\n\t* @private\n\t*/\n\tgetDirection: function() {\n\t\treturn  (this.fromIndex == this.toIndex) ? 'none' :\n\t\t\t\t(this.fromIndex < this.toIndex) ? 'forward' : 'backward';\n\t},\n\n\t/**\n\t* @private\n\t*/\n\tadjustFirstPanelBeforeTransition: function() {\n\t\tvar idx = this.index,\n\t\t\tfrom = this.fromIndex,\n\t\t\ttrans = this.transitioning;\n\t\tif (this.pattern == 'activity') {\n\t\t\t// Show breadcrumbs if we're landing on any panel besides the first\n\t\t\tthis.$.breadcrumbs.set('showing', idx > 0);\n\t\t\t// Adjust viewport to show full-width panel if we're landing on OR transitioning from the first panel\n\t\t\tthis.addRemoveClass('first', idx === 0 || (trans && from === 0));\n\t\t}\n\t},\n\n\t/**\n\t* @private\n\t*/\n\tadjustFirstPanelAfterTransition: function() {\n\t\t// Keep viewport adjusted for full-width panel only if we've landed on the first panel\n\t\tif (this.pattern == 'activity' && this.index !== 0) {\n\t\t\tthis.removeClass('first');\n\t\t}\n\t},\n\n\t/**\n\t* When index changes, make sure to update the breadcrumbed panel's `spotlight` property\n\t* (to avoid {@glossary Spotlight} issues).\n\t*\n\t* @private\n\t*/\n\tindexChanged: function (was) {\n\t\tvar current, delta, deltaAbs, idx;\n\n\t\tthis.adjustFirstPanelBeforeTransition();\n\n\t\tif (this.getPanels().length > 0) {\n\t\t\tthis.assignBreadcrumbIndex();\n\n\t\t\t// Set animation direction to use proper timing function before start animation\n\t\t\t// This direction is only consumed by MoonAnimator.\n\t\t\tthis.$.animator.direction = this.getDirection();\n\n\t\t\t// Push or drop history, based on the direction of the index change\n\t\t\tif (this.allowBackKey) {\n\t\t\t\twas = was || 0;\n\t\t\t\tdelta = this.index - was;\n\t\t\t\tdeltaAbs = Math.abs(delta);\n\n\t\t\t\tif (delta > 0) {\n\t\t\t\t\tfor (idx = 0; idx < deltaAbs; idx++) {\n\t\t\t\t\t\tthis.pushBackHistory(idx + was);\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tcurrent = EnyoHistory.peek();\n\n\t\t\t\t\t// ensure we have history to drop - if the first history entry's index corresponds\n\t\t\t\t\t// to the index prior to our current index, we assume the other entries exist\n\t\t\t\t\tif (current && current.index + 1 == was) {\n\t\t\t\t\t\tEnyoHistory.drop(deltaAbs);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tPanels.prototype.indexChanged.apply(this, arguments);\n\t},\n\n\t/**\n\t* @private\n\t*/\n\tnotifyPanels: function (method) {\n\t\tvar panels = this.getPanels(),\n\t\t\tpanel, info, i;\n\t\tfor (i = 0; (panel = panels[i]); i++) {\n\t\t\tinfo = this.getTransitionInfo(i);\n\t\t\tif (panel[method]) {\n\t\t\t\tpanel[method](info);\n\t\t\t}\n\t\t}\n\t},\n\n\t/**\n\t* @private\n\t*/\n\tnotifyBreadcrumbs: function (method) {\n\t\tif (this.pattern == 'none' || !this.$.breadcrumbs) return;\n\n\t\tvar range = this.getBreadcrumbRange(),\n\t\t\tcontainerBounds = this.$.breadcrumbs.getAbsoluteBounds(),\n\t\t\tcontrol, bounds, info, i;\n\t\tfor (i=range.start; i<range.end; i++) {\n\t\t\tcontrol = this.getBreadcrumbForIndex(i);\n\t\t\tbounds = control.getAbsoluteBounds();\n\t\t\tinfo = this.getBreadcrumbPositionInfo(bounds, containerBounds);\n\t\t\tif (control[method]) {\n\t\t\t\tcontrol[method](info);\n\t\t\t}\n\t\t}\n\t},\n\n\t/**\n\t* @private\n\t*/\n\tprocessPanelsToRemove: function(fromIndex, toIndex) {\n\t\tvar direction = toIndex < fromIndex ? -1 : 1,\n\t\t\tremoveFrom;\n\n\t\t// Remove panels that are no longer on screen\n\t\tif (this.cacheViews || (direction < 0 && this.popOnBack)) {\n\t\t\tremoveFrom = toIndex - direction;\n\t\t\tthis.popPanels(removeFrom, direction);\n\t\t}\n\t},\n\n\tprocessQueuedKey: function() {\n\t\t// queuedIndex becomes -1 when left key input is occurred\n\t\t// during transition from index 1 to 0.\n\t\t// We can hide panels if we use handle.\n\t\tif (this.queuedIndex === -1 && this.useHandle) {\n\t\t\tthis.hide();\n\t\t} else if (this.queuedIndex !== null) {\n\t\t\tthis.setIndex(this.queuedIndex);\n\t\t}\n\t},\n\n\t/**\n\t* @private\n\t*/\n\tfinishTransition: function () {\n\t\tvar fromIndex = this.fromIndex,\n\t\t\ttoIndex = this.toIndex;\n\n\t\tthis.adjustFirstPanelAfterTransition();\n\t\tthis.notifyPanels('transitionFinished');\n\t\tthis.notifyBreadcrumbs('updateBreadcrumb');\n\t\tPanels.prototype.finishTransition.apply(this, arguments);\n\t\tthis.processPanelsToRemove(fromIndex, toIndex);\n\t\tthis.processQueuedKey();\n\t\tSpotlight.unmute(this);\n\t\tSpotlight.spot(this.getActive());\n\t\tthis.$.appClose && this.$.appClose.customizeCloseButton({'spotlight': true});  // Restore spotlightability of close button.\n\t},\n\n\t/**\n\t* Override the default `getShowing()` behavior to avoid setting `this.showing` based on the\n\t* CSS `display` property.\n\t*\n\t* @private\n\t*/\n\tgetShowing: function () {\n\t\treturn this.showing;\n\t},\n\n\t/**\n\t* @private\n\t*/\n\tshowingChanged: function (inOldValue) {\n\t\t// Accessibility - Before reading the focused item, it must have a alert role for reading the title,\n\t\t// so setAlertRole() must be called before Spotlight.spot\n\t\tif (MoonOptions.accessibility) {\n\t\t\tthis.setAlertRole();\n\t\t}\n\t\tif (this.$.backgroundScrim) {\n\t\t\tthis.$.backgroundScrim.addRemoveClass('visible', this.showing);\n\t\t}\n\t\tif (this.useHandle === true) {\n\t\t\tif (this.showing) {\n\t\t\t\tthis.unstashHandle();\n\t\t\t\tthis._show();\n\t\t\t\tSpotlight.spot(this.getActive());\n\t\t\t}\n\t\t\telse {\n\t\t\t\t// in this case, our display flag will have been set to none so we need to clear\n\t\t\t\t// that even though the showing flag will remain false\n\t\t\t\tthis.applyStyle('display', null);\n\t\t\t\tthis.resetHandleAutoHide();\n\t\t\t\tthis._hide();\n\t\t\t}\n\t\t\tthis.sendShowingChangedEvent(inOldValue);\n\n\t\t\tif (this.$.appClose) this.$.appClose.set('showing', (this.showing && this.hasCloseButton));\n\t\t}\n\t\telse {\n\t\t\tPanels.prototype.showingChanged.apply(this, arguments);\n\t\t}\n\t},\n\n\t/**\n\t* @private\n\t*/\n\tapplyPattern: function () {\n\t\tif (this.pattern != 'alwaysviewing') {\n\t\t\tthis.createChrome(this.applicationTools);\n\t\t\tthis.hasCloseButtonChanged();\n\t\t}\n\t\tswitch (this.pattern) {\n\t\tcase 'alwaysviewing':\n\t\tcase 'activity':\n\t\t\tthis.addClass(this.pattern);\n\t\t\tthis.useHandle = (this.useHandle === 'auto') ? (this.pattern == 'activity' ? false : true) : this.useHandle;\n\t\t\tthis.createChrome(this.handleTools);\n\t\t\tthis.tools = this.animatorTools;\n\t\t\tbreak;\n\t\tdefault:\n\t\t\tthis.useHandle = false;\n\t\t\tthis.createChrome([{name: 'client', kind: Control, tag: null}]);\n\t\t\tbreak;\n\t\t}\n\t},\n\n\t/**\n\t* @private\n\t*/\n\tinitializeShowHideHandle: function () {\n\t\tif (this.useHandle === true) {\n\t\t\tthis.$.showHideHandle.canGenerate = true;\n\t\t\tthis.$.showHideHandle.spotlight = true;\n\t\t}\n\t},\n\n\t/**\n\t* Shows panels with transition from right.\n\t*\n\t* @private\n\t*/\n\t_show: function () {\n\t\tvar init = false;\n\t\tif (!this.hasNode()) {\n\t\t\tinit = true;\n\t\t} else {\n\t\t\tthis.$.showHideHandle.addClass('right');\n\t\t\tthis.applyShowAnimation();\n\t\t}\n\t\tSignals.send('onPanelsShown', {initialization: init, panels: this});\n\t},\n\n\t/**\n\t* Hides panels with transition to right.\n\t*\n\t* @private\n\t*/\n\t_hide: function () {\n\t\tif (!this.hasNode()) {\n\t\t\treturn;\n\t\t}\n\t\tthis.$.showHideHandle.removeClass('right');\n\t\tthis.applyHideAnimation();\n\t\tthis.sendPanelsHiddenSignal();\n\t},\n\n\t/**\n\t* Sets show state without animation.\n\t*\n\t* @private\n\t*/\n\t_directShow: function () {\n\t\tthis.$.showHideHandle.addClass('right');\n\t\tif (this.handleShowing) {\n\t\t\tthis.$.showHideHandle.removeClass('hidden');\n\t\t}\n\t\tthis.applyShowAnimation(true);\n\t},\n\n\t/**\n\t* Sets hide state without animation.\n\t*\n\t* @private\n\t*/\n\t_directHide: function () {\n\t\tthis.$.showHideHandle.addClass('hidden');\n\t\tthis.$.showHideHandle.removeClass('right');\n\t\tthis.applyHideAnimation(true);\n\t\tthis.hideAnimationComplete();\n\t},\n\n\t/**\n\t* @private\n\t*/\n\tapplyShowAnimation: function (direct) {\n\t\tthis.$.clientWrapper.applyStyle('transition', direct ? null : 'transform 0.5s cubic-bezier(0.25, 0.1, 0.25, 1)');\n\t\tthis.$.clientWrapper.applyStyle('-webkit-transition', direct ? null : '-webkit-transform 0.5s cubic-bezier(0.25, 0.1, 0.25, 1)');\n\t\tdom.transform(this.$.clientWrapper, {translateX: 0});\n\t},\n\n\t/**\n\t* @private\n\t*/\n\tapplyHideAnimation: function (direct) {\n\t\tthis.$.clientWrapper.applyStyle('transition', direct ? null : 'transform 0.5s cubic-bezier(0.25, 0.1, 0.25, 1)');\n\t\tthis.$.clientWrapper.applyStyle('-webkit-transition', direct ? null : '-webkit-transform 0.5s cubic-bezier(0.25, 0.1, 0.25, 1)');\n\t\tdom.transform(this.$.clientWrapper, {translateX: '100%'});\n\t},\n\n\t/**\n\t* Hide/show animation complete.\n\t*\n\t* @private\n\t*/\n\tshowHideAnimationComplete: function (sender, event) {\n\t\tswitch (event.animation.name) {\n\t\tcase 'show':\n\t\t\tthis.showAnimationComplete();\n\t\t\treturn true;\n\t\tcase 'hide':\n\t\t\tthis.hideAnimationComplete();\n\t\t\treturn true;\n\t\t}\n\t},\n\n\t/**\n\t* @private\n\t*/\n\tshowAnimationComplete: function () {\n\t\tif (this.handleShowing) {\n\t\t\tthis.$.showHideHandle.removeClass('hidden');\n\t\t}\n\t},\n\n\t/**\n\t* @private\n\t*/\n\thideAnimationComplete: function () {\n\t\tif (this.handleShowing) {\n\t\t\tthis.$.showHideHandle.removeClass('hidden');\n\t\t}\n\t},\n\n\t/**\n\t* @private\n\t*/\n\tanimateChanged: function () {\n\t\tthis.addRemoveClass('moon-composite', this.animate);\n\t},\n\n\t/**\n\t* @private\n\t*/\n\tbackKeyHandler: function (entry) {\n\t\tvar index = entry.index;\n\n\t\tif (this.transitioning) this.queuedIndex = index;\n\t\telse this.setIndex(index);\n\n\t\treturn true;\n\t},\n\n\t/**\n\t* @private\n\t*/\n\thasCloseButtonChanged: function () {\n\t\tif (!this.$.appClose) return;\n\t\tthis.$.appClose.set('showing', (this.showing && this.hasCloseButton));\n\t\tthis.addRemoveClass('has-close-button', this.hasCloseButton);\n\t},\n\n\t/**\n\t* @private\n\t*/\n\tpushBackHistory: function (index) {\n\t\tEnyoHistory.push({\n\t\t\tcontext: this,\n\t\t\thandler: this.backKeyHandler,\n\t\t\tindex: index\n\t\t});\n\n\t\treturn true;\n\t},\n\n\t// Accessibility\n\n\t/**\n\t* @private\n\t*/\n\tariaObservers: [\n\t\t// If panels is hidden and panelsHandle is spotlight blured, also make panelsHandle's dom blur.\n\t\t{path: 'isHandleFocused', method: function () {\n\t\t\tif (this.$.showHideHandle && this.$.showHideHandle.hasNode() && !this.isHandleFocused) {\n\t\t\t\tthis.$.showHideHandle.hasNode().blur();\n\t\t\t}\n\t\t}}\n\t],\n\n\t/**\n\t* @private\n\t*/\n\tsetAlertRole: function () {\n\t\tvar panels = this.getPanels(),\n\t\t\tactive = this.getActive(),\n\t\t\tl = panels.length,\n\t\t\tpanel;\n\n\t\tif (this.$.showHideHandle) {\n\t\t\tif (active && active.title) {\n\t\t\t\tthis.$.showHideHandle.set('accessibilityLabel', (this.showing ? $L('Close') : $L('Open')) + ' ' + active.title);\n\t\t\t} else {\n\t\t\t\tthis.$.showHideHandle.set('accessibilityLabel', this.showing ? $L('Close') : $L('Open'));\n\t\t\t}\n\t\t}\n\n\t\twhile (--l >= 0) {\n\t\t\tpanel = panels[l];\n\t\t\tif (panel instanceof Panel && panel.title) {\n\t\t\t\tpanel.set('accessibilityRole', (panel === active) && this.get('showing') ? 'alert' : 'region');\n\t\t\t}\n\t\t}\n\t}\n\n});\n","require('moonstone');\n\n/**\n* Contains the declaration for the {@link module:moonstone/ExpandableListItem~ExpandableListItem} kind.\n* @module moonstone/ExpandableListItem\n*/\n\nvar\n\tkind = require('enyo/kind'),\n\tComponent = require('enyo/Component'),\n\tControl = require('enyo/Control'),\n\tEnyoHistory = require('enyo/History'),\n\tGroup = require('enyo/Group');\n\nvar\n\tSpotlight = require('spotlight');\n\nvar\n\tHistorySupport = require('../HistorySupport'),\n\tItem = require('../Item');\n\nvar\n\tExpandableListItemHeader = require('./ExpandableListItemHeader'),\n\tExpandableListItemDrawer = require('./ExpandableListItemDrawer');\n\n/**\n* {@link module:moonstone/ExpandableListItem~ExpandableListItem}, which extends {@link module:moonstone/Item~Item}, displays a header\n* while also allowing additional content to be stored in an {@link module:enyo/Drawer~Drawer}. When\n* the header is selected, the drawer opens below. To close the drawer, tap on the\n* header text or navigate (via 5-way) back to the top of the drawer.\n*\n* The control's child components may be of any kind; by default, they are\n* instances of `moonstone/Item`.\n*\n* ```javascript\n* \tvar\n* \t\tkind = require('enyo/kind'),\n* \t\tExpandableListItem = require('moonstone/ExpandableListItem');\n*\n* \t{kind: ExpandableListItem, content: 'A Countries', components: [\n* \t\t{content: 'Algeria'},\n* \t\t{content: 'Argentina'},\n* \t\t{content: 'Australia'}\n* \t]},\n* \t{kind: ExpandableListItem, content: 'B Countries', components: [\n* \t\t{content: 'Belgium'},\n* \t\t{content: 'Bolivia'},\n* \t\t{content: 'Brazil'}\n* \t]}\n* ```\n*\n* When multiple ExpandableListItems are used in a group, only one may be open at\n* a given time.\n*\n* ```javascript\n* \tvar\n* \t\tkind = require('enyo/kind'),\n* \t\tGroup = require('enyo/Group'),\n* \t\tExpandableListItem = require('moonstone/ExpandableListItem');\n*\n* \t{kind: Group, highlander: true, components: [\n* \t\t{kind: ExpandableListItem,  open: true,\n* \t\t\tcontent: 'This is a grouped ExpandableListItem', components: [\n* \t\t\t\t{content: 'Item One'},\n* \t\t\t\t{content: 'Item Two'}\n* \t\t]\n* \t},\n* \t{kind: ExpandableListItem,\n* \t\tcontent: 'This is another grouped ExpandableListItem', components: [\n* \t\t\t{content: 'Item Three'},\n* \t\t\t{content: 'Item Four'}\n* \t\t]\n* \t},\n* \t{kind: ExpandableListItem,\n* \t\tcontent: 'This is yet another grouped ExpandableListItem', components: [\n* \t\t\t{content: 'Item Five'},\n* \t\t\t{content: 'Item Six'}\n* \t\t]\n* \t}\n* ```\n*\n* @class ExpandableListItem\n* @extends module:enyo/Control~Control\n* @ui\n* @public\n*/\nmodule.exports = kind(\n\t/** @lends module:moonstone/ExpandableListItem~ExpandableListItem.prototype */ {\n\n\t/**\n\t* @private\n\t*/\n\tname: 'moon.ExpandableListItem',\n\n\t/**\n\t* @private\n\t*/\n\tkind: Control,\n\n\t/**\n\t* @private\n\t*/\n\tmixins: [HistorySupport],\n\n\t/**\n\t* @private\n\t* @lends module:moonstone/ExpandableListItem~ExpandableListItem.prototype\n\t*/\n\tpublished: {\n\n\t\t/**\n\t\t* If `true`, the drawer automatically closes when the user navigates to the top of the\n\t\t* control; if `false`, the user must select/tap the header to close the drawer.\n\t\t*\n\t\t* @type {Boolean}\n\t\t* @default false\n\t\t* @public\n\t\t*/\n\t\tautoCollapse: false,\n\n\t\t/**\n\t\t* If `true`, the drawer is expanded, showing this item's contents. Use this property\n\t\t* (rather than [active]{@link module:moonstone/ExpandableListItem~ExpandableListItem#active}) to set the item's\n\t\t* initial state.\n\t\t*\n\t\t* @type {Boolean}\n\t\t* @default false\n\t\t* @public\n\t\t*/\n\t\topen: false,\n\n\t\t/**\n\t\t* Boolean that reflects the value of the [open]{@link module:moonstone/ExpandableListItem~ExpandableListItem#open}\n\t\t* property; it is used to support the {@link module:enyo/Group~Group} API for grouping a set of\n\t\t* ExpandableListItems in which only one is expanded at a time. Note that the `open`\n\t\t* property (not the `active` property) controls the initial state of the picker.\n\t\t*\n\t\t* @type {Boolean}\n\t\t* @default false\n\t\t* @public\n\t\t*/\n\t\tactive: false,\n\n\t\t/**\n\t\t* If `true`, the user is prevented from moving {@glossary Spotlight} past the bottom\n\t\t* of the drawer (when open) using 5-way controls.\n\t\t*\n\t\t* @type {Boolean}\n\t\t* @default false\n\t\t* @public\n\t\t*/\n\t\tlockBottom: false,\n\n\t\t/**\n\t\t* If `true`, item is shown as disabled and does not generate tap events.\n\t\t*\n\t\t* @type {Boolean}\n\t\t* @default false\n\t\t* @public\n\t\t*/\n\t\tdisabled: false\n\t},\n\n\t/**\n\t* @private\n\t*/\n\tclasses: 'moon-expandable-list-item',\n\n\t/**\n\t* @private\n\t*/\n\tspotlight: 'container',\n\n\t/**\n\t* @private\n\t*/\n\tdefaultKind: Item,\n\n\t/**\n\t* This is used to track whether or not we have pushed a history entry for ourselves.\n\t*\n\t* @private\n\t*/\n\thasHistoryEntry: false,\n\n\t/**\n\t* @private\n\t*/\n\thandlers: {\n\t\tonSpotlightContainerEnter: 'addHistoryEntry',\n\t\tonSpotlightContainerLeave: 'removeHistoryEntry'\n\t},\n\n\t/**\n\t* @private\n\t*/\n\tdrawerComponents: [\n\t\t{name: 'client', kind: Group, tag: null}\n\t],\n\n\t/**\n\t* @private\n\t*/\n\tcomponents: [\n\t\t{name: 'header', kind: ExpandableListItemHeader, ontap: 'headerTapped'},\n\t\t{name: 'drawer', kind: ExpandableListItemDrawer, resizeContainer: false, classes: 'moon-expandable-list-item-client', defaultSpotlightUp: 'header', onSpotlightUp: 'drawerSpotUp', onSpotlightDown: 'drawerSpotDown', onDrawerAnimationEnd: 'drawerAnimationEnd'}\n\t],\n\n\t/**\n\t* @private\n\t*/\n\tbindings: [\n\t\t{from: 'active', to: 'open'},\n\t\t{from: 'allowHtml', to: '$.header.allowHtml'},\n\t\t{from: 'disabled', to: '$.header.disabled'},\n\t\t{from: 'content', to: '$.header.label'},\n\t\t{from: 'currentValueShowing', to: '$.header.textShowing'},\n\t\t{from: 'currentValueText', to: '$.header.text'},\n\n\t\t// Accessibility\n\t\t{from: 'accessibilityHint', to: '$.header.accessibilityHint'},\n\t\t{from: 'accessibilityLabel', to: '$.header.accessibilityLabel'},\n\t\t{from: 'accessibilityDisabled', to: '$.header.accessibilityDisabled'}\n\t],\n\n\t/**\n\t* @private\n\t*/\n\tcomputed: {\n\t\t'currentValueShowing': ['open', 'currentValueText'],\n\t\t'currentValueText': ['value']\n\t},\n\n\t/**\n\t* @private\n\t*/\n\tcreate: function () {\n\t\tControl.prototype.create.apply(this, arguments);\n\t\tthis.openChanged();\n\t\tthis.disabledChanged();\n\t\tthis.notifyObservers('value');\n\t},\n\n\t/**\n\t* @private\n\t*/\n\tinitComponents: function () {\n\t\tvar override = {drawer: {components: this.drawerComponents}};\n\t\tthis.kindComponents = Component.overrideComponents(this.kindComponents, override);\n\t\tControl.prototype.initComponents.apply(this, arguments);\n\t},\n\n\t/**\n\t* Facade for drawer.\n\t*\n\t* @private\n\t*/\n\topenChanged: function () {\n\t\tvar open = this.open;\n\t\tthis.bubble('onActivate', {allowHighlanderDeactivate: true});\n\t\tthis.addRemoveClass('open', open);\n\t\tthis.$.drawer.set('open', open);\n\t\tthis.$.drawer.spotlightDisabled = !open;\n\t\tthis.set('active', open);\n\t},\n\n\t/**\n\t* @fires module:enyo/GroupItem~GroupItem#onActivate\n\t* @private\n\t*/\n\tactiveChanged: function () {\n\t\tthis.bubble('onActivate', {allowHighlanderDeactivate:true});\n\t\tthis.set('open', this.active);\n\t},\n\n\t/**\n\t* @private\n\t*/\n\tdisabledChanged: function () {\n\t\tvar disabled = this.disabled;\n\n\t\tthis.addRemoveClass('disabled', disabled);\n\t\tif (disabled) {\n\t\t\tthis.set('active', false);\n\t\t}\n\t},\n\n\t/**\n\t* Returns `true` if the current value control should be displayed.\n\t*\n\t* Note: ExpandableListItem doesn't support currentValue but its subkinds do\n\t*\n\t* @private\n\t*/\n\tcurrentValueShowing: function () {\n\t\tvar text = this.get('currentValueText');\n\t\t// If drawer is open or value is blank, don't bother to show the value.\n\t\treturn (!this.open && (text || text === 0));\n\t},\n\n\t/**\n\t* Returns the text to be displayed within the current value control\n\t*\n\t* Note: ExpandableListItem doesn't support currentValue but its subkinds do\n\t*\n\t* @private\n\t*/\n\tcurrentValueText: function () {\n\t\treturn '';\n\t},\n\n\t/**\n\t* If closed, opens drawer and highlights first spottable child.\n\t*\n\t* @private\n\t*/\n\texpandContract: function () {\n\t\tif (this.open) {\n\t\t\tthis.closeDrawerAndHighlightHeader();\n\t\t} else {\n\t\t\tthis.toggleActive();\n\t\t\tif (!Spotlight.getPointerMode() && !Spotlight.isFrozen()) {\n\t\t\t\tvar first = Spotlight.getFirstChild(this.$.drawer);\n\t\t\t\tSpotlight.spot(first);\n\t\t\t}\n\t\t\t// As we could have entered the expandable when it was closed, we need to explicitly add\n\t\t\t// the history entry when it is opened.\n\t\t\tthis.addHistoryEntry();\n\t\t}\n\t},\n\n\t/**\n\t* @private\n\t*/\n\ttoggleActive: function () {\n\t\tthis.set('active', !this.open);\n\t},\n\n\t/**\n\t* @private\n\t*/\n\tcloseDrawerAndHighlightHeader: function () {\n\t\tvar current = Spotlight.getPointerMode() ? Spotlight.getLastControl() : Spotlight.getCurrent();\n\n\t\tthis.removeHistoryEntry();\n\n\t\t// If the spotlight is elsewhere, we don't want to hijack it (e.g. after the delay in\n\t\t// ExpandablePicker)\n\t\tif (!current || current.isDescendantOf(this)) {\n\t\t\tSpotlight.spot(this.$.header);\n\t\t}\n\t\tthis.set('active', false);\n\t},\n\n\t/**\n\t* @private\n\t*/\n\tdrawerSpotUp: function (sender, ev) {\n\t\tif (this.autoCollapse && ev.originator == this.$.drawer) {\n\t\t\tthis.closeDrawerAndHighlightHeader();\n\t\t\treturn true;\n\t\t}\n\t},\n\n\t/**\n\t* @private\n\t*/\n\tdrawerSpotDown: function (sender, ev) {\n\t\tif (this.lockBottom && ev.originator == this.$.drawer && ev._originator) {\n\t\t\t// Spotlight containers redispatch 5-way events with the original event originator\n\t\t\t// saved as _originator which we'll use to respot if lockBottom === true\n\t\t\tSpotlight.spot(ev._originator, {direction: 'DOWN'});\n\t\t\treturn true;\n\t\t}\n\t},\n\n\t/**\n\t* @protected\n\t*/\n\taddHistoryEntry: function () {\n\t\tif (this.allowBackKey && !this.hasHistoryEntry && this.open) {\n\t\t\tthis.pushBackHistory();\n\t\t\tthis.hasHistoryEntry = true;\n\t\t}\n\t},\n\n\t/**\n\t* @protected\n\t*/\n\tremoveHistoryEntry: function () {\n\t\tif (this.allowBackKey && this.hasHistoryEntry) {\n\t\t\tEnyoHistory.drop();\n\t\t\tthis.hasHistoryEntry = false;\n\t\t}\n\t},\n\n\t/**\n\t* @private\n\t*/\n\theaderTapped: function (sender, ev) {\n\t\tthis.expandContract();\n\t},\n\n\t/**\n\t* When an expandable is in a group, we only want the opening control to scroll into view so that\n\t* event only fires when the drawer is open. Otherwise, we just request the scroller update its\n\t* bounds so that an expandable at the bottom of a scroller does not leave extra whitespace when\n\t* it closes.\n\t*\n\t* @fires module:moonstone/Scroller~Scroller#onRequestScrollIntoView\n\t* @fires module:moonstone/Scroller~Scroller#onRequestSetupBounds\n\t* @private\n\t*/\n\tdrawerAnimationEnd: function () {\n\t\tif (this.$.drawer.open) {\n\t\t\tthis.bubble('onRequestScrollIntoView', {scrollInPointerMode: true});\n\t\t} else {\n\t\t\tthis.bubble('onRequestSetupBounds');\n\t\t}\n\t\treturn true;\n\t},\n\n\t/**\n\t* @private\n\t*/\n\tbackKeyHandler: function () {\n\t\tvar current = Spotlight.getCurrent();\n\n\t\tthis.hasHistoryEntry = false;\n\n\t\t// In the case where Spotlight focus is not on one of the items in the expandable, but there\n\t\t// was still an entry history from this control, we must be in a situation where the pointer\n\t\t// has moved away from the control and we have yet to spot another item. We should then\n\t\t// effectively \"pass on\" the back action by calling the \"pop\" method of History.\n\t\tif (current && current.isDescendantOf(this)) {\n\t\t\tthis.closeDrawerAndHighlightHeader();\n\t\t} else {\n\t\t\tEnyoHistory.pop();\n\t\t}\n\n\t\treturn true;\n\t},\n\n\t// Accessibility\n\n\t/**\n\t* ExpandableListItem has not spotlight, its child (this.$.header) is spottable item,\n\t* so we remove unneccessary aria-related attributes.\n\t*\n\t* @private\n\t*/\n\tariaObservers: [\n\t\t{path: ['accessibilityLabel', 'accessibilityHint'], method: function () {\n\t\t\tthis.setAriaAttribute('aria-label', null);\n\t\t}}\n\t]\n});\n","require('moonstone');\n\n/**\n* Contains the declaration for the {@link module:moonstone/ExpandablePicker~ExpandablePicker} kind.\n* @module moonstone/ExpandablePicker\n*/\n\nvar\n\tkind = require('enyo/kind'),\n\tComponent = require('enyo/Component'),\n\tGroup = require('enyo/Group');\n\nvar\n\tBodyText = require('../BodyText'),\n\tCheckboxItem = require('../CheckboxItem'),\n\tExpandableListItem = require('../ExpandableListItem');\n\n/**\n* Fires when the currently selected item changes.\n*\n* @event module:moonstone/ExpandablePicker~ExpandablePicker#onChange\n* @type {Object}\n* @property {Object|Object[]} selected - A reference to the currently selected item,\n*\tor (if [multipleSelection]{@link module:moonstone/ExpandablePicker~ExpandablePicker#multipleSelection} is `true`),\n*\tan array of selected items.\n* @property {String} content - The content of the currently selected item, or (if\n*\t[multipleSelection]{@link module:moonstone/ExpandablePicker~ExpandablePicker#multipleSelection} is `true`), a comma\n*\t(plus space) separated list of the selected items' content.\n* @property {Number} index - The index of the currently selected item, or (if\n*\t[multipleSelection]{@link module:moonstone/ExpandablePicker~ExpandablePicker#multipleSelection} is `true`), an array\n* of the index values of the selected items.\n* @public\n*/\n\n/**\n* {@link module:moonstone/ExpandablePicker~ExpandablePicker}, which extends\n* {@link module:moonstone/ExpandableListItem~ExpandableListItem}, is a drop-down\n* picker menu that solicits a choice from the user. The picker's child\n* components, which are instances of {@link module:moonstone/CheckboxItem~CheckboxItem}\n* by default, provide the options for the picker.\n*\n* ```javascript\n* \tvar\n* \t\tkind = require('enyo/kind'),\n* \t\tExpandablePicker = require('moonstone/ExpandablePicker');\n*\n* \t{kind: ExpandablePicker, noneText: 'None Selected', content: 'Choose City',\n* \t\tcomponents: [\n* \t\t\t{content: 'San Francisco'},\n* \t\t\t{content: 'Boston'},\n* \t\t\t{content: 'Tokyo'}\n* \t\t]\n* \t}\n* ```\n*\n* The currently selected item is available in the picker's\n* [selected]{@link module:moonstone/ExpandablePicker~ExpandablePicker#selected} property and may be accessed in\n* the normal manner, by calling `get('selected')` and `set('selected', <value>)`.\n* Similarly, the index of the current selection is available in\n* [selectedIndex]{@link module:moonstone/ExpandablePicker~ExpandablePicker#selectedIndex}. When the\n* [multipleSelection]{@link module:moonstone/ExpandablePicker~ExpandablePicker#multipleSelection} property is set\n* to `true`, `selected` contains an array of selected items, and `selectedIndex`\n* contains an array of the selected items' index values.\n*\n* The [onChange]{@link module:moonstone/ExpandablePicker~ExpandablePicker#onChange} event is fired when the\n* selected item changes.\n*\n* The picker's options may be modified programmatically in the standard manner, by\n* calling `createComponent().render()` or `destroy()`.\n*\n* ```javascript\n* \t// Add new items to picker\n* \tthis.$.expandablePicker.createComponent({'New York'}).render();\n* \tthis.$.expandablePicker.createComponent({'London'}).render();\n*\n* \t// Remove currently selected item from picker\n* \tthis.$.expandablePicker.getSelected().destroy();\n* ```\n*\n* When the picker is minimized, the content of the currently selected item is\n* displayed as subtext below the picker label. If multiple selection is enabled,\n* the content of all selected items will be displayed as a comma-separated list.\n*\n* @class ExpandablePicker\n* @extends module:moonstone/ExpandableListItem~ExpandableListItem\n* @ui\n* @public\n*/\nmodule.exports = kind(\n\t/** @lends module:moonstone/ExpandablePicker~ExpandablePicker.prototype */ {\n\n\t/**\n\t* @private\n\t*/\n\tname: 'moon.ExpandablePicker',\n\n\t/**\n\t* @private\n\t*/\n\tkind: ExpandableListItem,\n\n\t/**\n\t* @private\n\t*/\n\tclasses: 'moon-expandable-picker',\n\n\t/**\n\t* @private\n\t*/\n\tevents: {\n\t\t/**\n\t\t* {@link module:moonstone/ExpandablePicker~ExpandablePicker#onChange}\n\t\t*/\n\t\tonChange: ''\n\t},\n\n\t/**\n\t* @private\n\t* @lends module:moonstone/ExpandablePicker~ExpandablePicker.prototype\n\t*/\n\tpublished: {\n\n\t\t/**\n\t\t* Reference to currently selected item, if any, or (when\n\t\t* [multipleSelection]{@link module:moonstone/ExpandablePicker~ExpandablePicker#multipleSelection} is `true`),\n\t\t* an array of selected items.\n\t\t*\n\t\t* @type {Object | Object[]}\n\t\t* @default null\n\t\t* @public\n\t\t*/\n\t\tselected: null,\n\n\t\t/**\n\t\t* Index of the currently selected item, or `-1` if nothing is selected. If\n\t\t* [multipleSelection]{@link module:moonstone/ExpandablePicker~ExpandablePicker#multipleSelection} is `true`,\n\t\t* this will be array of the selected items' index values, or an empty array if\n\t\t* nothing is selected.\n\t\t*\n\t\t* @type {Number | Number[]}\n\t\t* @default -1\n\t\t* @public\n\t\t*/\n\t\tselectedIndex: -1,\n\n\t\t/**\n\t\t* Text to be displayed as the current value if no item is currently selected.\n\t\t*\n\t\t* @type {String}\n\t\t* @default ''\n\t\t* @public\n\t\t*/\n\t\tnoneText: '',\n\n\t\t/**\n\t\t* Text to be displayed when the drawer is opened.\n\t\t*\n\t\t* @type {String}\n\t\t* @default null\n\t\t* @public\n\t\t*/\n\t\thelpText: null,\n\n\t\t/**\n\t\t* If `true`, picker auto-collapses when an item is selected.\n\t\t*\n\t\t* @type {Boolean}\n\t\t* @default true\n\t\t* @public\n\t\t*/\n\t\tautoCollapseOnSelect: true,\n\n\t\t/**\n\t\t* If `true`, multiple selection is allowed.\n\t\t*\n\t\t* @type {Boolean}\n\t\t* @default false\n\t\t* @public\n\t\t*/\n\t\tmultipleSelection: false\n\t},\n\n\t/**\n\t* @private\n\t*/\n\tautoCollapse: true,\n\n\t/**\n\t* @private\n\t*/\n\tlockBottom: true,\n\n\t/**\n\t* @private\n\t*/\n\tdefaultKind: CheckboxItem,\n\n\t/**\n\t* @private\n\t*/\n\tselectAndCloseDelayMS: 600,\n\n\t/**\n\t* @private\n\t*/\n\tdrawerComponents: [\n\t\t{name: 'client', tag: null, kind: Group, onActivate: 'activated', highlander: true},\n\t\t{name: 'helpText', kind: BodyText, canGenerate: false, classes: 'moon-expandable-picker-help-text'}\n\t],\n\n\tbindings: [\n\t\t{from: 'selected.content', to: 'selectedText'},\n\n\t\t// Accessibility\n\t\t{from: 'selected.accessibilityLabel', to: '$.header._accessibilityText'}\n\t],\n\n\tcomputed: {\n\t\t'currentValueText': ['selected', 'noneText', 'selectedText']\n\t},\n\n\t/**\n\t* @private\n\t*/\n\tcreate: function() {\n\t\tif (this.multipleSelection) {\n\t\t\tthis.selected = (this.selected) ? this.selected : [];\n\t\t\tthis.selectedIndex = (this.selectedIndex != -1) ? this.selectedIndex : [];\n\t\t}\n\t\t// super initialization\n\t\tExpandableListItem.prototype.create.apply(this, arguments);\n\n\t\tthis.selectedIndexChanged();\n\t\tthis.helpTextChanged();\n\t},\n\n\t/**\n\t* @private\n\t*/\n\tinitComponents: function() {\n\t\tvar override = {client: {highlander: !this.multipleSelection}};\n\t\tthis.drawerComponents = Component.overrideComponents(this.drawerComponents, override);\n\t\tExpandableListItem.prototype.initComponents.apply(this, arguments);\n\t},\n\n\t/**\n\t*  'multiSelectCurrentValue()' can be overridden by subkinds, such as moon.DayPicker\n\t*\n\t* @protected\n\t*/\n\tmultiSelectCurrentValue: function () {\n\t\tif (!this.multipleSelection) {\n\t\t\treturn;\n\t\t}\n\t\tvar controls = this.getCheckboxControls();\n\t\tvar str = '';\n\t\tthis.selectedIndex.sort();\n\t\tfor (var i=0; i < this.selectedIndex.length; i++) {\n\t\t\tif (!str) {\n\t\t\t\tstr = controls[this.selectedIndex[i]].getContent();\n\t\t\t} else {\n\t\t\t\tstr = str + ', ' + controls[this.selectedIndex[i]].getContent();\n\t\t\t}\n\t\t}\n\t\tif (!str) {\n\t\t\tstr = this.getNoneText();\n\t\t}\n\t\treturn str;\n\t},\n\n\t/**\n\t* When the [selected]{@link module:moonstone/ExpandablePicker~ExpandablePicker#selected} control changes,\n\t* updates [checked]{@link module:moonstone/CheckboxItem~CheckboxItem#checked} values appropriately and\n\t* fires an [onChange]{@link module:moonstone/ExpandablePicker~ExpandablePicker#onChange} event.\n\t*\n\t* @fires module:moonstone/ExpandablePicker~ExpandablePicker#onChange\n\t* @private\n\t*/\n\tselectedChanged: function (inOldValue) {\n\t\tvar selected = this.getSelected(),\n\t\tcontrols = this.getCheckboxControls(),\n\t\tindex = -1,\n\t\ti; //declaring i here to fix travis error\n\n\t\tif (this.multipleSelection) {\n\t\t\tthis.rebuildSelectedIndices(selected, controls);\n\t\t\tif(this.hasNode()) {\n\t\t\t\tthis.fireChangeEvent();\n\t\t\t}\n\t\t} else {\n\t\t\tfor (i=0;i<controls.length;i++) {\n\t\t\t\tif(controls[i] === selected) {\n\t\t\t\t\tcontrols[i].setChecked(true);\n\t\t\t\t\tindex = i;\n\t\t\t\t} else if (controls[i].checked) {\n\t\t\t\t\tcontrols[i].silence();\n\t\t\t\t\tcontrols[i].setChecked(false);\n\t\t\t\t\tcontrols[i].unsilence();\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (index > -1 && selected !== inOldValue) {\n\t\t\t\tthis.setSelectedIndex(index);\n\t\t\t\tif(this.hasNode()) {\n\t\t\t\t\tthis.fireChangeEvent();\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t},\n\n\t/**\n\t* When the {@link module:moonstone/ExpandablePicker~ExpandablePicker#selectedIndex} changes, calls\n\t* `setChecked()` on the appropriate control.\n\t*\n\t* @private\n\t*/\n\tselectedIndexChanged: function () {\n\t\tvar controls = this.getCheckboxControls(),\n\t\t\tindex = this.getSelectedIndex(),\n\t\t\tchecked;\n\n\t\tif (this.multipleSelection) {\n\t\t\tfor (var i = 0; i < controls.length; i++) {\n\t\t\t\tchecked = index.indexOf(i) >= 0;\n\t\t\t\tcontrols[i].setChecked(checked);\n\t\t\t}\n\t\t} else {\n\t\t\tthis.set('selected', index >= 0 ? controls[index] : null);\n\t\t}\n\t},\n\n\t/**\n\t* If there is no selected item, uses [noneText]{link @moon.ExpandablePicker#noneText}\n\t* as current value.\n\t*\n\t* @private\n\t*/\n\tcurrentValueText: function () {\n\t\tvar multi = this.multipleSelection,\n\t\t\tsel = this.get('selected'),\n\t\t\tselIdx = this.get('selectedIndex');\n\n\t\tif (multi && sel.length && selIdx.length) {\n\t\t\treturn this.multiSelectCurrentValue();\n\t\t}\n\t\telse if (!multi && sel && selIdx !== -1) {\n\t\t\treturn sel.get('content');\n\t\t}\n\t\treturn this.noneText;\n\t},\n\n\t/**\n\t* When drawer is opened/closed, shows/hides `this.$.helpText`.\n\t*\n\t* @private\n\t*/\n\thelpTextChanged: function () {\n\t\tif (this.helpText !== null && !this.$.helpText.canGenerate) {\n\t\t\tthis.generateHelpText();\n\t\t}\n\t\tthis.$.helpText.setContent(this.helpText);\n\t\tthis.$.helpText.setShowing(!!this.helpText);\n\t},\n\n\t/**\n\t* @method\n\t* @private\n\t*/\n\tdestroy: function () {\n\t\t// When the expandablePicker itself is going away, take note so we don't try and do\n\t\t// single-picker option remove logic such as setting some properties to default\n\t\t// value when each picker option is destroyed\n\t\tthis.destroying = true;\n\t\tExpandableListItem.prototype.destroy.apply(this, arguments);\n\t},\n\n\t/**\n\t* @method\n\t* @private\n\t*/\n\trebuildSelectedIndices: function(selected, controls) {\n\t\tthis.selectedIndex = [];\n\t\tselected = selected || this.getSelected();\n\t\tcontrols = controls || this.getCheckboxControls();\n\n\t\tfor (var i = 0; i < controls.length; i++) {\n\t\t\tif (selected.indexOf(controls[i]) >= 0) {\n\t\t\t\tcontrols[i].setChecked(true);\n\t\t\t\tthis.selectedIndex.push(i);\n\t\t\t} else {\n\t\t\t\tcontrols[i].silence();\n\t\t\t\tcontrols[i].setChecked(false);\n\t\t\t\tcontrols[i].unsilence();\n\t\t\t}\n\t\t}\n\t},\n\n\t/**\n\t* @method\n\t* @private\n\t*/\n\tremoveControl: function (inControl) {\n\t\tvar selectedChanged = false;\n\t\t// Skip extra work during panel destruction.\n\t\tif (!this.destroying) {\n\t\t\t// set currentValue, selected and selectedIndex to defaults value\n\t\t\tif (this.multipleSelection) {\n\t\t\t\tfor (var i = 0; i < this.selected.length; i++) {\n\t\t\t\t\tif (this.selected[i] === inControl) {\n\t\t\t\t\t\tthis.selected.splice(i, 1);\n\t\t\t\t\t\tselectedChanged = true;\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tif (selectedChanged) {\n\t\t\t\t\tthis.notifyObservers('selected');\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tif (this.selected === inControl) {\n\t\t\t\t\tthis.setSelected(null);\n\t\t\t\t\tthis.setSelectedIndex(-1);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tExpandableListItem.prototype.removeControl.apply(this, arguments);\n\t},\n\n\t/**\n\t* @private\n\t*/\n\tgenerateHelpText: function () {\n\t\tthis.$.helpText.canGenerate = true;\n\t\tthis.$.helpText.render();\n\t},\n\n\t/**\n\t* When an item is chosen, marks it as checked and closes the picker.\n\t*\n\t* @private\n\t*/\n\tactivated: function (inSender, inEvent) {\n\t\tvar toggledControl = inEvent && inEvent.toggledControl, index;\n\n\t\tif (!toggledControl) {\n\t\t\treturn;\n\t\t}\n\n\t\tindex = this.getCheckboxControls().indexOf(toggledControl);\n\n\t\tif (this.multipleSelection) {\n\t\t\tif (index >= 0) {\n\t\t\t\t// if toggledControl is checked but it is out of this.selected, them push it\n\t\t\t\tif (inEvent.checked && (this.selected.indexOf(toggledControl) == -1)) {\n\t\t\t\t\tthis.selected.push(toggledControl);\n\t\t\t\t\tthis.notifyObservers('selected');\n\t\t\t\t}\n\t\t\t\t// if toggledControl is not checked but it is in this.selected, them pull it out\n\t\t\t\tif (!inEvent.checked && (this.selected.indexOf(toggledControl) >= 0)) {\n\t\t\t\t\tthis.selected.splice(this.selected.indexOf(toggledControl), 1);\n\t\t\t\t\tthis.notifyObservers('selected');\n\t\t\t\t}\n\t\t\t}\n\t\t} else {\n\t\t\tif (inEvent.checked && index >= 0) {\n\t\t\t\tthis.setSelected(toggledControl);\n\t\t\t}\n\t\t}\n\n\t\tif (this.getAutoCollapseOnSelect() && this.$.drawer.hasRendered && this.getOpen()) {\n\t\t\t// this is needed due to the select and close delay, during which other history entries\n\t\t\t// could have been pushed - we drop the entry immediately to prevent dropping the wrong\n\t\t\t// entry later\n\t\t\tthis.removeHistoryEntry();\n\n\t\t\tthis.startJob('selectAndClose', 'expandContract', this.selectAndCloseDelayMS);\n\t\t}\n\n\t\treturn true;\n\t},\n\n\t/**\n\t* @private\n\t*/\n\topenChanged: function () {\n\t\tExpandableListItem.prototype.openChanged.apply(this, arguments);\n\t\t// cancel the job so the drawer isn't opened/closed inadvertently\n\t\tthis.stopJob('selectAndClose');\n\t},\n\n\t/**\n\t* Returns the picker items. Override point for child kinds altering the source of the items.\n\t*\n\t* @private\n\t*/\n\tgetCheckboxControls: function () {\n\t\treturn this.getClientControls();\n\t},\n\n\t/**\n\t* Fires an `onChange` event.\n\t*\n\t* @fires module:moonstone/ExpandablePicker~ExpandablePicker#onChange\n\t* @private\n\t*/\n\tfireChangeEvent: function () {\n\t\tvar contentStr = (this.multipleSelection) ? this.multiSelectCurrentValue() : this.getSelected().getContent();\n\t\tthis.doChange({\n\t\t\tselected: this.getSelected(),\n\t\t\tcontent: contentStr,\n\t\t\tindex: this.getSelectedIndex()\n\t\t});\n\t},\n\n\t/**\n\t* @private\n\t*/\n\tmultipleSelectionChanged: function (inOldValue) {\n\t\tif (this.multipleSelection) {\n\t\t\tif (this.selected) {\n\t\t\t\tthis.selected = [this.selected];\n\t\t\t} else {\n\t\t\t\tthis.selected = [];\n\t\t\t}\n\t\t\tthis.selectedIndex = [];\n\t\t} else {\n\t\t\tthis.selected = (this.selected.length) ? this.selected[0] : null;\n\t\t\tthis.selectedIndex = -1;\n\t\t}\n\t\tthis.$.client.setHighlander(!this.multipleSelection);\n\t\tthis.notifyObservers('selected');\n\t},\n\n\t// Accessibility\n\n\t/**\n\t* @private\n\t*/\n\tariaObservers: [\n\t\t{path: 'multipleSelection', method: function () {\n\t\t\tthis.$.header.setAriaAttribute('aria-multiselectable', this.multipleSelection);\n\t\t}}\n\t]\n});\n"]}